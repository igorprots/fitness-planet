"use strict";!function(e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:e()}(function(){function d(e){return e[K]||(e[K]={})}function i(e,t,n,i){function o(e){n(e,i)}t=t.split(x);for(var a,c=d(e),r=t.length;r--;)(c[a=t[r]]||(c[a]=[])).push([n,o]),e.addEventListener(a,o)}function c(e,t,n){t=t.split(x);var i,o,a,c=d(e),r=t.length;if(c)for(;r--;)if(o=c[i=t[r]])for(a=o.length;a--;)o[a][0]===n&&(e.removeEventListener(i,o[a][1]),o.splice(a,1))}function p(e,t,n){var i=new CustomEvent(t,j);n&&b(i,n),e.dispatchEvent(i)}function t(e){function t(e){i?(n(),T(t),i=!(o=!0)):o=!1}var n=e,i=!1,o=!1;this.kick=function(e){i=!0,o||t()},this.end=function(e){var t=n;e&&(o?(n=i?function(){t(),e()}:e,i=!0):e())}}function h(){}function r(e){e.preventDefault()}function u(e,t){var n,i;if(e.identifiedTouch)return e.identifiedTouch(t);for(n=-1,i=e.length;++n<i;)if(e[n].identifier===t)return e[n]}function s(e,t){var n=u(e.changedTouches,t.identifier);if(n&&(n.pageX!==t.pageX||n.pageY!==t.pageY))return n}function n(e,t){l(e,t,e,a)}function o(e,t){a()}function a(){c(document,k.move,n),c(document,k.cancel,o)}function v(e){c(document,S.move,e.touchmove),c(document,S.cancel,e.touchend)}function l(e,t,n,i){var o,a,c,r,d,u,s,v,l,f=n.pageX-t.pageX,m=n.pageY-t.pageY;f*f+m*m<_*_||(a=t,c=n,r=f,d=m,u=i,s=(o=e).targetTouches,v=o.timeStamp-a.timeStamp,l={altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,startX:a.pageX,startY:a.pageY,distX:r,distY:d,deltaX:r,deltaY:d,pageX:c.pageX,pageY:c.pageY,velocityX:r/v,velocityY:d/v,identifier:a.identifier,targetTouches:s,finger:s?s.length:1,enableMove:function(){this.moveEnabled=!0,this.enableMove=h,o.preventDefault()}},p(a.target,"movestart",l),u(a))}function f(e,t){var n=t.timer;t.touch=e,t.timeStamp=e.timeStamp,n.kick()}function m(e,t){var n=t.target,i=t.event,o=t.timer;c(document,k.move,f),c(document,k.end,m),g(n,i,o,function(){setTimeout(function(){c(n,"click",r)},0)})}function w(e,t){var n,i=t.target,o=t.event,a=t.timer;u(e.changedTouches,o.identifier)&&(n=t,c(document,S.move,n.activeTouchmove),c(document,S.end,n.activeTouchend),g(i,o,a))}function g(e,t,n,i){n.end(function(){return p(e,"moveend",t),i&&i()})}function e(e){e.enableMove()}function y(e){e.enableMove()}function X(e){e.enableMove()}function Y(e){var i=e.handler;e.handler=function(e){for(var t,n=M.length;n--;)e[t=M[n]]=e.originalEvent[t];i.apply(this,arguments)}}var b=Object.assign||window.jQuery&&jQuery.extend,_=8,T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)};function C(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(C.prototype=window.Event.prototype,window.CustomEvent=C);var E={textarea:!0,input:!0,select:!0,button:!0},k={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},S={move:"touchmove",cancel:"touchend",end:"touchend"},x=/\s+/,j={bubbles:!0,cancelable:!0},K="function"==typeof Symbol?Symbol("events"):{};if(i(document,"mousedown",function(e){var t;1!==(t=e).which||t.ctrlKey||t.altKey||(E[e.target.tagName.toLowerCase()]||(i(document,k.move,n,e),i(document,k.cancel,o,e)))}),i(document,"touchstart",function(e){if(!E[e.target.tagName.toLowerCase()]){var t=e.changedTouches[0],n={target:t.target,pageX:t.pageX,pageY:t.pageY,identifier:t.identifier,touchmove:function(e,t){var n,i,o;(o=s(n=e,i=t))&&l(n,i,o,v)},touchend:function(e,t){var n;n=t,u(e.changedTouches,n.identifier)&&v(n)}};i(document,S.move,n.touchmove,n),i(document,S.cancel,n.touchend,n)}}),i(document,"movestart",function(e){if(!e.defaultPrevented&&e.moveEnabled){var a={startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},c={target:e.target,event:a,timer:new t(function(e){var t,n,i,o;t=a,n=c.touch,i=c.timeStamp,o=i-t.timeStamp,t.distX=n.pageX-t.startX,t.distY=n.pageY-t.startY,t.deltaX=n.pageX-t.pageX,t.deltaY=n.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/o,t.velocityY=.3*t.velocityY+.7*t.deltaY/o,t.pageX=n.pageX,t.pageY=n.pageY,p(c.target,"move",a)}),touch:void 0,timeStamp:e.timeStamp};void 0===e.identifier?(i(e.target,"click",r),i(document,k.move,f,c),i(document,k.end,m,c)):(c.activeTouchmove=function(e,t){var n,i,o,a,c;n=e,o=(i=t).event,a=i.timer,(c=s(n,o))&&(n.preventDefault(),o.targetTouches=n.targetTouches,i.touch=c,i.timeStamp=n.timeStamp,a.kick())},c.activeTouchend=function(e,t){w(e,t)},i(document,S.move,c.activeTouchmove,c),i(document,S.end,c.activeTouchend,c))}}),window.jQuery){var M="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");jQuery.event.special.movestart={setup:function(){return i(this,"movestart",e),!1},teardown:function(){return c(this,"movestart",e),!1},add:Y},jQuery.event.special.move={setup:function(){return i(this,"movestart",y),!1},teardown:function(){return c(this,"movestart",y),!1},add:Y},jQuery.event.special.moveend={setup:function(){return i(this,"movestart",X),!1},teardown:function(){return c(this,"movestart",X),!1},add:Y}}}),function(X){X.fn.twentytwenty=function(y){y=X.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},y);return this.each(function(){var t=y.default_offset_pct,c=X(this),r=y.orientation,e="vertical"===r?"down":"left",n="vertical"===r?"up":"right";c.wrap("<div class='twentytwenty-wrapper twentytwenty-"+r+"'></div>"),y.no_overlay||c.append("<div class='twentytwenty-overlay'></div>");var d=c.find("img:first"),u=c.find("img:last");c.append("<div class='twentytwenty-handle'></div>");var s=c.find(".twentytwenty-handle");s.append("<span class='twentytwenty-"+e+"-arrow'></span>"),s.append("<span class='twentytwenty-"+n+"-arrow'></span>"),c.addClass("twentytwenty-container"),d.addClass("twentytwenty-before"),u.addClass("twentytwenty-after");var i=c.find(".twentytwenty-overlay");i.append("<div class='twentytwenty-before-label' data-content='"+y.before_label+"'></div>"),i.append("<div class='twentytwenty-after-label' data-content='"+y.after_label+"'></div>");function o(e){var t,n,i,o,a=(t=e,n=d.width(),i=d.height(),{w:n+"px",h:i+"px",cw:t*n+"px",ch:t*i+"px"});s.css("vertical"===r?"top":"left","vertical"===r?a.ch:a.cw),o=a,"vertical"===r?(d.css("clip","rect(0,"+o.w+","+o.ch+",0)"),u.css("clip","rect("+o.ch+","+o.w+","+o.h+",0)")):(d.css("clip","rect(0,"+o.cw+","+o.h+",0)"),u.css("clip","rect(0,"+o.w+","+o.h+","+o.cw+")")),c.css("height",o.h)}function a(e,t){return n="vertical"===r?(t-p)/w:(e-m)/h,i=0,o=1,Math.max(i,Math.min(o,n));var n,i,o}X(window).on("resize.twentytwenty",function(e){o(t)});function v(e){((e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&"vertical"!==r||(e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&"vertical"===r)&&e.preventDefault(),c.addClass("active"),m=c.offset().left,p=c.offset().top,h=d.width(),w=d.height()}function l(e){c.hasClass("active")&&(t=a(e.pageX,e.pageY),o(t))}function f(){c.removeClass("active")}var m=0,p=0,h=0,w=0,g=y.move_with_handle_only?s:c;g.on("movestart",v),g.on("move",l),g.on("moveend",f),y.move_slider_on_hover&&(c.on("mouseenter",v),c.on("mousemove",l),c.on("mouseleave",f)),s.on("touchmove",function(e){e.preventDefault()}),c.find("img").on("mousedown",function(e){e.preventDefault()}),y.click_to_move&&c.on("click",function(e){m=c.offset().left,p=c.offset().top,h=d.width(),w=d.height(),t=a(e.pageX,e.pageY),o(t)}),X(window).trigger("resize.twentytwenty")})}}(jQuery);