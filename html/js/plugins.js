"use strict";function _typeof2(e){function t(e){return n.apply(this,arguments)}var n,i;function a(e){return i.apply(this,arguments)}return(_typeof2="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?(i=function(e){return void 0===e?"undefined":_typeof2(e)},a.toString=function(){return i.toString()},a):(n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},t.toString=function(){return n.toString()},t))(e)}!function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],i=n.length,a=window.console=window.console||{};i--;)a[e=n[i]]||(a[e]=t)}(),function(){function t(e,t){return function(){return e.apply(t,arguments)}}var i,e,n,s,a,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};function r(e){null==e&&(e={}),this.scrollCallback=t(this.scrollCallback,this),this.scrollHandler=t(this.scrollHandler,this),this.start=t(this.start,this),this.scrolled=!0,this.config=this.util().extend(e,this.defaults),this.animationNameCache=new n}function l(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}function u(){this.keys=[],this.values=[]}function c(){}c.prototype.extend=function(e,t){var n,i;for(n in t)i=t[n],null==e[n]&&(e[n]=i);return e},c.prototype.isMobile=function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},c.prototype.addEvent=function(e,t,n){return null!=e.addEventListener?e.addEventListener(t,n,!1):null!=e.attachEvent?e.attachEvent("on"+t,n):e[t]=n},c.prototype.removeEvent=function(e,t,n){return null!=e.removeEventListener?e.removeEventListener(t,n,!1):null!=e.detachEvent?e.detachEvent("on"+t,n):delete e[t]},c.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},e=c,n=this.WeakMap||this.MozWeakMap||(u.prototype.get=function(e){var t,n,i,a;for(t=n=0,i=(a=this.keys).length;n<i;t=++n)if(a[t]===e)return this.values[t]},u.prototype.set=function(e,t){var n,i,a,r;for(n=i=0,a=(r=this.keys).length;i<a;n=++i)if(r[n]===e)return void(this.values[n]=t);return this.keys.push(e),this.values.push(t)},u),i=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(l.notSupported=!0,l.prototype.observe=function(){},l),s=this.getComputedStyle||function(n){return this.getPropertyValue=function(e){var t;return"float"===e&&(e="styleFloat"),a.test(e)&&e.replace(a,function(e,t){return t.toUpperCase()}),(null!=(t=n.currentStyle)?t[e]:void 0)||null},this},a=/(\-([a-z]){1})/g,this.WOW=(r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},r.prototype.init=function(){var e;return this.element=window.document.documentElement,"interactive"===(e=document.readyState)||"complete"===e?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},r.prototype.start=function(){var a,e,t,n,o;if(this.stopped=!1,this.boxes=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.element.querySelectorAll("."+this.config.boxClass)).length;e<t;e++)a=n[e],i.push(a);return i}.call(this),this.all=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.boxes).length;e<t;e++)a=n[e],i.push(a);return i}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else{for(e=0,t=(n=this.boxes).length;e<t;e++)a=n[e],this.applyStyle(a,!0);this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)}return this.config.live?new i((o=this,function(e){var a,r,t,n,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push(function(){var e,t,n,i;for(i=[],e=0,t=(n=r.addedNodes||[]).length;e<t;e++)a=n[e],i.push(this.doSync(a));return i}.call(o));return i})).observe(document.body,{childList:!0,subtree:!0}):void 0},r.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},r.prototype.sync=function(){return i.notSupported?this.doSync(this.element):void 0},r.prototype.doSync=function(e){var t,n,i,a,r;if(null==e&&(e=this.element),1===e.nodeType){for(r=[],n=0,i=(a=(e=e.parentNode||e).querySelectorAll("."+this.config.boxClass)).length;n<i;n++)t=a[n],o.call(this.all,t)<0?(this.boxes.push(t),this.all.push(t),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(t,!0),r.push(this.scrolled=!0)):r.push(void 0);return r}},r.prototype.show=function(e){return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass},r.prototype.applyStyle=function(e,t){var n,i,a,r;return i=e.getAttribute("data-wow-duration"),n=e.getAttribute("data-wow-delay"),a=e.getAttribute("data-wow-iteration"),this.animate((r=this,function(){return r.customStyle(e,t,i,n,a)}))},r.prototype.animate="requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()},r.prototype.resetStyle=function(){var e,t,n,i,a;for(a=[],t=0,n=(i=this.boxes).length;t<n;t++)e=i[t],a.push(e.style.visibility="visible");return a},r.prototype.customStyle=function(e,t,n,i,a){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",n&&this.vendorSet(e.style,{animationDuration:n}),i&&this.vendorSet(e.style,{animationDelay:i}),a&&this.vendorSet(e.style,{animationIterationCount:a}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(a,e){var r,o,l,t;for(r in t=[],e)o=e[r],a[""+r]=o,t.push(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.vendors).length;e<t;e++)l=n[e],i.push(a[""+l+r.charAt(0).toUpperCase()+r.substr(1)]=o);return i}.call(this));return t},r.prototype.vendorCSS=function(e,t){var n,i,a,r,o,l;for(n=(i=s(e)).getPropertyCSSValue(t),r=0,o=(l=this.vendors).length;r<o;r++)a=l[r],n=n||i.getPropertyCSSValue("-"+a+"-"+t);return n},r.prototype.animationName=function(t){var n;try{n=this.vendorCSS(t,"animation-name").cssText}catch(e){n=s(t).getPropertyValue("animation-name")}return"none"===n?"":n},r.prototype.cacheAnimationName=function(e){return this.animationNameCache.set(e,this.animationName(e))},r.prototype.cachedAnimationName=function(e){return this.animationNameCache.get(e)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var a;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.boxes).length;e<t;e++)(a=n[e])&&(this.isVisible(a)?this.show(a):i.push(a));return i}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},r.prototype.offsetTop=function(e){for(var t;void 0===e.offsetTop;)e=e.parentNode;for(t=e.offsetTop;e=e.offsetParent;)t+=e.offsetTop;return t},r.prototype.isVisible=function(e){var t,n,i,a,r;return n=e.getAttribute("data-wow-offset")||this.config.offset,a=(r=window.pageYOffset)+Math.min(this.element.clientHeight,this.util().innerHeight())-n,t=(i=this.offsetTop(e))+e.clientHeight,i<=a&&r<=t},r.prototype.util=function(){return null!=this._util?this._util:this._util=new e},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r)}.call(void 0),function(){var d,n,h,g,m,f,e,p,u,l,s,r,o,c,i,b,a,v,y,t=this,w=(e=Date.now?Date.now:function(){return+new Date},p="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:e,n="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,$.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=p(),this._start(this.get(),this._attachment),this.resume())},$.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||x,this._step=e.step||x,this._finish=e.finish||x,this._duration=e.duration||500,this._currentState=S({},e.from)||this.get(),this._originalState=this.get(),this._targetState=S({},e.to)||this.get();var t=this;this._timeoutHandler=function(){O(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var n=this._currentState,i=this._targetState;return E(i,n),this._easing=L(n,e.easing||"linear"),this._filterArgs=[n,this._originalState,i,this._easing],T(this,"tweenCreated"),this},$.prototype.get=function(){return S({},this._currentState)},$.prototype.set=function(e){this._currentState=e},$.prototype.pause=function(){return this._pausedAtTime=p(),this._isPaused=!0,this},$.prototype.resume=function(){return this._isPaused&&(this._timestamp+=p()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},$.prototype.seek=function(e){e=Math.max(e,0);var t=p();return 0===this._timestamp+e||(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,O(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause())),this},$.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=x,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(T(this,"beforeTween"),C(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),T(this,"afterTween"),T(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},$.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},$.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},$.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},$.prototype.filter={},d=$.prototype.formula={linear:function(e){return e}},S($,{now:p,each:I,tweenProps:C,tweenProp:k,applyFilter:T,shallowCopy:S,defaults:E,composeEasingObject:L}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=O),"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=$:"function"==typeof define&&define.amd?define("ngTweenable",function(){return $}):void 0===t.NGTweenable&&(t.NGTweenable=$),$);function x(){}function I(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function S(t,n){return I(n,function(e){t[e]=n[e]}),t}function E(t,n){I(n,function(e){void 0===t[e]&&(t[e]=n[e])})}function C(e,t,n,i,a,r,o){var l,s,u,c=e<r?0:(e-r)/a;for(l in t)t.hasOwnProperty(l)&&(u="function"==typeof(s=o[l])?s:d[s],t[l]=k(n[l],i[l],u,c));return t}function k(e,t,n,i){return e+(t-e)*n(i)}function T(t,n){var i=$.prototype.filter,a=t._filterArgs;I(i,function(e){void 0!==i[e][n]&&i[e][n].apply(t,a)})}function O(e,t,n,i,a,r,o,l,s,u,c){h=t+n+i,g=Math.min(c||p(),h),m=h<=g,f=i-(h-g),e.isPlaying()&&!m?(e._scheduleId=u(e._timeoutHandler,1e3/60),T(e,"beforeTween"),g<t+n?C(1,a,r,o,1,1,l):C(g,a,r,o,i,t+n,l),T(e,"afterTween"),s(a,e._attachment,f)):e.isPlaying()&&m&&(s(o,e._attachment,f),e.stop(!0))}function L(e,t){var n={},i=void 0===t?"undefined":_typeof2(t);return I(e,"string"===i||"function"===i?function(e){n[e]=t}:function(e){n[e]||(n[e]=t[e]||"linear")}),n}function $(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=n,void 0!==t&&this.setConfig(t)}function D(n){u.each(n,function(e){var t=n[e];"string"==typeof t&&t.match(i)&&(n[e]=H(i,t,j))})}function j(e){var t,n=(3===(t=(t=e).replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),a[0]=P(t.substr(0,2)),a[1]=P(t.substr(2,2)),a[2]=P(t.substr(4,2)),a);return"rgb("+n[0]+","+n[1]+","+n[2]+")"}function P(e){return parseInt(e,16)}function H(e,t,n){var i=t.match(e),a=t.replace(e,b);if(i)for(var r,o=i.length,l=0;l<o;l++)r=i.shift(),a=a.replace(b,n(r));return a}function F(e){for(var t=e.match(r),n=t.length,i=e.match(c)[0],a=0;a<n;a++)i+=parseInt(t[a],10)+",";return i.slice(0,-1)+")"}function B(r){var o={};return u.each(r,function(e){var t,n,i=r[e];if("string"==typeof i){var a=N(i);o[e]={formatString:((n=(t=i).match(s))?1!==n.length&&!t[0].match(l)||n.unshift(""):n=["",""],n.join(b)),chunkNames:function(e,t){var n,i=[],a=e.length;for(n=0;n<a;n++)i.push("_"+t+"_"+n);return i}(a,e)}}}),o}function _(a,r){u.each(r,function(e){for(var t=N(a[e]),n=t.length,i=0;i<n;i++)a[r[e].chunkNames[i]]=+t[i];delete a[e]})}function A(i,a){u.each(a,function(e){var t=i[e],n=function(e,t){v.length=0;for(var n=t.length,i=0;i<n;i++)v.push(e[t[i]]);return v}(function(e,t){for(var n,i={},a=t.length,r=0;r<a;r++)n=t[r],i[n]=e[n],delete e[n];return i}(i,a[e].chunkNames),a[e].chunkNames);t=function(e,t){for(var n=e,i=t.length,a=0;a<i;a++)n=n.replace(b,+t[a].toFixed(4));return n}(a[e].formatString,n),i[e]=H(o,t,F)})}function N(e){return e.match(r)}function G(e,t,n,i,a,r){function u(e){return((d*e+h)*e+g)*e}function c(e){return 0<=e?e:0-e}var o,d=0,h=0,g=0,l=0,s=0,m=0;return d=1-(g=3*t)-(h=3*(i-t)-g),l=1-(m=3*n)-(s=3*(a-n)-m),o=function(e,t){var n,i,a,r,o,l,s;for(a=e,l=0;l<8;l++){if(r=u(a)-e,t>c(r))return a;if(c(o=(3*d*(s=a)+2*h)*s+g)<1e-6)break;a-=r/o}if(i=1,(n=0)>(a=e))return n;if(i<a)return i;for(;n<i;){if(r=u(a),t>c(r-e))return a;r<e?n=a:i=a,a=.5*(i-n)+n}return a}(e,1/(200*r)),((l*o+s)*o+m)*o}w.shallowCopy(w.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return--e*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*((1+(t*=1.525))*e-t):.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin(2*(6*e-1)*Math.PI/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*((1+(t*=1.525))*e-t):.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){return e*e*(2.70158*e-1.70158)},swingTo:function(e){return--e*e*(2.70158*e+1.70158)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),w.setBezierFunction=function(e,t,n,i,a){var r,o,l,s,u=(r=t,o=n,l=i,s=a,function(e){return G(e,r,o,l,s,1)});return u.displayName=e,u.x1=t,u.y1=n,u.x2=i,u.y2=a,w.prototype.formula[e]=u},w.unsetBezierFunction=function(e){delete w.prototype.formula[e]},(y=new w)._filterArgs=[],w.interpolate=function(e,t,n,i,a){var r=w.shallowCopy({},e),o=a||0,l=w.composeEasingObject(e,i||"linear");y.set({});var s=y._filterArgs;s.length=0,s[0]=r,s[1]=e,s[2]=t,s[3]=l,w.applyFilter(y,"tweenCreated"),w.applyFilter(y,"beforeTween");var u,c,d,h,g,m,f=(u=e,c=r,d=t,h=n,g=l,m=o,w.tweenProps(h,c,u,d,1,m,g));return w.applyFilter(y,"afterTween"),f},u=w,l=/(\d|\-|\.)/,s=/([^\-0-9\.]+)/g,r=/[0-9.\-]+/g,o=RegExp("rgb\\("+r.source+/,\s*/.source+r.source+/,\s*/.source+r.source+"\\)","g"),c=/^.*\(/,i=/#([0-9]|[a-f]){3,6}/gi,b="VAL",a=[],v=[],u.prototype.filter.token={tweenCreated:function(e,t,n){D(e),D(t),D(n),this._tokenData=B(e)},beforeTween:function(e,t,n,i){var l,s;l=i,s=this._tokenData,u.each(s,function(e){var t,n=s[e].chunkNames,i=n.length,a=l[e];if("string"==typeof a){var r=a.split(" "),o=r[r.length-1];for(t=0;t<i;t++)l[n[t]]=r[t]||o}else for(t=0;t<i;t++)l[n[t]]=a;delete l[e]}),_(e,this._tokenData),_(t,this._tokenData),_(n,this._tokenData)},afterTween:function(e,t,n,i){var o,l;A(e,this._tokenData),A(t,this._tokenData),A(n,this._tokenData),o=i,l=this._tokenData,u.each(l,function(e){var t=l[e].chunkNames,n=t.length,i=o[t[0]];if("string"===(void 0===i?"undefined":_typeof2(i))){for(var a="",r=0;r<n;r++)a+=" "+o[t[r]],delete o[t[r]];o[e]=a.substr(1)}else o[e]=i})}}}.call(null),function(e){"function"==typeof define&&define.amd?define("jqueryNanoGallery",["jquery","ngTweenable"],e):e(jQuery,window.NGTweenable)}(function(Ve,Re){function a(){function b(){He.scrollTimeOut&&clearTimeout(He.scrollTimeOut),He.scrollTimeOut=setTimeout(function(){return He.containerViewerDisplayed?void 0:("loadData"==He.O.lazyBuild&&De(He.$E.conTnParent,He.O.lazyBuildTreshold)&&(He.O.lazyBuild="none",w()),-1!=He.delayedAlbumIdx&&De(He.$E.conTnParent,He.O.lazyBuildTreshold)&&r(He.delayedAlbumIdx,He.delayedSetLocationHash),void t())},100)}function g(e){He.isShiftPressed=e.shiftKey,He.isAltPressed=e.altKey,He.isCtrlPressed=e.ctrlKey,He.isMetaPressed=e.metaKey}function v(){return{animationEngine:He.aengine,t:"test"}}function y(){Te('Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/">Chrome</a><br>&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/">Firefox</a><br>&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',!1)}function e(e){for(var t=document.createElement("div"),n=0;n<e.length;++n)if(void 0!==t.style[e[n]])return e[n];return null}function w(){var e=Math.max(window.screen.width,window.screen.height);null!=window.devicePixelRatio&&1<window.devicePixelRatio&&(e*=window.devicePixelRatio);for(var t=0;t<He.tn.getHE().length;t++)switch(He.tn.getHE()[t].name){case"imageScale150":case"imageScale150Outside":case"imageScaleIn80":case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":He.tn.scale=Math.max(He.tn.scale,1.5);break;case"scale120":He.tn.scale=Math.max(He.tn.scale,1.2)}switch(0<He.O.itemsBaseURL.length&&(He.O.itemsBaseURL+="/"),He.O.kind){case"":if(P(He.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),void 0!==He.O.items&&null!==He.O.items)(function(){var m=!1;void 0!==He.O.dataSorting&&("random"==He.O.dataSorting?He.O.items=Pe(He.O.items):"reversed"==He.O.dataSorting&&(He.O.items=He.O.items.reverse())),jQuery.each(He.O.items,function(e,t){var n="";void 0===(n=p(t,"title"))&&(n="");var i=He.O.itemsBaseURL;i+=void 0!==t["src"+f().toUpperCase()]?t["src"+f().toUpperCase()]:t.src;var a;a=void 0!==t.srct&&0<t.srct.length?He.O.itemsBaseURL+t.srct:i;void 0!==t.srct2x&&0<t.srct2x.length&&(He.O.itemsBaseURL,t.srct2x),""!=He.O.thumbnailLabel.get("title")&&(n=k(i));var r="";void 0===(r=p(t,"description"))&&(r="");var o="";void 0!==t.destURL&&0<t.destURL.length&&(o=t.destURL);var l=p(t,"tags");void 0===l&&(l="");var s=0;void 0!==t.albumID&&(s=t.albumID,m=!0);var u=null;void 0!==t.ID&&(u=t.ID);var c="image";void 0!==t.kind&&0<t.kind.length&&(c=t.kind);var d=P(n,a,i,r,o,c,l,u,s),h=0;void 0!==t.imgtWidth&&0<t.imgtWidth&&(h=t.imgtWidth);var g=0;void 0!==t.imgtHeight&&0<t.imgtHeight&&(g=t.imgtHeight),d.thumbs={url:{l1:{xs:a,sm:a,me:a,la:a,xl:a},lN:{xs:a,sm:a,me:a,la:a,xl:a}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:g,sm:g,me:g,la:g,xl:g},lN:{xs:g,sm:g,me:g,la:g,xl:g}}},null!==t.customData&&(d.customData=T(t.customData)),"function"==typeof He.O.fnProcessData&&He.O.fnProcessData(d,"api",null)}),m&&(He.O.displayBreadcrumb=!0);for(var e=He.I.length,t=0,n=0,i=0;i<e;i++){for(var a=n=t=0;a<e;a++)i!=a&&He.I[i].GetID()==He.I[a].albumID&&(t++,"image"==He.I[a].kind&&(He.I[a].imageNumber=n++));He.I[i].contentLength=t}})(),d(!1)||F(0,!1);else{var n=jQuery(He.$E.base).children("a");0<n.length?(function(e){var m=!1;void 0!==He.O.dataSorting&&("random"==He.O.dataSorting?e=Pe(e):"reversed"==He.O.dataSorting&&(jQuery.fn.reverse=[].reverse,e=e.reverse())),jQuery.each(e,function(e,t){var n="";void 0!==jQuery(t).attr("data-ngthumb")&&0<jQuery(t).attr("data-ngthumb").length&&(n=He.O.itemsBaseURL+jQuery(t).attr("data-ngthumb")),void 0!==jQuery(t).attr("data-ngThumb")&&0<jQuery(t).attr("data-ngThumb").length&&(n=He.O.itemsBaseURL+jQuery(t).attr("data-ngThumb"));void 0!==jQuery(t).attr("data-ngthumb2x")&&0<jQuery(t).attr("data-ngthumb2x").length&&(He.O.itemsBaseURL,jQuery(t).attr("data-ngthumb2x")),void 0!==jQuery(t).attr("data-ngThumb2x")&&0<jQuery(t).attr("data-ngThumb2x").length&&(He.O.itemsBaseURL,jQuery(t).attr("data-ngThumb2x"));var i="",a=f().toUpperCase();void 0!==jQuery(t).attr("data-ngsrc"+a)&&0<jQuery(t).attr("data-ngsrc"+a).length&&(i=He.O.itemsBaseURL+jQuery(t).attr("data-ngsrc"+a)),void 0!==jQuery(t).attr("data-ngSrc"+a)&&0<jQuery(t).attr("data-ngSrc"+a).length&&(i=He.O.itemsBaseURL+jQuery(t).attr("data-ngSrc"+a)),""==i&&(i=He.O.itemsBaseURL+jQuery(t).attr("href"));var r="";void 0!==jQuery(t).attr("data-ngdesc")&&0<jQuery(t).attr("data-ngdesc").length&&(r=jQuery(t).attr("data-ngdesc")),void 0!==jQuery(t).attr("data-ngDesc")&&0<jQuery(t).attr("data-ngDesc").length&&(r=jQuery(t).attr("data-ngDesc"));var o="";void 0!==jQuery(t).attr("data-ngdest")&&0<jQuery(t).attr("data-ngdest").length&&(o=jQuery(t).attr("data-ngdest")),void 0!==jQuery(t).attr("data-ngDest")&&0<jQuery(t).attr("data-ngDest").length&&(o=jQuery(t).attr("data-ngDest"));var l=0;void 0!==jQuery(t).attr("data-ngalbumid")&&(l=jQuery(t).attr("data-ngalbumid"),m=!0),void 0!==jQuery(t).attr("data-ngAlbumID")&&(l=jQuery(t).attr("data-ngAlbumID"),m=!0);var s=null;void 0!==jQuery(t).attr("data-ngid")&&(s=jQuery(t).attr("data-ngid")),void 0!==jQuery(t).attr("data-ngID")&&(s=jQuery(t).attr("data-ngID"));var u="image";void 0!==jQuery(t).attr("data-ngkind")&&0<jQuery(t).attr("data-ngkind").length&&(u=jQuery(t).attr("data-ngkind")),void 0!==jQuery(t).attr("data-ngKind")&&0<jQuery(t).attr("data-ngKind").length&&(u=jQuery(t).attr("data-ngKind"));var c=jQuery(t).text();""!=He.O.thumbnailLabel.get("title")&&null!=He.O.thumbnailLabel.get("title")&&(c=k(i));var d=P(c,n,i,r,o,u,"",s,l),h=0;void 0!==jQuery(t).attr("data-ngthumbImgWidth")&&0<jQuery(t).attr("data-ngthumbImgWidth").length&&(h=jQuery(t).attr("data-ngthumbImgWidth"));var g=0;void 0!==jQuery(t).attr("data-ngthumbImgHeight")&&0<jQuery(t).attr("data-ngthumbImgHeight").length&&(g=jQuery(t).attr("data-ngthumbImgHeight")),d.thumbs={url:{l1:{xs:n,sm:n,me:n,la:n,xl:n},lN:{xs:n,sm:n,me:n,la:n,xl:n}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:g,sm:g,me:g,la:g,xl:g},lN:{xs:g,sm:g,me:g,la:g,xl:g}}},void 0!==jQuery(t).data("customdata")&&(d.customData=T(jQuery(t).data("customdata"))),"function"==typeof He.O.fnProcessData&&He.O.fnProcessData(d,"markup",null)}),jQuery.each(e,function(e,t){jQuery(t).remove()}),m&&(He.O.displayBreadcrumb=!0);for(var t=He.I.length,n=0,i=0,a=0;a<t;a++){for(var r=i=n=0;r<t;r++)a!=r&&He.I[a].GetID()==He.I[r].albumID&&(n++,"image"==He.I[r].kind&&(He.I[r].imageNumber=i++));He.I[a].contentLength=n}}(n),d(!1)||F(0,!1)):Te("error: no image to process.")}break;case"flickr":for(He.O.flickrSkipOriginal||(He.flickr.photoAvailableSizes.push(1e4),He.flickr.photoAvailableSizesStr.push("o")),i=0;i<He.flickr.photoAvailableSizes.length&&(He.flickr.photoSize=i,!(e<=He.flickr.photoAvailableSizes[i]));i++);P(He.i18nTranslations.breadcrumbHome,"","","","","album","",0<He.O.photoset.length?He.O.photoset:"0","-1"),u(0,!0,-1,!1);break;case"json":P(He.i18nTranslations.breadcrumbHome,"","","","","album","",0<He.O.album.length?encodeURIComponent(He.O.album):"0","-1"),s(0,!0,-1,!1);break;case"picasa":default:if(0<He.O.album.length){var a=He.O.album.indexOf("&authkey=");if(0<=a){var r=He.O.album.substring(0,a),o=He.O.album.substring(a);-1==o.indexOf("Gv1sRg")&&(o="&authkey=Gv1sRg"+o.substring(9)),P(He.i18nTranslations.breadcrumbHome,"","","","","album","",r,"-1").customData.authkey=o}else P(He.i18nTranslations.breadcrumbHome,"","","","","album","",He.O.album,"-1")}else P(He.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1");$(0,!0,-1,!1)}jQuery(document).keyup(function(e){if(g(e),He.containerViewerDisplayed)switch(e.keyCode){case 27:Ce(!0);break;case 32:case 13:me();break;case 38:case 39:case 33:ve();break;case 40:case 37:case 34:we()}else if(!He.containerViewerDisplayed&&0<He.curAlbumIdx&&He.O.galleryEnableKeyboard)switch(e.keyCode){case 27:F(0,"false");break;case 38:case 39:case 33:B();break;case 40:case 37:case 34:_()}}),jQuery(window).click(g),jQuery(window).mousemove(g),He.O.locationHash&&jQuery(window).bind("hashchange",function(){d(!0)}),He.O.galleryFullpageButton&&(He.$E.conNavBFullpage=He.O.RTL?jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').prependTo(He.$E.conNavB):jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(He.$E.conNavB),He.$E.conNavBFullpage.on("click",function(){if(He.$E.conNavBFullpage.hasClass("setFullPageButton")){if(He.containerViewerDisplayed)return;for(0<He.O.maxWidth&&jQuery(He.$E.base).css({maxWidth:""}),He.$E.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),je("",He.$E.base),t=0;t<He.tn.getHE().length;t++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(He.tn.getHE()[t].name)&&He.$E.base.css({overflow:"auto"});He.$E.base.addClass("fullpage"),jQuery("body").css({overflow:"hidden"}),R()}else{if(He.containerViewerDisplayed)return;for(He.$E.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),0<He.O.maxWidth&&jQuery(He.$E.base).css({maxWidth:He.O.maxWidth}),He.$E.base.removeClass("fullpage"),t=0;t<He.tn.getHE().length;t++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(He.tn.getHE()[t].name)&&He.$E.base.css({overflow:"visible"});l(),R()}}))}function l(){jQuery("body").css({overflow:"visible"})}function m(e,t){jQuery(e).css({left:t})}function x(e){function n(e){if(null!=e&&(null!=He.$currentTouchedThumbnail&&ue(He.$currentTouchedThumbnail),He.$currentTouchedThumbnail=null,"function"!=typeof He.O.fnThumbnailClicked||He.O.fnThumbnailClicked(He.I[e].$elt,He.I[e]))){if(void 0!==He.I[e].destinationURL&&0<He.I[e].destinationURL.length)return void(window.location=He.I[e].destinationURL);He.openNoDelay=!1,"album"==He.I[e].kind?V(e,!1,-1,!0):ce(e)}}function t(){if(u=0,s=l=null,m(He.$E.conTn[0],0),He.containerViewerDisplayed)He.$currentTouchedThumbnail=null,He.openNoDelay=!1;else if(null!=He.$currentTouchedThumbnail){if(10<Math.abs(d.t-Le().t))return ue(He.$currentTouchedThumbnail),He.$currentTouchedThumbnail=null,void(He.openNoDelay=!1);var e=He.$currentTouchedThumbnail,t=e.data("index");if(null==t)return;("l1"==He.curNavLevel&&void 0!==He.O.touchAnimationL1?He.O.touchAnimationL1:He.O.touchAnimation)&&!He.openNoDelay?0<He.O.touchAutoOpenDelay?(ee(),le(e),window.clearInterval(He.touchAutoOpenDelayTimerID),He.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(He.touchAutoOpenDelayTimerID),10<Math.abs(d.t-Le().t)?(He.openNoDelay=!1,He.$currentTouchedThumbnail=null,ue(e)):n(t)},He.O.touchAutoOpenDelay)):He.I[t].hovered?n(t):(ee(),le(e)):n(t)}else He.openNoDelay=!1}function r(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function i(){if(o){if(0<He.pgMaxLinesPerPage&&"auto"!=He.tn.settings.getH()&&"auto"!=He.tn.settings.getW()){var e=l.x-s.x;m(a,u-e)}o=!1}}var a=e,o=!1,l=null,s=null,u=0,c=!1,d=0;if(this.handleGestureStartNoDelay=function(e){var t=jQuery(e.target).get(0).tagName.toUpperCase();if(He.containerViewerDisplayed||"A"==t||"INPUT"==t||jQuery(e.target).hasClass("customEventHandler")){if(jQuery(e.target).hasClass("ngChekbox")){var n=jQuery(e.target).parent().data("index");null!=n&&K(He.I[n],void 0,!1)}return e.stopPropagation(),!1}g(e),(new Date).getTime()-He.timeLastTouchStart<400&&!0!==He.O.itemsSelectable||(He.openNoDelay=!0,this.handleGestureStart(e))}.bind(this),this.handleGestureStart=function(e){var t=jQuery(e.target).get(0).tagName.toUpperCase();if(He.containerViewerDisplayed||"A"==t||"INPUT"==t||jQuery(e.target).hasClass("customEventHandler"))return e.stopPropagation(),!1;if(!((new Date).getTime()-He.timeImgChanged<400&&!0!==He.O.itemsSelectable||(new Date).getTime()-He.timeLastTouchStart<400&&!0!==He.O.itemsSelectable)){He.timeLastTouchStart=(new Date).getTime();for(var n=e.target||e.srcElement,i=!1;n!=He.$E.conTn[0];)jQuery(n).hasClass("nanoGalleryThumbnailContainer")&&(null==He.$currentTouchedThumbnail||He.$currentTouchedThumbnail.is(jQuery(n))||ee(),He.$currentTouchedThumbnail=jQuery(n),i=!0),n=n.parentNode;if(i){if(!0===He.O.itemsSelectable){if(He.isShiftPressed||He.isCtrlPressed||He.isMetaPressed||"input"===e.target.nodeName.toLowerCase())return K(He.I[He.$currentTouchedThumbnail.data("index")]),!1;if(!0===He.selectMode)return K(He.I[He.$currentTouchedThumbnail.data("index")]),!1;if(He.I[He.$currentTouchedThumbnail.data("index")].kind===He.selectMode)return K(He.I[He.$currentTouchedThumbnail.data("index")]),!1;var a=He.$currentTouchedThumbnail.data("index");He.touchSelectTO=setTimeout(function(){K(He.I[a])},500)}d=Le(),l=r(e),initialOffsetTop=Le().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),He.$E.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"),He.gallerySwipeInitDone=!0}}}.bind(this),this.handleGestureMove=function(e){s=r(e),o||He.O.paginationSwipe&&0<He.pgMaxLinesPerPage&&"auto"!=He.tn.settings.getH()&&"auto"!=He.tn.settings.getW()&&(15<Math.abs(l.x-s.x)||c)&&(e.preventDefault(),o=c=!0,window.requestAnimationFrame(i))}.bind(this),this.handleGestureEnd=function(e){if(e.cancelable&&e.preventDefault(),e.stopPropagation(),c=o=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),!0===He.O.itemsSelectable){if(500<(new Date).getTime()-He.timeLastTouchStart)return!1;clearTimeout(He.touchSelectTO)}He.$E.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off"),function(){if(null!=s&&null!=l){var e=l.x-s.x;l.y,s.y,u-=e,0<He.pgMaxLinesPerPage&&"auto"!=He.tn.settings.getH()&&"auto"!=He.tn.settings.getW()&&He.O.paginationSwipe&&40<Math.abs(e)&&Math.abs(d.t-Le().t)<=10?(He.$currentTouchedThumbnail=null,u=0,s=l=null,ee(),(e<-40?X:q)()):t()}else t()}(),u=0,c=!1,s=l=null}.bind(this),window.navigator.msPointerEnabled)a.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0);else if(a.addEventListener("touchstart",this.handleGestureStart,!0),!He.isIOS){var h=this;a.addEventListener("mousedown",function(e){2!=e.button&&h.handleGestureStartNoDelay(e)},!0)}a.addEventListener("mouseenter",function(e){if(!He.containerViewerDisplayed){var t=e.target||e.srcElement;jQuery(t).hasClass("nanoGalleryThumbnailContainer")&&le(jQuery(t))}},!0),a.addEventListener("mouseleave",function(e){var t=e.target||e.srcElement;jQuery(t).hasClass("nanoGalleryThumbnailContainer")&&ue(jQuery(t))},!0)}function I(e,t,n,i){He.tn.settings[e][t].xs=n,He.tn.settings[e][t].sm=n,He.tn.settings[e][t].me=n,He.tn.settings[e][t].la=n,He.tn.settings[e][t].xl=n,He.tn.settings[e][t].xsc=i,He.tn.settings[e][t].smc=i,He.tn.settings[e][t].mec=i,He.tn.settings[e][t].lac=i,He.tn.settings[e][t].xlc=i}function S(){var e=Le().w;return 0<He.O.breakpointSizeSM&&e<He.O.breakpointSizeSM?"xs":0<He.O.breakpointSizeME&&e<He.O.breakpointSizeME?"sm":0<He.O.breakpointSizeLA&&e<He.O.breakpointSizeLA?"me":0<He.O.breakpointSizeXL&&e<He.O.breakpointSizeXL?"la":"xl"}function f(){var e=Math.max(Le().w,Le().h);return 0<He.O.breakpointSizeSM&&e<He.O.breakpointSizeSM?"xs":0<He.O.breakpointSizeME&&e<He.O.breakpointSizeME?"sm":0<He.O.breakpointSizeLA&&e<He.O.breakpointSizeLA?"me":0<He.O.breakpointSizeXL&&e<He.O.breakpointSizeXL?"la":"xl"}function E(){var e={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing",animParam:null};return"animate"!=He.aengine&&(e.easing="ease",e.easingBack="ease"),e}function C(e){var t=/labelOpacity50|borderLighter|borderDarker/i.test(e),n=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(e),i=/imageExplode/i.test(e);return He.O.touchAutoOpenDelay=parseInt(He.O.touchAutoOpenDelay),0==He.O.touchAutoOpenDelay&&(He.O.touchAutoOpenDelay=1e3),t||n||i?"onBottom"!=He.O.thumbnailLabel.get("position")||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(e)?!i||"animate"!=He.aengine&&null!=He.CSStransformName||(Oe('Parameter thumbnailHoverEffect="'+e+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),0):(Te('The parameter combination thumbnailHoverEffect="'+e+'" and thumbnailLabel.position="onBottom" is not supported.'),0):(Te('Unknow parameter value: thumbnailHoverEffect="'+e+'".'),0)}function d(e){if(""!=He.O.openOnStart)return a(!1,He.O.openOnStart,!(He.O.openOnStart=""));if(He.O.locationHash){var t="#nanogallery/"+He.baseEltID+"/",n=location.hash;if(n!=He.lastLocationHash){if(""==n&&-1!=He.lastOpenAlbumID)return He.lastLocationHash="",V(0,!1,-1,!1),1;if(0==n.indexOf(t))return a(e,n.substring(t.length),!e)}}}function a(e,t,n){var i=null,a=null,r=t.indexOf("/"),o=-1,l=-1,s=He.I.length;if(0<r){i=t.substring(0,r),a=t.substring(r+1);for(var u=0;u<s;u++)if("image"==He.I[u].kind&&He.I[u].GetID()==a){l=u;break}}else i=t;for(u=0;u<s;u++)if("album"==He.I[u].kind&&He.I[u].GetID()==i){o=u;break}return null!==a?(n&&(He.albumIdxToOpenOnViewerClose=o),""!=He.O.kind&&-1==l?(He.O.viewerFullscreen&&ngscreenfull.request(),V(o,!1,a,e)):ce(l)):V(o,!1,-1,e),!0}function p(e,t){return""!=He.i18nLang&&void 0!==e[t+"_"+He.i18nLang]&&0<e[t+"_"+He.i18nLang].length?e[t+"_"+He.i18nLang]:e[t]}function k(e){return"%filename"==He.O.thumbnailLabel.get("title")?e.split("/").pop().replace("_"," "):"%filenameNoExt"!=He.O.thumbnailLabel.get("title")?e:e.split("/").pop().split(".").shift().replace("_"," ")}function T(e){if(null===e||"object"!=(void 0===e?"undefined":_typeof2(e)))return e;var t=e.constructor();for(var n in e)t[n]=T(e[n]);return t}function s(o,l,s,u){if(G(o),He.I[o].contentIsLoaded)F(o,u);else{var e=He.O.jsonProvider+"?albumID="+encodeURIComponent(He.I[o].GetID());M(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var c=setTimeout(function(){W(),Te("Could not retrieve Custom data...")},6e4);jQuery.getJSON(e,function(e){if(clearTimeout(c),W(),a=o,r=e,m=0,jQuery.each(r,function(e,t){var n="";void 0===(n=p(t,"title"))&&(n="");var i=He.O.jsonProvider.substring(0,He.O.jsonProvider.indexOf("nanoPhotosProvider.php")),a=i+O(t.src),r=i+O(t.srct);""!=He.O.thumbnailLabel.get("title")&&(n=k(t.src)),0==(n=n.replaceAll("_"," ")).search(/@@\d\d\d\d/)&&(n=(n=n.substring(6)).replace(/^\s*|\s*$/,""));var o="";void 0===(o=p(t,"description"))&&(o=""),o=o.replaceAll("_"," ");var l="image";void 0!==t.kind&&0<t.kind.length&&(l=t.kind);var s=null;void 0!==t.ID&&(s=t.ID);var u=!0;if("album"==l&&(H(n,s)||(u=!1)),u){var c=0;void 0!==t.albumID&&(c=t.albumID,0);var d=P(n,r,a,o,"",l,"",s,c),h=t.imgtWidth,g=t.imgtHeight;if(d.thumbs={url:{l1:{xs:r,sm:r,me:r,la:r,xl:r},lN:{xs:r,sm:r,me:r,la:r,xl:r}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:g,sm:g,me:g,la:g,xl:g},lN:{xs:g,sm:g,me:g,la:g,xl:g}}},"function"==typeof He.O.fnProcessData&&He.O.fnProcessData(d,"api",null),"image"==l&&(d.imageNumber=m,++m>=He.maxAlbums))return!1}}),He.I[a].contentIsLoaded=!0,He.I[a].contentLength=m,l||""!=He.O.openOnStart)d(!1)||F(o,u);else if(-1!=s){for(var t=-1,n=He.I.length,i=0;i<n;i++)if("image"==He.I[i].kind&&He.I[i].GetID()==s){t=i;break}ce(t)}else F(o,u);var a,r,m}).fail(function(e,t,n){clearTimeout(c),W(),Te("Could not retrieve JSON items list (jQuery): "+(t+", "+n))})}}function O(e){return decodeURIComponent(e)}function u(a,r,o,l){if(G(a),He.I[a].contentIsLoaded)F(a,l);else{var e="",s="album";0==He.I[a].GetID()?e=He.flickr.url()+"?&method=flickr.photosets.getList&api_key="+He.flickr.ApiKey+"&user_id="+He.O.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":(e="none"==He.I[a].GetID()?He.flickr.url()+"?&method=flickr.people.getPublicPhotos&api_key="+He.flickr.ApiKey+"&user_id="+He.O.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":He.flickr.url()+"?&method=flickr.photosets.getPhotos&api_key="+He.flickr.ApiKey+"&photoset_id="+He.I[a].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",s="image"),M(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var u=setTimeout(function(){W(),Te("Could not retrieve Flickr data...")},6e4);jQuery.getJSON(e,function(e){if(clearTimeout(u),W(),("album"==s?function(o,e){var t=!0;if(void 0!==e.stat&&"fail"===e.stat&&(Te("Could not retrieve Flickr photoset list: "+e.message+" (code: "+e.code+")."),t=!1),t){var l=0,n=e.photosets.photoset;switch(He.O.albumSorting){case"random":n=Pe(n);break;case"reversed":n=n.reverse();break;case"titleAsc":n.sort(function(e,t){var n=e.title._content.toUpperCase(),i=t.title._content.toUpperCase();return n<i?-1:i<n?1:0});break;case"titleDesc":n.sort(function(e,t){var n=e.title._content.toUpperCase(),i=t.title._content.toUpperCase();return i<n?-1:n<i?1:0})}jQuery.each(n,function(e,t){if(itemTitle=t.title._content,H(itemTitle,t.id)){itemID=t.id,itemDescription="",null!=t.description._content&&(itemDescription=t.description._content);var n={};for(var i in t.primary_photo_extras)n[i]=t.primary_photo_extras[i];tags="",void 0!==t.primary_photo_extras&&void 0!==t.primary_photo_extras.tags&&(tags=t.primary_photo_extras.tags);var a=P(itemTitle,"","",itemDescription,"","album",tags,itemID,He.I[o].GetID());a.contentLength=t.photos,a.thumbSizes=n;var r={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(r=h(r,t.primary_photo_extras,"l1"),r=h(r,t.primary_photo_extras,"lN"),a.thumbs=r,++l>=He.maxAlbums)return!1}}),He.I[o].contentIsLoaded=!0,He.I[o].contentLength=l}}:function(e,t){var n="";switch(n="none"==He.I[e].GetID()?t.photos.photo:t.photoset.photo,He.O.photoSorting){case"random":n=Pe(n);break;case"reversed":n=n.reverse();break;case"titleAsc":n.sort(function(e,t){var n="",i="";return i=""!=He.O.thumbnailLabel.get("title")?(n=k(e.url_sq),k(t.url_sq)):(n=e.title.toUpperCase(),t.title.toUpperCase()),n<i?-1:i<n?1:0});break;case"titleDesc":n.sort(function(e,t){var n="",i="";return(i=""!=He.O.thumbnailLabel.get("title")?(n=k(e.url_sq),k(t.url_sq)):(n=e.title.toUpperCase(),t.title.toUpperCase()))<n?-1:n<i?1:0})}var c=He.I[e].GetID(),d=0;jQuery.each(n,function(e,t){var n=t.title,i=t.id,a=t.description._content,r=t.url_sq;for(e=He.flickr.photoSize;0<=e;e--)if(null!=t["url_"+He.flickr.photoAvailableSizesStr[e]]){r=t["url_"+He.flickr.photoAvailableSizesStr[e]];break}var o={};for(var l in t)0!=l.indexOf("height_")&&0!=l.indexOf("width_")&&0!=l.indexOf("url_")||(o[l]=t[l]);""!=He.O.thumbnailLabel.get("title")&&(n=k(r));var s=P(n,"",r,a,"","image","",i,c);s.imageNumber=d,void 0!==t.url_o?(s.width=t.width_o,s.height=t.height_o):(s.width=t.width_z,s.height=t.height_z);var u={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};return u=h(u,t,"l1"),u=h(u,t,"lN"),s.thumbs=u,!(++d>=He.maxPhotos)&&void 0}),He.I[e].contentIsLoaded=!0,He.I[e].contentLength=d})(a,e),r||""!=He.O.openOnStart)d(!1)||F(a,l);else if(-1!=o){for(var t=-1,n=He.I.length,i=0;i<n;i++)if("image"==He.I[i].kind&&He.I[i].GetID()==o){t=i;break}ce(t)}else F(a,l)}).fail(function(e,t,n){clearTimeout(u),W(),Te("Could not retrieve Flickr photoset list (jQuery): "+(t+", "+n))})}}function h(e,t,n){for(var i=["xs","sm","me","la","xl"],a=0;a<i.length;a++)if("auto"==He.tn.settings.width[n][i[a]]){var r=c(o="height_",l=Math.ceil(He.tn.settings.height[n][i[a]]*He.tn.scale),t);e.url[n][i[a]]=r.url,e.width[n][i[a]]=r.width,e.height[n][i[a]]=r.height}else if("auto"==He.tn.settings.height[n][i[a]]){r=c(o="width_",l=Math.ceil(He.tn.settings.width[n][i[a]]*He.tn.scale),t);e.url[n][i[a]]=r.url,e.width[n][i[a]]=r.width,e.height[n][i[a]]=r.height}else{var o="height_",l=Math.ceil(He.tn.settings.height[n][i[a]]*He.tn.scale);He.tn.settings.width[n][i[a]]>He.tn.settings.height[n][i[a]]&&(o="width_",l=Math.ceil(He.tn.settings.width[n][i[a]]*He.tn.scale));r=c(o,l,t);e.url[n][i[a]]=r.url,e.width[n][i[a]]=r.width,e.height[n][i[a]]=r.height}return e}function c(e,t,n){for(var i={url:"",width:0,height:0},a=0,r=0;r<He.flickr.thumbAvailableSizes.length;r++){var o=n[e+He.flickr.photoAvailableSizesStr[r]];if(null!=o&&(a=r,t<=o))break}var l=He.flickr.photoAvailableSizesStr[a];return i.url=n["url_"+l],i.width=parseInt(n["width_"+l]),i.height=parseInt(n["height_"+l]),i}function L(e,t,n,i,a){var r=Math.ceil(n*He.tn.scale)+a;return"auto"==t?r=Math.ceil(n*He.tn.scale)+a:("auto"==n||n<t)&&(r=Math.ceil(t*He.tn.scale)+i),0<e.length&&(e+=","),e+r}function $(a,r,o,l){if(G(a),He.I[a].contentIsLoaded)F(a,l);else{var e="",s="album",t="";if(t=L(t,He.tn.settings.width.l1.xs,He.tn.settings.height.l1.xs,He.tn.settings.width.l1.xsc,He.tn.settings.height.l1.xsc),t=L(t,He.tn.settings.width.l1.sm,He.tn.settings.height.l1.sm,He.tn.settings.width.l1.smc,He.tn.settings.height.l1.smc),t=L(t,He.tn.settings.width.l1.me,He.tn.settings.height.l1.me,He.tn.settings.width.l1.mec,He.tn.settings.height.l1.mec),t=L(t,He.tn.settings.width.l1.la,He.tn.settings.height.l1.la,He.tn.settings.width.l1.lac,He.tn.settings.height.l1.lac),t=L(t,He.tn.settings.width.l1.xl,He.tn.settings.height.l1.xl,He.tn.settings.width.l1.xlc,He.tn.settings.height.l1.xlc),t=L(t,He.tn.settings.width.lN.xs,He.tn.settings.height.lN.xs,He.tn.settings.width.lN.xsc,He.tn.settings.height.lN.xsc),t=L(t,He.tn.settings.width.lN.sm,He.tn.settings.height.lN.sm,He.tn.settings.width.lN.smc,He.tn.settings.height.lN.smc),t=L(t,He.tn.settings.width.lN.me,He.tn.settings.height.lN.me,He.tn.settings.width.lN.mec,He.tn.settings.height.lN.mec),t=L(t,He.tn.settings.width.lN.la,He.tn.settings.height.lN.la,He.tn.settings.width.lN.lac,He.tn.settings.height.lN.lac),t=L(t,He.tn.settings.width.lN.xl,He.tn.settings.height.lN.xl,He.tn.settings.width.lN.xlc,He.tn.settings.height.lN.xlc),0==He.I[a].GetID())e=He.picasa.url()+"user/"+He.O.userID+"?alt=json&kind=album&thumbsize="+t+"&rnd="+(new Date).getTime();else{var n="";void 0!==He.I[a].customData.authkey&&(n=He.I[a].customData.authkey),e=He.picasa.url()+"user/"+He.O.userID+"/albumid/"+He.I[a].GetID()+"?alt=json&kind=photo"+n+"&thumbsize="+t+"&imgmax=d",s="image"}M(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var u=setTimeout(function(){W(),Te("Could not retrieve Picasa/Google+ data...")},6e4),i=function(e){if(clearTimeout(u),W(),function(e,t,g){var m=0,f=He.I[e].GetID(),n=t.feed.entry,i=He.O.albumSorting;switch("image"==g&&(i=He.O.photoSorting),i){case"random":n=Pe(n);break;case"reversed":n=n.reverse();break;case"titleAsc":n.sort(function(e,t){var n="",i="";return i="image"==g?""!=He.O.thumbnailLabel.get("title")?(n=k(unescape(unescape(unescape(unescape(e.media$group.media$content[0].url))))),k(unescape(unescape(unescape(unescape(t.media$group.media$content[0].url)))))):(n=e.media$group.media$description.$t.toUpperCase(),t.media$group.media$description.$t.toUpperCase()):(n=e.media$group.media$title.$t.toUpperCase(),t.media$group.media$title.$t.toUpperCase()),n<i?-1:i<n?1:0});break;case"titleDesc":n.sort(function(e,t){var n="",i="";return(i="image"==g?""!=He.O.thumbnailLabel.get("title")?(n=k(unescape(unescape(unescape(unescape(e.media$group.media$content[0].url))))),k(unescape(unescape(unescape(unescape(t.media$group.media$content[0].url)))))):(n=e.media$group.media$description.$t.toUpperCase(),t.media$group.media$description.$t.toUpperCase()):(n=e.media$group.media$title.$t.toUpperCase(),t.media$group.media$title.$t.toUpperCase()))<n?-1:n<i?1:0})}jQuery.each(n,function(e,t){var n=t.media$group.media$title.$t,i=t.media$group.media$thumbnail[0].url,a=t.gphoto$id.$t,r="",o=t.media$group.media$description.$t;"image"==g&&(r=n,n=o,o="");var l=t.media$group.media$content[0].url;"image"==g&&""!=He.O.thumbnailLabel.get("title")&&(n=k(unescape(unescape(unescape(unescape(l))))));var s=!0;"album"==g&&(H(n,a)||(s=!1));if(s){var u="";if("album"==g)u=a;else{var c=(u=l).substring(0,l.lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",u=window.screen.width>window.screen.height?c+"w"+window.screen.width+"/"+r:c+"h"+window.screen.height+"/"+r}var d=P(n,i,u,o,"",g,"",a,f);d.picasaThumbBaseURL="",d.imageNumber=m,"album"==g&&(d.author=t.author[0].name.$t,d.contentLength=t.gphoto$numphotos.$t);var h={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(h=D("l1",0,h,t,g),h=D("lN",5,h,t,g),d.thumbs=h,"function"==typeof He.O.fnProcessData&&He.O.fnProcessData(d,"picasa",t),++m>=("album"==g?He.maxAlbums:He.maxPhotos))return!1}}),He.I[e].contentIsLoaded=!0,He.I[e].contentLength=m}(a,e,s),r||""!=He.O.openOnStart)d(!1)||F(a,l);else if(-1!=o){for(var t=-1,n=He.I.length,i=0;i<n;i++)if("image"==He.I[i].kind&&He.I[i].GetID()==o){t=i;break}ce(t)}else F(a,l)},c=null;!function t(r,e){jQuery.getJSON(r+"&start-index="+e,"callback=?",function(e){null===c?c=e:c.feed.entry=c.feed.entry.concat(e.feed.entry),e.feed.openSearch$startIndex.$t+e.feed.openSearch$itemsPerPage.$t>=e.feed.openSearch$totalResults.$t?i(c):t(r,e.feed.openSearch$startIndex.$t+e.feed.openSearch$itemsPerPage.$t)}).fail(function(e,t,n){clearTimeout(u),W();var i="";for(var a in e)i+=a+"="+e[a]+"<br>";Te("Could not retrieve Picasa/Google+ data. Error: "+(t+", "+n+" "+i+"<br><br>URL:"+r))})}(e,1)}}function D(e,t,n,i,a){for(var r=["xs","sm","me","la","xl"],o=0;o<r.length;o++)if(n.url[e][r[o]]=i.media$group.media$thumbnail[t+o].url,"image"==a){n.width[e][r[o]]=i.media$group.media$thumbnail[t+o].width,n.height[e][r[o]]=i.media$group.media$thumbnail[t+o].height;var l=i.media$group.media$thumbnail[t+o].width,s=i.media$group.media$thumbnail[t+o].height;if("auto"==He.tn.settings.width[e][r[o]]&&s<He.tn.settings.height[e][r[o]]){var u=l/s;n.width[e][r[o]]=l*u,n.height[e][r[o]]=s*u,c=(c=n.url[e][r[o]].substring(0,n.url[e][r[o]].lastIndexOf("/"))).substring(0,c.lastIndexOf("/"))+"/",n.url[e][r[o]]=c+"h"+He.tn.settings.height[e][r[o]]+"/"}if("auto"==He.tn.settings.height[e][r[o]]&&l<He.tn.settings.width[e][r[o]]){u=s/l;n.height[e][r[o]]=s*u,n.width[e][r[o]]=l*u,c=(c=n.url[e][r[o]].substring(0,n.url[e][r[o]].lastIndexOf("/"))).substring(0,c.lastIndexOf("/"))+"/",n.url[e][r[o]]=c+"w"+He.tn.settings.width[e][r[o]]+"/"}}else{var c;if("auto"!=He.tn.settings.width[e][r[o]])n.width[e][r[o]]=i.media$group.media$thumbnail[t+o].width;else c=(c=n.url[e][r[o]].substring(0,n.url[e][r[o]].lastIndexOf("/"))).substring(0,c.lastIndexOf("/"))+"/",n.url[e][r[o]]=c+"h"+He.tn.settings.height[e][r[o]]+"/";if("auto"!=He.tn.settings.height[e][r[o]])n.height[e][r[o]]=i.media$group.media$thumbnail[t+o].height;else c=(c=n.url[e][r[o]].substring(0,n.url[e][r[o]].lastIndexOf("/"))).substring(0,c.lastIndexOf("/"))+"/",n.url[e][r[o]]=c+"w"+He.tn.settings.width[e][r[o]]+"/"}return n}function P(e,t,n,i,a,r,o,l,s){var u=function(e){for(var t=He.I.length,n=0;n<t;n++)if(He.I[n].GetID()==e)return He.I[n];return null}(l),c=!1;return null===u?(u=new Be(e,l),c=!0):u.title=e,u.src=n,u.description=i,u.destinationURL=a,u.kind=r,u.albumID=s,u.ID=l,u.tags=0==o.length?null:o.split(" "),c&&(u.title=e,He.I.push(u)),u}function H(e,t){var n=e.toUpperCase();if(t=t.toUpperCase(),null===He.albumList){var i=!1;if(null!==He.whiteList){for(var a=0;a<He.whiteList.length;a++)-1!==n.indexOf(He.whiteList[a])&&(i=!0);if(!i)return}if(null!==He.blackList)for(a=0;a<He.blackList.length;a++)if(-1!==n.indexOf(He.blackList[a]))return;return 1}for(a=0;a<He.albumList.length;a++)if(n==He.albumList[a].toUpperCase()||t==He.albumList[a])return 1}function F(e,t){"display"!=He.O.lazyBuild||De(He.$E.conTnParent,He.O.lazyBuildTreshold)?r(e,t):(He.delayedAlbumIdx=e,He.delayedSetLocationHash=t)}function r(e,t){if(He.O.lazyBuild="none",He.delayedAlbumIdx=-1,He.albumIdxToOpenOnViewerClose=-1,He.O.thumbnailAlbumDisplayImage&&0!=e){for(var n=He.I.length,i=0;i<n;i++)if(He.I[i].albumID==He.I[e].GetID()){ce(i);break}}else if(He.containerViewerDisplayed&&Ce(!1),e!=He.lastOpenAlbumID){if(He.O.locationHash&&t){var a="nanogallery/"+He.baseEltID+"/"+He.I[e].GetID();He.lastLocationHash="#"+a;try{top.location.hash=a}catch(e){He.O.locationHash=!1}}He.lastOpenAlbumID=He.I[e].GetID(),G(e);var r=0;0<He.I[e].paginationLastPage&&He.I[e].paginationLastWidth==He.$E.conTnParent.width()&&(r=He.I[e].paginationLastPage),Y(e,r)}}function B(){var e=function(e){for(var t=He.I.length,n=-1,i=e+1;i<t;i++)if(He.I[i].albumID==He.I[e].albumID&&"album"==He.I[i].kind){n=i;break}if(-1==n)for(i=0;i<=e;i++)if(He.I[i].albumID==He.I[e].albumID&&"album"==He.I[i].kind){n=i;break}return n}(He.curAlbumIdx);V(e,!1,-1,0<e)}function _(){var e=function(e){for(var t=(He.I.length,-1),n=e-1;0<=n;n--)if(He.I[n].albumID==He.I[e].albumID&&"album"==He.I[n].kind){t=n;break}if(-1==t)for(n=He.I.length-1;e<=n;n--)if(He.I[n].albumID==He.I[e].albumID&&"album"==He.I[n].kind){t=n;break}return t}(He.curAlbumIdx);V(e,!1,-1,0<e)}function A(e){var t="folder";0==e&&(t="folderHome");var n=jQuery('<div class="'+t+' oneFolder">'+He.I[e].title+"</div>").appendTo(He.$E.conBC);jQuery(n).data("albumIdx",e),n.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),V(e,!1,-1,!0)})}function N(e){var t=jQuery('<div class="separator'+(He.O.RTL?"RTL":"")+'"></div>').appendTo(He.$E.conBC);jQuery(t).data("albumIdx",e),t.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),V(e,!1,-1,!0)})}function G(e){var t=!1;if(1==He.O.displayBreadcrumb&&!He.O.thumbnailAlbumDisplayImage){if(0==He.$E.conBC.children().length&&He.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),t=!0,He.$E.conBC.children().remove(),A(0),0!=e){var n=He.I.length,a=[];a.push(e);for(var r=e;0!=He.I[r].albumID&&-1!=He.I[r].albumID;)for(i=1;i<n;i++)if(He.I[i].GetID()==He.I[r].albumID){r=i,a.push(r);break}for(N(0),i=a.length-1;0<=i;i--)A(a[i]),0<i&&N(a[i-1])}var o=He.$E.conBC.children().length;if(0==o)He.curNavLevel="l1",He.O.breadcrumbAutoHideTopLevel&&(He.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),t=!1);else if(He.curNavLevel=1==o?"l1":"lN",1==o&&He.O.breadcrumbAutoHideTopLevel){(new Re).tween({from:{opacity:He.$E.conNavBCon.css("opacity"),"max-height":He.$E.conNavBCon.css("max-height")},to:{opacity:"0","max-height":"0px"},attachment:{$e:He.$E.conNavBCon},duration:200,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:"0","max-height":"0px"})}})}else if(He.O.breadcrumbAutoHideTopLevel){(new Re).tween({from:{opacity:He.$E.conNavBCon.css("opacity"),"max-height":He.$E.conNavBCon.css("max-height")},to:{opacity:"1","max-height":"50px"},attachment:{$e:He.$E.conNavBCon},duration:200,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:"1","max-height":"50px"})}})}else He.$E.conNavBCon.css({opacity:1,"max-height":"50px"});He.pgMaxNbThumbnailsPerRow=z()}He.O.useTags&&(t=!0,null==He.containerTags&&(He.containerTags=jQuery('<div class="nanoGalleryTags"></div>').appendTo(He.$E.conNavB))),He.O.galleryFullpageButton&&(t=!0),!He.containerNavigationbarContDisplayed&&t&&(He.containerNavigationbarContDisplayed=!0,He.$E.conNavBCon.show())}function M(){He.$E.conLoadingB.addClass("nanoGalleryLBar").removeClass("nanoGalleryLBarOff")}function W(){He.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")}function V(e,t,n,i){if(He.O.itemsSelectable&&!1===He.O.keepSelection){He.selectedItems=[];for(var a=He.I.length,r=0;r<a;r++)He.I[r].selected=!1}switch(He.O.kind){case"":F(e,i);break;case"flickr":u(e,t,n,i);break;case"json":s(e,t,n,i);break;case"picasa":default:$(e,t,n,i)}}function R(){var o,r,l,s,u,c,d,h,g,m,f,p,b,v,y,w,x,I,e;"auto"==He.tn.settings.getH()?function(){var e=He.$E.conTnParent.width(),s=0,u=0,c=0,d=[],h=z(),g=0,m=He.O.thumbnailGutterHeight,t=He.tn.outerWidth.get(),n=He.$E.conTn.find(".nanoGalleryThumbnailContainer");g="justified"==He.O.thumbnailAlignment?(h=Math.min(h,n.length),1==h?0:(e-h*t)/(h-1)):He.O.thumbnailGutterWidth;var a=0;n.each(function(){var e=jQuery(this).data("index");if(void 0!==e){if(0!=u)return!1;He.tn.outerWidth.get(),d[s]=He.I[e].thumbFullHeight+m,a++,h<=++s&&(s=0,u++),c++}});var f=d.length*(t+g)-g;s=u=0,n.each(function(){var e=jQuery(this),t=e.data("index");if(void 0!==t){"onBottom"==He.O.thumbnailLabel.get("position")&&J(e,He.I[t]);var n=0,a=0;if(0==u)n=s*(He.tn.outerWidth.get()+g),d[s]=He.I[t].thumbFullHeight+m,h<=++s&&(s=0,u++);else{var r=0,o=d[0];for(i=1;i<h;i++)if(d[i]+5<o){o=d[i],r=i;break}a=d[r],n=r*(He.tn.outerWidth.get()+g),d[r]=a+He.I[t].thumbFullHeight+m}var l=n;He.O.RTL&&(l=f-n-He.tn.outerWidth.get()),e.css({top:a,left:l}),Q(e,He.I[t],c),c++}});var r=d[0];for(i=1;i<a;i++)r=Math.max(r,d[i]);He.$E.conTn.width(f).height(r)}():"auto"==He.tn.settings.getW()?(o=He.$E.conTnParent.width(),u=[],h=!(d=[]),p=f=m=g=c=s=l=r=0,b=He.O.thumbnailGutterWidth,v=He.O.thumbnailGutterHeight,w=y=0,I=x=!1,(e=He.$E.conTn.find(".nanoGalleryThumbnailContainer")).each(function(){var e=jQuery(this).data("index");if(void 0!==e&&null!=He.I[e]){if(!(0<He.I[e].thumbImg().width&&0<He.I[e].thumbImg().height))return!1;var t=He.I[e],n=Math.floor(t.thumbImg().width/t.thumbImg().height*He.tn.settings.getH())+He.tn.borderWidth+He.tn.imgcBorderWidth;if(He.O.thumbnailFeatured&&0==g&&(f=n*=2),h&&(r=0,I=x=h=!1,1==++c&&0<f&&(r=f,f=0)),t.thumbImg().height>t.thumbImg().width?x=!0:I=!0,r+n+b<o){r+=n+b,d[c]=He.tn.settings.getH();var i=Math.max(x?y:0,I?w:0);He.O.thumbnailAdjustLastRowHeight&&0<i&&(d[c]=Math.min(d[c],i)),u[c]=e}else{r+=n;var a=Math.floor(He.tn.settings.getH()*o/r);d[c]=a,x&&(y=Math.max(y,a)),I&&(w=Math.max(w,a)),u[c]=e,h=!0}g++}}),g=l=s=c=0,e.each(function(){var e=jQuery(this),t=e.data("index");if(void 0!==t&&null!=He.I[t]){if(!(0<He.I[t].thumbImg().width&&0<He.I[t].thumbImg().height))return!1;var n=He.I[t],i=Math.floor(n.thumbImg().width/n.thumbImg().height*d[c]);0==g&&He.O.thumbnailFeatured&&(i*=2,m=1==d.length?2*parseInt(d[0]):parseInt(d[0])+parseInt(d[1])+He.tn.borderHeight+He.tn.imgcBorderHeight),t==u[c]&&(u.length!=c+1||l+i+He.tn.borderWidth+He.tn.imgcBorderWidth+b>o)&&(i=o-l-He.tn.borderWidth-He.tn.imgcBorderWidth);var a=0;0==g&&He.O.thumbnailFeatured||(a=d[c]),a=parseInt(a),i=parseInt(i),e.width(i+He.tn.imgcBorderWidth).height(a+He.tn.imgcBorderHeight+He.tn.labelHeight.get()),n.$getElt(".imgContainer").height(a).width(i),e.find("img").css({"max-height":a+2,"max-width":i+2}),e.find(".subcontainer").width(i+He.tn.imgcBorderWidth).height(a+He.tn.imgcBorderHeight+He.tn.labelHeight.get());var r=l;He.O.RTL&&(r=o-l-(i+He.tn.borderWidth+He.tn.imgcBorderWidth)),e.css({top:s,left:r}),n.thumbFullWidth=i+He.tn.borderWidth+He.tn.imgcBorderWidth,n.thumbFullHeight=a+He.tn.borderHeight+He.tn.imgcBorderHeight+He.tn.labelHeight.get(),ie(e),Q(e,n,g),l+=i+He.tn.borderWidth+He.tn.imgcBorderWidth+b,t==u[c]&&(s+=d[c]+He.tn.labelHeight.get()+v+He.tn.imgcBorderHeight+He.tn.borderHeight,l=0,1==++c&&0<p&&(l=p,p=0)),g++}}),0<c&&(s-=v),m=m+He.tn.outerHeight.get()+He.tn.labelHeight.get(),He.$E.conTn.width(o).height(m<s?s:m)):function(){var i=0,a=0,r=0,o=He.O.thumbnailGutterHeight,l=He.$E.conTnParent.width(),s=z(),u=0,c=0,d=[],h=0;He.L.nbMaxTnPerRow=z();var e=new Date;if(0<He.pgMaxLinesPerPage&&0<He.tn.outerWidth.get()&&s!=He.pgMaxNbThumbnailsPerRow){return He.pgMaxNbThumbnailsPerRow=s,Y(He.$E.conPagin.data("galleryIdx"),0)}var t=He.$E.conTn.find(".nanoGalleryThumbnailContainer"),n=t.length;r="justified"==He.O.thumbnailAlignment?(s=Math.min(s,n),1==s?0:(l-s*He.tn.outerWidth.get())/(s-1)):He.O.thumbnailGutterWidth,He.O.RTL&&(t.each(function(){if(void 0!==jQuery(this).data("index")){if(0!=a)return!1;i=h*(He.tn.outerWidth.get()+r),d[h]=i,c=i,s<=++h&&(h=0,a+=He.tn.outerHeight.get()+o)}}),l=c+He.tn.outerWidth.get(),h=a=0);var g=[];t.each(function(){var e=jQuery(this),t=e.data("index");if(void 0!==t){0==a?(i=h*(He.tn.outerWidth.get()+r),d[h]=i,c=i):(i=d[h],u=a);var n=i;He.O.RTL&&(n=parseInt(l)-i-He.tn.outerWidth.get()),g.push({$e:e,t:a,l:n,item:He.I[t]}),s<=++h&&(h=0,a+=He.tn.outerHeight.get()+o),0}});for(var m=g.length,f=(u=0,0);f<m;f++)g[f].$e.css({top:g[f].t,left:g[f].l}),Q(g[f].$e,g[f].item,f),u=g[f].t;g=[],He.$E.conTn.width(c+He.tn.outerWidth.get()).height(u+He.tn.outerHeight.get()),He.O.debugMode&&console.log("ResizeGalleryGrid: "+(new Date-e))}(),t(),function(){if(He.O.galleryToolbarWidthAligned&&void 0!==He.$E.conNavBCon){var e=He.$E.conTn.outerWidth(!0);He.$E.conNavBCon.width((He.$E.conNavBCon.width(),e))}}()}function z(){var e=He.tn.settings.getW()+He.tn.borderWidth+He.tn.imgcBorderWidth,t=He.$E.conTnParent.width(),n=0;return n=Math.floor("justified"==He.O.thumbnailAlignment?t/e:(t+He.O.thumbnailGutterWidth)/(e+He.O.thumbnailGutterWidth)),0<He.O.maxItemsPerLine&&n>He.O.maxItemsPerLine&&(n=He.O.maxItemsPerLine),n<1&&(n=1),n}function Q(e,t,n){e.hasClass("nanogalleryHideElement")&&(e.removeClass("nanogalleryHideElement"),He.O.thumbnailDisplayTransition?"function"==typeof He.O.fnThumbnailDisplayEffect?He.O.fnThumbnailDisplayEffect(e,t,0):setTimeout(function(){window.requestAnimationFrame(function(){var t;t=e,(new Re).tween({from:{o:0},to:{o:1},duration:200,step:function(e){t.css({opacity:e.o})},finish:function(e){t.css({opacity:e.o})}})})},n*He.tn.displayInterval):e.css({opacity:1}))}function t(){var e=He.$E.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return $e(jQuery(this),He.tn.lazyLoadTreshold)});jQuery(e).each(function(){var e=jQuery(this).find("img");if(e.attr("src")==He.emptyGif){var t=jQuery(this).data("index");if(null==t||null==He.I[t])return;e.attr("src",""),e.attr("src",He.I[t].thumbImg().src)}})}function q(){var e=He.$E.conPagin.data("galleryIdx"),t=0;0<He.pgMaxLinesPerPage&&(t=He.I[e].contentLength/(He.pgMaxLinesPerPage*He.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(t);var n=He.$E.conPagin.data("currentPageNumber");n<n2-1?n++:n=0,De(He.$E.base,0)||Ve("html, body").animate({scrollTop:He.$E.base.offset().top},200),Y(e,n)}function X(){var e=He.$E.conPagin.data("galleryIdx"),t=0;0<He.pgMaxLinesPerPage&&(t=He.I[e].contentLength/(He.pgMaxLinesPerPage*He.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(t);var n=He.$E.conPagin.data("currentPageNumber");0<n?n--:n=n2-1,De(He.$E.base,0)||Ve("html, body").animate({scrollTop:He.$E.base.offset().top},250),Y(e,n)}function o(e){var t=He.I.length,n=0,i=e||He.GetCurrentViewedItemIdx();if(-1===i)return 0;for(var a=0;a<t;a++)He.I[a].albumID==He.I[i].albumID&&"image"==He.I[a].kind&&n++;return n}function Y(a,r){He.curAlbumIdx=-1,null==He.$E.conPagin&&He.$E.conPagin.children().remove();var e=He.$E.conTn.parent();(new Re).tween({to:{opacity:0},from:{opacity:1},attachment:{$e:e},duration:150,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:0}),He.containerThumbnailsDisplayed=!1,He.$E.conTn.hide(0).off().show(0).html("");for(var n=He.I.length,i=0;i<n;i++)He.I[i].$Elts=[],He.I[i].$elt=null,He.I[i].hoverInitDone=!1,He.I[i].hovered=!1;He.$E.conTnParent.css({left:0,opacity:1}),m(He.$E.conTn[0],0),function(r,o,l){if(He.O.debugMode&&console.timeline&&console.timeline("nanoGALLERY"),He.startDateTime=new Date,-1!=r&&null!=He.I[r]){He.I[r].paginationLastPage=o,He.I[r].paginationLastWidth=He.$E.conTnParent.width();var s=He.I.length,u=He.galleryItemsCount=0,c=0;0<He.pgMaxLinesPerPage&&"auto"!=He.tn.settings.getH()&&"auto"!=He.tn.settings.getW()&&(c=o*He.pgMaxLinesPerPage*He.pgMaxNbThumbnailsPerRow,He.pgMaxLinesPerPage,He.pgMaxNbThumbnailsPerRow),W();var d=!1,h=!1,g=0;!function(){He.toRender=[];for(var e=0;e<He.O.galleryRenderStep;e++){if(s<=g)return l(r,o);var t=He.I[g];if(t.albumID==He.I[r].GetID()){if(u++,0<He.pgMaxLinesPerPage&&"auto"!=He.tn.settings.getH()&&"auto"!=He.tn.settings.getW()&&He.galleryItemsCount+1>He.pgMaxLinesPerPage*He.pgMaxNbThumbnailsPerRow)return l(r,o);if(c<u){He.galleryItemsCount++;var n=Z(t,g,!1),i=n.e$;He.O.thumbnailLazyLoad&&!n.cIS&&(d||($e(i,He.tn.lazyLoadTreshold)?(t.$getElt("img").attr("src",""),t.$getElt("img").attr("src",t.thumbImg().src),h=!0):h&&(d=!0)))}}g++}var a=He.toRender.length;if(0<a)for(e=0;e<a;e++);g<s?setTimeout(arguments.callee,2):l(r,o)}()}}(a,r,U)}})}function U(e,t){R(),function(e,t){if(null!=He.$E.conPagin){if(He.$E.conPagin.children().remove(),0==He.pgMaxLinesPerPage||"auto"==He.tn.settings.getH()||"auto"==He.tn.settings.getW())return He.$E.conPagin.hide();He.$E.conPagin.show(),He.$E.conPagin.data("galleryIdx",e),He.$E.conPagin.data("currentPageNumber",t);var n=0,i=0;if(!He.O.paginationDots&&0<t){var a=jQuery('<div class="paginationPrev">'+(He.O.paginationDots?"":He.i18nTranslations.paginationPrevious)+"</div>").appendTo(He.$E.conPagin);i+=jQuery(a).outerWidth(!0),a.click(function(){X()})}var r=0;0<He.pgMaxLinesPerPage&&"auto"!=He.tn.settings.getH()&&"auto"!=He.tn.settings.getW()&&(n=Math.ceil(He.I[e].contentLength/(He.pgMaxLinesPerPage*He.pgMaxNbThumbnailsPerRow)));if(!He.O.paginationDots){var o=He.O.paginationVisiblePages;n<=o?r=0:(n<=(o%2==1?(r=t-(o-1)/2,t+(o-1)/2):(r=t-o/2,t+Math.max(o/2-1,1)))&&(r=n-o),r<0&&(r=0))}if(1==n)return He.$E.conPagin.hide();for(var l=r;l<n;l++){var s="";l==t&&(s=" currentPage");var u=jQuery('<div class="paginationItem'+s+'">'+(He.O.paginationDots?"":l+1)+"</div>").appendTo(He.$E.conPagin);if(u.data("pageNumber",l),i+=u.outerWidth(!0),u.click(function(){var e=He.$E.conPagin.data("galleryIdx"),t=jQuery(this).data("pageNumber");De(He.$E.base,0)||Ve("html, body").animate({scrollTop:He.$E.base.offset().top},200),Y(e,t)}),o-1<=l-r)break}if(!He.O.paginationDots&&t+1<n){var c=jQuery('<div class="paginationNext">'+(He.O.paginationDots?"":He.i18nTranslations.paginationNext)+"</div>").appendTo(He.$E.conPagin);i+=c.outerWidth(!0),c.click(function(){q()})}He.$E.conPagin.width(i)}}(e,t),He.containerThumbnailsDisplayed=!0,He.curAlbumIdx=e,"function"==typeof He.O.fnInitGallery&&He.O.fnInitGallery(e,t),He.O.debugMode&&console.timeline&&(console.log("End-render: "+(new Date-He.startDateTime)),console.timelineEnd("nanoGALLERY")),He.SetSelectMode()}function Z(e,t,n){var i=[],a=0;e.$Elts=[];var r="";He.O.thumbnailLazyLoad&&"auto"==He.tn.settings.getW()&&(r="top:0px;left:0px;"),i[a++]='<div class="nanoGalleryThumbnailContainer nanogalleryHideElement nGEvent" style="display:block;opacity:0;'+r+'" data-originalid="'+e.ID+'" ><div class="subcontainer nGEvent" style="display:block;">';var o=!1,l=He.emptyGif;("auto"==He.tn.settings.getH()&&0==He.I[t].thumbImg().height||"auto"==He.tn.settings.getW()&&0==He.I[t].thumbImg().width)&&(o=!0),He.O.thumbnailLazyLoad&&!o||(l=e.thumbImg().src);var s,u,c,d=(c=e.title,1==He.O.thumbnailLabel.get("display")&&(void 0!==c&&0!=c.length||(c="&nbsp;"),""!=He.i18nTranslations.thumbnailImageTitle&&(c=He.i18nTranslations.thumbnailImageTitle),3<He.O.thumbnailLabel.get("titleMaxLength")&&c.length>He.O.thumbnailLabel.get("titleMaxLength")&&(c=c.substring(0,He.O.thumbnailLabel.get("titleMaxLength"))+"...")),c),h=(s=e,u="",1==He.O.thumbnailLabel.get("displayDescription")&&(u="album"==s.kind?""!=He.i18nTranslations.thumbnailImageDescription?He.i18nTranslations.thumbnailAlbumDescription:s.description:""!=He.i18nTranslations.thumbnailImageDescription?He.i18nTranslations.thumbnailImageDescription:s.description,3<He.O.thumbnailLabel.get("descriptionMaxLength")&&u.length>He.O.thumbnailLabel.get("descriptionMaxLength")&&(u=u.substring(0,He.O.thumbnailLabel.get("descriptionMaxLength"))+"...")),u);if(i[a++]="auto"==He.tn.settings.getH()?'<div class="imgContainer nGEvent" style="width:'+He.tn.settings.getW()+'px;"><img class="image nGEvent" src="'+l+'" alt="'+d+'" style="max-width:'+He.tn.settings.getW()+'px;"></div>':"auto"==He.tn.settings.getW()?'<div class="imgContainer nGEvent" style="height:'+He.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+l+'" alt="'+d+'" style="max-height:'+He.tn.settings.getH()+'px;" ></div>':'<div class="imgContainer nGEvent" style="width:'+He.tn.settings.getW()+"px;height:"+He.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+l+'" alt="'+d+'" style="max-width:'+He.tn.settings.getW()+"px;max-height:"+He.tn.settings.getH()+'px;" ></div>',"album"==e.kind){if(1==He.O.thumbnailLabel.get("display")){if(0<e.contentLength)switch(He.O.thumbnailLabel.get("itemsCount")){case"title":d+=" "+He.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+e.contentLength+"</span>"+He.i18nTranslations.thumbnailLabelItemsCountPart2;break;case"description":h+=" "+He.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+e.contentLength+"</span>"+He.i18nTranslations.thumbnailLabelItemsCountPart2}i[a++]='<div class="labelImage nGEvent" style="width:'+He.tn.settings.getW()+"px;"+(He.O.RTL?"direction:RTL;":"")+("l1"==He.curNavLevel?He.tn.styleL1LabelImage:He.tn.styleLabelImage)+'"><div class="labelFolderTitle labelTitle nGEvent" style="'+("l1"==He.curNavLevel?He.tn.styleL1FTitle:He.tn.styleFTitle)+'">'+d+'</div><div class="labelDescription nGEvent" style="'+("l1"==He.curNavLevel?He.tn.styleL1Desc:He.tn.styleDesc)+'">'+h+"</div></div>"}}else 1==He.O.thumbnailLabel.get("display")&&(n&&0==h.length&&"onBottom"==He.O.thumbnailLabel.get("position")&&(h="&nbsp;"),i[a++]='<div class="labelImage nGEvent" style="width:'+He.tn.settings.getW()+"px;"+(He.O.RTL?"direction:RTL;":"")+("l1"==He.curNavLevel?He.tn.styleL1LabelImage:He.tn.styleLabelImage)+'"><div class="labelImageTitle labelTitle nGEvent" style="'+("l1"==He.curNavLevel?He.tn.styleL1ITitle:He.tn.styleITitle)+'">'+d+'</div><div class="labelDescription nGEvent" style="'+("l1"==He.curNavLevel?He.tn.styleL1Desc:He.tn.styleDesc)+'">'+h+"</div></div>");if(i[a++]="</div>",He.O.itemsSelectable){if(!(e.selected=!1)===He.O.keepSelection)for(it in He.selectedItems)He.selectedItems[it].GetID()===e.GetID()&&(e.selected=!0);He.O.showCheckboxes&&(checked="",e.selected&&(checked="checked"),i[a++]='<input class="ngChekbox" type="checkbox" '+checked+' style="position:absolute;z-index:999;'+He.O.checkboxStyle+'">')}i[a++]="</div>";var g=jQuery(i.join("")).appendTo(He.$E.conTnHid);(void 0!==e.selected&&!0===e.selected&&g.find(".subcontainer").addClass("selected"),(e.$elt=g).data("index",t),e.$getElt("img").data("index",t),"function"==typeof He.O.fnThumbnailInit&&He.O.fnThumbnailInit(g,e,v()),g.detach().appendTo(He.$E.conTn),o)?ngimagesLoaded(g).on("always",function(e){var t=He.I[jQuery(e.images[0].img).data("index")];if(null!=t&&e.images[0].img.src!=He.emptyGif){var n=!1;t.thumbImg().height!=e.images[0].img.naturalHeight&&(t.thumbSetImgHeight(e.images[0].img.naturalHeight),t.thumbSetImgWidth(e.images[0].img.naturalWidth),n=!0),t.thumbImg().width!=e.images[0].img.naturalWidth&&(t.thumbSetImgHeight(e.images[0].img.naturalHeight),t.thumbSetImgWidth(e.images[0].img.naturalWidth),n=!0),n&&(te(t.$elt),J(t.$elt,t),ie(t.$elt),R())}}):(te(g),J(g,e),ie(g));return{e$:g,cIS:o}}function K(e,t,n){var i=e.$elt,a=i.find("input[type=checkbox]");"image"!==He.selectMode&&"album"!==He.selectMode||e.kind===He.selectMode?(e.selected=void 0===t?!e.selected:t,!1!==n&&a.prop("checked",e.selected),e.selected?e.$getElt(".subcontainer").addClass("selected"):e.$getElt(".subcontainer").removeClass("selected")):(e.selected=!1,a.prop("checked",!1),e.$getElt(".subcontainer").removeClass("selected")),function(){var e;!0===He.O.keepSelection&&(e=He.selectedItems.slice(0)),He.selectedItems=[];for(var t=He.I.length,n=0;n<t;n++)!0===He.I[n].selected&&He.selectedItems.push(He.I[n]);if(!0===He.O.keepSelection){for(n in e){alreadyExists=!1;for(var i=0;i<t;i++)He.I[i].GetID()===e[n].GetID()&&(alreadyExists=!0);!1===alreadyExists&&He.selectedItems.push(e[n])}e=[]}0<He.selectedItems.length||1==He.selectModeForce?(He.I.forEach(function(e){null===e.$elt||e.$elt.hasClass("selectable")||(1==He.selectModeForce&&e.kind===He.selectMode||1==He.selectMode)&&e.$elt.addClass("selectable")}),!0!==He.selectMode&&"image"!==He.selectMode&&"album"!==He.selectMode&&(He.selectMode=!0)):(He.I.forEach(function(e){null!==e.$elt&&e.$elt.removeClass("selectable")}),He.selectMode=!1),"function"==typeof He.O.fnChangeSelectMode&&He.O.fnChangeSelectMode(He.selectMode)}(),"function"==typeof He.O.fnThumbnailSelection&&He.O.fnThumbnailSelection(i,e)}function J(e,t){if("auto"==He.tn.settings.getH()){if(0<t.thumbImg().height){var n=t.thumbImg().height/t.thumbImg().width;t.$getElt(".imgContainer").height(He.tn.settings.getW()*n),"onBottom"==He.O.thumbnailLabel.get("position")?(t.thumbLabelHeight=t.$getElt(".labelImage").outerHeight(!0),t.thumbFullHeight=He.tn.settings.getW()*n+t.thumbLabelHeight+He.tn.borderHeight+He.tn.imgcBorderHeight,e.width(He.tn.outerWidth.get()-He.tn.borderWidth).height(t.thumbFullHeight-He.tn.borderHeight),t.$getElt(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(t.thumbFullHeight=He.tn.settings.getW()*n+t.thumbLabelHeight+He.tn.borderHeight+He.tn.imgcBorderHeight,e.width(He.tn.outerWidth.get()-He.tn.borderWidth).height(t.thumbFullHeight-He.tn.borderHeight))}t.thumbFullWidth=He.tn.outerWidth.get(),t.$getElt(".subcontainer").width(He.tn.outerWidth.get()-He.tn.borderWidth).height(t.thumbFullHeight-He.tn.borderHeight)}else if("auto"==He.tn.settings.getW()){return}else t.thumbFullHeight=He.tn.outerHeight.get(),t.thumbFullWidth=He.tn.outerWidth.get(),e.width(t.thumbFullWidth-He.tn.borderWidth).height((He.O.thumbnailLabel.get("position"),t.thumbFullHeight-He.tn.borderHeight)),t.$getElt(".subcontainer").width(t.thumbFullWidth-He.tn.borderWidth).height(t.thumbFullHeight-He.tn.borderHeight)}function ee(){for(var e=He.I.length,t=0;t<e;t++)He.I[t].hovered&&ue(He.I[t].$elt)}function te(e){if(null!=(c=e.data("index"))){var t=He.I[c];for("function"==typeof He.O.fnThumbnailHoverInit&&He.O.fnThumbnailHoverInit(e,t,v()),function(e){for(var t in e.eltTransform)delete e.eltTransform[t]}(t),j=0;j<He.tn.getHE().length;j++)switch(He.tn.getHE()[j].name){case"imageSplit4":var n=t.$getElt(".subcontainer"),i=t.$getElt(".labelImage");(u=t.$getElt(".imgContainer")).css({position:"absolute"}),n.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),n.prepend(u.clone()),n.prepend(t.$getElt(".imgContainer",!0).clone()),je("",u=t.$getElt(".imgContainer",!0)),ae(t,"imgContainer0",u.eq(0)),re(t,"imgContainer0"),ae(t,"imgContainer1",u.eq(1)),re(t,"imgContainer1"),ae(t,"imgContainer2",u.eq(2)),re(t,"imgContainer2"),ae(t,"imgContainer3",u.eq(3)),re(t,"imgContainer3");break;case"imageSplitVert":n=t.$getElt(".subcontainer");(u=t.$getElt(".imgContainer")).css({position:"absolute"}),n.css({overflow:"hidden",position:"relative"}),n.prepend(u.clone()),je("",u=t.$getElt(".imgContainer",!0)),ae(t,"imgContainer0",u.eq(0)),re(t,"imgContainer0"),ae(t,"imgContainer1",u.eq(1)),re(t,"imgContainer1");break;case"labelSplit4":n=t.$getElt(".subcontainer"),i=t.$getElt(".labelImage").css({top:0,bottom:0});n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),t.$getElt(".labelImage",!0).clone().appendTo(n),i=t.$getElt(".labelImage",!0),ae(t,"labelImage0",i.eq(0)),re(t,"labelImage0"),ae(t,"labelImage1",i.eq(1)),re(t,"labelImage1"),ae(t,"labelImage2",i.eq(2)),re(t,"labelImage2"),ae(t,"labelImage3",i.eq(3)),re(t,"labelImage3");break;case"labelSplitVert":n=t.$getElt(".subcontainer"),i=t.$getElt(".labelImage");n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),i=t.$getElt(".labelImage",!0),ae(t,"labelImage0",i.eq(0)),re(t,"labelImage0"),ae(t,"labelImage1",i.eq(1)),re(t,"labelImage1");break;case"labelAppearSplit4":n=t.$getElt(".subcontainer");(i=t.$getElt(".labelImage")).css({left:0,top:0,right:0,bottom:0}),n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),t.$getElt(".labelImage",!0).clone().appendTo(n),i=t.$getElt(".labelImage",!0);var a=ae(t,"labelImage0",i.eq(0));a.translateX=-t.thumbFullWidth/2,a.translateY=-t.thumbFullHeight/2,re(t,"labelImage0"),(a=ae(t,"labelImage1",i.eq(1))).translateX=t.thumbFullWidth/2,a.translateY=-t.thumbFullHeight/2,re(t,"labelImage1"),(a=ae(t,"labelImage2",i.eq(2))).translateX=t.thumbFullWidth/2,a.translateY=t.thumbFullHeight/2,re(t,"labelImage2"),(a=ae(t,"labelImage3",i.eq(3))).translateX=-t.thumbFullWidth/2,a.translateY=t.thumbFullHeight/2,re(t,"labelImage3");break;case"labelAppearSplitVert":n=t.$getElt(".subcontainer"),i=t.$getElt(".labelImage");n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),i=t.$getElt(".labelImage",!0),ae(t,"labelImage0",i.eq(0)).translateX=-t.thumbFullWidth/2,re(t,"labelImage0"),ae(t,"labelImage1",i.eq(1)).translateX=t.thumbFullWidth/2,re(t,"labelImage1");break;case"imageScale150Outside":He.$E.base.css({overflow:"visible"}),He.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),t.$getElt(".subcontainer").css({overflow:"visible"}),t.$getElt(".imgContainer").css({overflow:"visible"}),ae(t,"img0",t.$getElt("img")),re(t,"img0"),je(t.$getElt(".imgContainer"),t.$getElt(".labelImage"));break;case"scale120":He.$E.base.hasClass("fullpage")||He.$E.base.css({overflow:"visible"}),He.$E.conTn.css({overflow:"visible"}),ae(t,"base",e),re(t,"base");break;case"scaleLabelOverImage":je(r=t.$getElt(".imgContainer"),o=t.$getElt(".labelImage")),o.css({opacity:0}),ae(t,"labelImage0",o).scale=50,re(t,"labelImage0"),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"overScale":e.css({overflow:"hidden"});var r=t.$getElt(".imgContainer");je("",o=t.$getElt(".labelImage")),o.css({opacity:0}),r.css({opacity:1}),ae(t,"labelImage0",o).scale=150,re(t,"labelImage0"),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"overScaleOutside":He.$E.base.hasClass("fullpage")||He.$E.base.css({overflow:"visible"}),He.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"});var o;r=t.$getElt(".imgContainer");je("",o=t.$getElt(".labelImage")),o.css({opacity:0}),r.css({opacity:1}),ae(t,"labelImage0",o).scale=150,re(t,"labelImage0"),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"rotateCornerBL":e.css({overflow:"hidden"}),(r=t.$getElt(".labelImage")).css({opacity:1}),r[0].style[He.CSStransformName+"Origin"]="100% 100%",ae(t,"labelImage0",r).rotateZ=-90,re(t,"labelImage0"),(r=t.$getElt(".imgContainer"))[0].style[He.CSStransformName+"Origin"]="100% 100%",ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"rotateCornerBR":e.css({overflow:"hidden"}),(r=t.$getElt(".labelImage")).css({opacity:1}),r[0].style[He.CSStransformName+"Origin"]="0% 100%",ae(t,"labelImage0",r).rotateZ=90,re(t,"labelImage0"),(r=t.$getElt(".imgContainer"))[0].style[He.CSStransformName+"Origin"]="0 100%",ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"imageRotateCornerBL":je(e,r=t.$getElt(".imgContainer")),e.css({overflow:"hidden"}),t.$getElt(".labelImage").css({opacity:1}),r[0].style[He.CSStransformName+"Origin"]="bottom right",ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"imageRotateCornerBR":je(e,r=t.$getElt(".imgContainer")),e.css({overflow:"hidden"}),t.$getElt(".labelImage").css({opacity:1}),r[0].style[He.CSStransformName+"Origin"]="0 100%",ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"slideUp":e.css({overflow:"hidden"}),(r=t.$getElt(".labelImage")).css({opacity:1,top:0}),ae(t,"labelImage0",r).translateY=t.thumbFullHeight,re(t,"labelImage0"),(r=t.$getElt(".imgContainer")).css({left:0,top:0}),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"slideDown":e.css({overflow:"hidden"}),(r=t.$getElt(".labelImage")).css({opacity:1,top:0}),ae(t,"labelImage0",r).translateY=-t.thumbFullHeight,re(t,"labelImage0"),(r=t.$getElt(".imgContainer")).css({left:0,top:0}),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"slideRight":e.css({overflow:"hidden"}),(r=t.$getElt(".labelImage")).css({opacity:1,top:0}),ae(t,"labelImage0",r).translateX=-t.thumbFullWidth,re(t,"labelImage0"),(r=t.$getElt(".imgContainer")).css({left:0,top:0}),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"slideLeft":e.css({overflow:"hidden"}),(r=t.$getElt(".labelImage")).css({opacity:1,top:0}),ae(t,"labelImage0",r).translateX=t.thumbFullWidth,re(t,"labelImage0"),(r=t.$getElt(".imgContainer")).css({left:0,top:0}),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":je(e,r=t.$getElt(".imgContainer")),e.css({overflow:"visible"}),t.$getElt(".labelImage").css({opacity:1}),r.css({left:0,top:0}),ae(t,"imgContainer0",r),re(t,"imgContainer0");break;case"labelAppear":case"labelAppear75":var l="rgb("+He.custGlobals.oldLabelRed+","+He.custGlobals.oldLabelGreen+","+He.custGlobals.oldLabelBlue+",0.01)";t.$getElt(".labelImage").css({backgroundColor:l}),"album"==t.kind?t.$getElt(".labelFolderTitle").css({opacity:0}):t.$getElt(".labelImageTitle").css({opacity:0}),t.$getElt(".labelDescription").css({opacity:0});break;case"descriptionAppear":t.$getElt(".labelDescription").css({opacity:0});break;case"labelSlideUpTop":e.css({overflow:"hidden"}),t.$getElt(".labelImage").css({top:0,bottom:0}),ae(t,"labelImage0",t.$getElt(".labelImage")).translateY=t.thumbFullHeight,re(t,"labelImage0");break;case"labelSlideUp":e.css({overflow:"hidden"}),ae(t,"labelImage0",t.$getElt(".labelImage")).translateY=t.thumbFullHeight,re(t,"labelImage0");break;case"labelSlideDown":e.css({overflow:"hidden"}),ae(t,"labelImage0",t.$getElt(".labelImage")).translateY=-t.thumbFullHeight,re(t,"labelImage0");break;case"descriptionSlideUp":e.css({overflow:"hidden"});var s="album"==t.kind?t.$getElt(".labelFolderTitle").outerHeight(!0):t.$getElt(".labelImageTitle").outerHeight(!0);t.$getElt(".labelDescription").css({opacity:0}),t.$getElt(".labelImage").css({height:s}),ae(t,"labelImage0",t.$getElt(".labelImage")),re(t,"labelImage0");break;case"imageExplode":je("",e),je(t.$getElt(".labelImage"),t.$getElt(".imgContainer"));n=t.$getElt(".subcontainer");for(var u,c=7,d=(u=(t.thumbFullHeight,t.$getElt(".imgContainer"))).outerWidth(!0)/c,h=u.outerHeight(!0),g=(h=u.outerHeight(!0)/c,0);g<c;g++)for(l=0;l<c;l++){var m="rect("+h*g+"px, "+d*(l+1)+"px, "+h*(g+1)+"px, "+d*l+"px)";u.clone().appendTo(n).css({top:0,scale:1,clip:m,left:0,position:"absolute"}).data("ngScale",1)}u.remove();break;case"imageFlipHorizontal":switch(He.O.thumbnailLabel.get("position")){case"overImageOnTop":case"overImageOnMiddle":t.$getElt(".labelImage").css({top:-He.tn.imgcBorderHeight/2,bottom:He.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:t.$getElt(".labelImage").css({bottom:He.tn.imgcBorderWidth/2,left:0,right:0})}He.$E.base.hasClass("fullpage")||He.$E.base.css({overflow:"visible"}),He.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),je("",e),je(t.$getElt(".labelImage"),t.$getElt(".imgContainer")),(r=t.$getElt(".subcontainer")).css({overflow:"visible"}),r[0].style[He.CSStransformStyle]="preserve-3d";c=Math.round(1.2*t.thumbFullHeight)+"px";r[0].style[He.CSSperspective]=c,(r=t.$getElt(".imgContainer"))[0].style[He.CSSbackfaceVisibilityName]="hidden",ae(t,"imgContainer0",r),re(t,"imgContainer0"),e.find(".image")[0].style[He.CSSbackfaceVisibilityName]="hidden",(r=t.$getElt(".labelImage"))[0].style[He.CSSbackfaceVisibilityName]="hidden",ae(t,"labelImage0",r).rotateX=180,re(t,"labelImage0");break;case"imageFlipVertical":switch(He.O.thumbnailLabel.get("position")){case"overImageOnTop":case"overImageOnMiddle":t.$getElt(".labelImage").css({top:-He.tn.imgcBorderHeight/2,bottom:He.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:t.$getElt(".labelImage").css({bottom:He.tn.imgcBorderWidth/2,left:0,right:0})}He.$E.base.hasClass("fullpage")||He.$E.base.css({overflow:"visible"}),He.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),je("",e),je(t.$getElt(".labelImage"),t.$getElt(".imgContainer")),(r=t.$getElt(".subcontainer")).css({overflow:"visible"}),r[0].style[He.CSStransformStyle]="preserve-3d";c=Math.round(1.2*t.thumbFullWidth)+"px";r[0].style[He.CSSperspective]=c,(r=t.$getElt(".imgContainer"))[0].style[He.CSSbackfaceVisibilityName]="hidden",ae(t,"imgContainer0",r),re(t,"imgContainer0"),e.find(".image")[0].style[He.CSSbackfaceVisibilityName]="hidden",(r=t.$getElt(".labelImage"))[0].style[He.CSSbackfaceVisibilityName]="hidden",ae(t,"labelImage0",r).rotateY=180,re(t,"labelImage0");break;case"imageScale150":e.css({overflow:"hidden"}),ae(t,"img0",t.$getElt("img")),re(t,"img0");break;case"imageScaleIn80":e.css({overflow:"hidden"}),ae(t,"img0",t.$getElt("img")).scale=120,re(t,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":e.css({overflow:"hidden"}),t.customData.hoverEffectRDir=He.tn.getHE()[j].name,ne(e,t);break;case"imageSlide2Random":e.css({overflow:"hidden"});var f=["imageSlide2Up","imageSlide2Down","imageSlide2Left","imageSlide2Left","imageSlide2UpRight","imageSlide2UpLeft","imageSlide2DownRight","imageSlide2DownLeft"];t.customData.hoverEffectRDir=f[Math.floor(Math.random()*f.length)],ne(e,t)}t.hoverInitDone=!0}}function ne(e,t){var n=t.thumbFullWidth,i=t.thumbFullHeight,a=ae(t,"img0",t.$getElt("img"));switch(a.scale=140,t.customData.hoverEffectRDir){case"imageSlide2Up":a.translateY=t.thumbFullHeight<1.4*t.thumbImg().height?(1.4*t.thumbImg().height-t.thumbFullHeight)/2:0,a.translateX=t.thumbFullWidth<1.4*t.thumbImg().width?-(1.4*t.thumbImg().width-t.thumbFullWidth)/2:0;break;case"imageSlide2Down":var r=t.thumbFullHeight<1.4*t.thumbImg().height?Math.min((1.4*t.thumbImg().height-t.thumbFullHeight)/2*.1,.1*i):0;a.translateY=-r;var o=t.thumbFullWidth<1.4*t.thumbImg().width?Math.min((1.4*t.thumbImg().width-t.thumbFullWidth)/2*.1,.1*n):0;a.translateX=o;break;case"imageSlide2Left":a.translateY=.1*-i,a.translateX=.1*n;break;case"imageSlide2Right":a.translateY=.1*-i,a.translateX=.1*-n;break;case"imageSlide2UpRight":a.translateY=.05*i,a.translateX=.05*-n;break;case"imageSlide2UpLeft":a.translateY=.05*i,a.translateX=.05*n;break;case"imageSlide2DownRight":a.translateY=.05*-i,a.translateX=.05*-n;break;case"imageSlide2DownLeft":a.translateY=.05*-i,a.translateX=.05*n}re(t,"img0")}function ie(e){if(null!=(l=e.data("index"))){var t=He.I[l];if(!t.hoverInitDone)return void te(e);for("function"==typeof He.O.fnThumbnailHoverResize&&He.O.fnThumbnailHoverResize(e,t,v()),j=0;j<He.tn.getHE().length;j++)switch(He.tn.getHE()[j].name){case"imageSplit4":var n=t.thumbFullWidth-He.tn.borderWidth-He.tn.imgcBorderWidth,i=t.thumbFullHeight-He.tn.borderHeight-He.tn.imgcBorderHeight,a=t.$getElt(".imgContainer"),r="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)";a.eq(0).css({clip:r}),r="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",a.eq(1).css({clip:r}),r="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",a.eq(2).css({clip:r}),r="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",a.eq(3).css({clip:r});break;case"imageSplitVert":a=t.$getElt(".imgContainer"),n=t.thumbFullWidth-He.tn.borderWidth-He.tn.imgcBorderWidth,i=t.thumbFullHeight-He.tn.borderHeight-He.tn.imgcBorderHeight,r="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";a.eq(0).css({clip:r}),r="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",a.eq(1).css({clip:r});break;case"labelSplit4":n=t.thumbFullWidth-He.tn.borderWidth-He.tn.imgcBorderWidth,i=t.thumbFullHeight-He.tn.borderHeight-He.tn.imgcBorderHeight;var o=t.$getElt(".labelImage");r="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)",o.eq(0).css({clip:r}),r="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",o.eq(1).css({clip:r}),r="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",o.eq(2).css({clip:r}),r="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",o.eq(3).css({clip:r});break;case"labelSplitVert":n=t.thumbFullWidth-He.tn.borderWidth-He.tn.imgcBorderWidth,i=t.thumbFullHeight-He.tn.borderHeight-He.tn.imgcBorderHeight,o=t.$getElt(".labelImage"),r="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";o.eq(0).css({clip:r}),r="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",o.eq(1).css({clip:r});break;case"labelAppearSplit4":n=t.thumbFullWidth-He.tn.borderWidth-He.tn.imgcBorderWidth,i=t.thumbFullHeight-He.tn.borderHeight-He.tn.imgcBorderHeight;o=t.$getElt(".labelImage");r="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)";o.eq(0).css({clip:r}),r="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",o.eq(1).css({clip:r}),r="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",o.eq(2).css({clip:r}),r="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",o.eq(3).css({clip:r}),t.eltTransform.labelImage0.translateX=-t.thumbFullWidth/2,t.eltTransform.labelImage0.translateY=-t.thumbFullHeight/2,re(t,"labelImage0"),t.eltTransform.labelImage1.translateX=t.thumbFullWidth/2,t.eltTransform.labelImage1.translateY=-t.thumbFullHeight/2,re(t,"labelImage1"),t.eltTransform.labelImage2.translateX=t.thumbFullWidth/2,t.eltTransform.labelImage2.translateY=t.thumbFullHeight/2,re(t,"labelImage2"),t.eltTransform.labelImage3.translateX=-t.thumbFullWidth/2,t.eltTransform.labelImage3.translateY=t.thumbFullHeight/2,re(t,"labelImage3");break;case"labelAppearSplitVert":n=t.thumbFullWidth-He.tn.borderWidth-He.tn.imgcBorderWidth,i=t.thumbFullHeight-He.tn.borderHeight-He.tn.imgcBorderHeight;o=t.$getElt(".labelImage");r="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";o.eq(0).css({clip:r}),r="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",o.eq(1).css({clip:r}),t.eltTransform.labelImage0.translateX=-t.thumbFullWidth/2,re(t,"labelImage0"),t.eltTransform.labelImage1.translateX=t.thumbFullWidth/2,re(t,"labelImage1");break;case"slideUp":t.eltTransform.labelImage0.translateY=t.thumbFullHeight,re(t,"labelImage0");break;case"slideDown":t.eltTransform.labelImage0.translateY=-t.thumbFullHeight,re(t,"labelImage0");break;case"slideRight":t.eltTransform.labelImage0.translateX=-t.thumbFullWidth,re(t,"labelImage0");break;case"slideLeft":t.eltTransform.labelImage0.translateX=t.thumbFullWidth,re(t,"labelImage0");break;case"imageExplode":a=(t.$getElt(".subcontainer"),t.$getElt(".imgContainer"));for(var l=Math.sqrt(a.length),s=(n=a.eq(0).outerWidth(!0)/l,i=a.eq(0).outerHeight(!0)/l,0);s<l;s++)for(var u=0;u<l;u++)r="rect("+i*s+"px, "+n*(u+1)+"px, "+i*(s+1)+"px, "+n*u+"px)";break;case"imageFlipHorizontal":var c=t.$getElt(".subcontainer");l=Math.round(1.2*t.thumbFullHeight)+"px";c[0].style[He.CSSperspective]=l;break;case"imageFlipVertical":c=t.$getElt(".subcontainer"),l=Math.round(1.2*t.thumbFullWidth)+"px";c[0].style[He.CSSperspective]=l;break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":ne(0,t);break;case"slideUp":t.eltTransform.labelImage0.translateY=t.thumbFullHeight,re(t,"labelImage0");break;case"slideDown":t.eltTransform.labelImage0.translateY=-t.thumbFullHeight,re(t,"labelImage0");break;case"slideRight":t.eltTransform.labelImage0.translateX=-t.thumbFullWidth,re(t,"labelImage0");break;case"slideLeft":t.eltTransform.labelImage0.translateX=t.thumbFullWidth,re(t,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":t.eltTransform.labelImage0.translateY=t.thumbFullHeight,re(t,"labelImage0");break;case"labelSlideDown":e.css({overflow:"hidden"}),t.eltTransform.labelImage0.translateY=-t.thumbFullHeight,re(t,"labelImage0")}}}function ae(e,t,n){return null==e.eltTransform[t]&&(e.eltTransform[t]={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100},e.eltTransform[t].$elt=n),e.eltTransform[t]}function re(e,t){var n=e.eltTransform[t],i="translateX("+n.translateX+"px) translateY("+n.translateY+"px) scale("+n.scale/100+")";i+=He.IE<=9||He.isGingerbread?" rotate("+n.rotateZ+"deg)":" rotateX("+n.rotateX+"deg) rotateY("+n.rotateY+"deg) rotateZ("+n.rotateZ+"deg)",null!=n.$elt[0]&&(n.$elt[0].style[He.CSStransformName]=i)}function oe(e,t,n,i,a){var r=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==He.aengine)for(var o=0;o<r.length;o++){var l=r[o];if(void 0!==n[l]){var s=new Re,u=parseInt(n[l]);s.tween({attachment:{it:i,eC:a,t:l,f:u},from:{v:parseInt(i.eltTransform[a][l])},to:{v:u},duration:He.tn.getHE()[t].duration,delay:He.tn.getHE()[t].delay,step:function(e,t){t.it.hovered&&(t.it.eltTransform[t.eC][t.t]=e.v,re(t.it,t.eC))},finish:function(e,t){t.it.hovered&&(t.it.eltTransform[t.eC][t.t]=t.f,re(t.it,t.eC))}}),delete n[l]}}var c=0;for(var d in n)if(n.hasOwnProperty(d)){c++;break}if(0!=c)if("transition"!=He.aengine){var h={};for(var d in n)h[d]=e.css("borderColor"==d?"borderTopColor":d),"transparent"==h[d]&&(h[d]=e.hasClass("labelImage")?"rgb("+He.custGlobals.oldLabelRed+","+He.custGlobals.oldLabelGreen+","+He.custGlobals.oldLabelBlue+",0.01)":"rgba(0,0,0,0)");(s=new Re).tween({attachment:{$e:e,it:i,to:n},from:h,to:n,duration:He.tn.getHE()[t].duration,delay:He.tn.getHE()[t].delay,step:function(e,t){t.it.hovered&&t.$e.css(e)},finish:function(e,t){t.it.hovered&&t.$e.css(n)}})}else 0<He.tn.getHE()[t].delay?e.delay(He.tn.getHE()[t].delay)[He.aengine](n,He.tn.getHE()[t].duration,He.tn.getHE()[t].easing):e[He.aengine](n,He.tn.getHE()[t].duration,He.tn.getHE()[t].easing)}function le(e){var t=e.data("index");if(null!=t){"velocity"==He.aengine?e.find("*").velocity("stop",!0):e.find("*").stop(!0,!1);var n=He.I[t];n.hovered=!0;var i="animate"==He.aengine?1:100;"function"==typeof He.O.fnThumbnailHover&&He.O.fnThumbnailHover(e,n,v());try{for(j=0;j<He.tn.getHE().length;j++)switch(He.tn.getHE()[j].name){case"imageSplit4":oe((a=n.$getElt(".imgContainer")).eq(0),j,{translateX:-n.thumbFullWidth/2,translateY:-n.thumbFullHeight/2},n,"imgContainer0"),oe(a.eq(1),j,{translateX:n.thumbFullWidth/2,translateY:-n.thumbFullHeight/2},n,"imgContainer1"),oe(a.eq(2),j,{translateX:n.thumbFullWidth/2,translateY:n.thumbFullHeight/2},n,"imgContainer2"),oe(a.eq(3),j,{translateX:-n.thumbFullWidth/2,translateY:n.thumbFullHeight/2},n,"imgContainer3");break;case"imageSplitVert":oe((a=n.$getElt(".imgContainer")).eq(0),j,{translateX:-n.thumbFullWidth/2},n,"imgContainer0"),oe(a.eq(1),j,{translateX:n.thumbFullWidth/2},n,"imgContainer1");break;case"labelSplit4":oe((a=n.$getElt(".labelImage")).eq(0),j,{translateX:-n.thumbFullWidth/2,translateY:-n.thumbFullHeight/2},n,"labelImage0"),oe(a.eq(1),j,{translateX:n.thumbFullWidth/2,translateY:-n.thumbFullHeight/2},n,"labelImage1"),oe(a.eq(2),j,{translateX:n.thumbFullWidth/2,translateY:n.thumbFullHeight/2},n,"labelImage2"),oe(a.eq(3),j,{translateX:-n.thumbFullWidth/2,translateY:n.thumbFullHeight/2},n,"labelImage3");break;case"labelSplitVert":oe((a=n.$getElt(".labelImage")).eq(0),j,{translateX:-n.thumbFullWidth/2},n,"labelImage0"),oe(a.eq(1),j,{translateX:n.thumbFullWidth/2},n,"labelImage1");break;case"labelAppearSplit4":oe((a=n.$getElt(".labelImage")).eq(0),j,{translateX:0,translateY:0},n,"labelImage0"),oe(a.eq(1),j,{translateX:0,translateY:0},n,"labelImage1"),oe(a.eq(2),j,{translateX:0,translateY:0},n,"labelImage2"),oe(a.eq(3),j,{translateX:0,translateY:0},n,"labelImage3");break;case"labelAppearSplitVert":var a;oe((a=n.$getElt(".labelImage")).eq(0),j,{translateX:0},n,"labelImage0"),oe(a.eq(1),j,{translateX:0},n,"labelImage1");break;case"scaleLabelOverImage":oe(n.$getElt(".labelImage"),j,{scale:100/i,opacity:"1"},n,"labelImage0"),oe(n.$getElt(".imgContainer"),j,{scale:50/i},n,"imgContainer0");break;case"overScale":case"overScaleOutside":oe(n.$getElt(".labelImage"),j,{opacity:"1",scale:100/i},n,"labelImage0"),oe(n.$getElt(".imgContainer"),j,{opacity:"0",scale:50/i},n,"imgContainer0");break;case"imageInvisible":oe(n.$getElt(".imgContainer"),j,{opacity:"0"},n);break;case"rotateCornerBL":var r="transition"==He.aengine?{rotate:"0deg"}:{rotateZ:"0"};oe(n.$getElt(".labelImage"),j,r,n,"labelImage0"),r="transition"==He.aengine?{rotate:"90deg"}:{rotateZ:"90"},oe(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"rotateCornerBR":r="transition"==He.aengine?{rotate:"0deg"}:{rotateZ:"0"};oe(n.$getElt(".labelImage"),j,r,n,"labelImage0"),r="transition"==He.aengine?{rotate:"-90deg"}:{rotateZ:"-90"},oe(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"imageRotateCornerBL":r="transition"==He.aengine?{rotate:"90deg"}:{rotateZ:"90"};oe(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"imageRotateCornerBR":r="transition"==He.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};oe(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"slideUp":oe(n.$getElt(".imgContainer"),j,{translateY:-n.thumbFullHeight},n,"imgContainer0"),oe(n.$getElt(".labelImage"),j,{translateY:0},n,"labelImage0");break;case"slideDown":oe(n.$getElt(".imgContainer"),j,{translateY:n.thumbFullHeight},n,"imgContainer0"),oe(n.$getElt(".labelImage"),j,{translateY:0},n,"labelImage0");break;case"slideRight":oe(n.$getElt(".imgContainer"),j,{translateX:n.thumbFullWidth},n,"imgContainer0"),oe(n.$getElt(".labelImage"),j,{translateX:0},n,"labelImage0");break;case"slideLeft":oe(n.$getElt(".imgContainer"),j,{translateX:-n.thumbFullWidth},n,"imgContainer0"),oe(n.$getElt(".labelImage"),j,{translateX:0},n,"labelImage0");break;case"imageSlideUp":oe(n.$getElt(".imgContainer"),j,{translateY:-n.thumbFullHeight},n,"imgContainer0");break;case"imageSlideDown":oe(n.$getElt(".imgContainer"),j,{translateY:n.thumbFullHeight},n,"imgContainer0");break;case"imageSlideLeft":oe(n.$getElt(".imgContainer"),j,{translateX:-n.thumbFullWidth},n,"imgContainer0");break;case"imageSlideRight":oe(n.$getElt(".imgContainer"),j,{translateX:n.thumbFullWidth},n,"imgContainer0");break;case"labelAppear":if("velocity"==He.aengine)oe(n.$getElt(".labelImage"),j,{backgroundColorRed:He.custGlobals.oldLabelRed,backgroundColorGreen:He.custGlobals.oldLabelGreen,backgroundColorBlue:He.custGlobals.oldLabelBlue,backgroundColorAlpha:1},n);else{var o="rgba("+He.custGlobals.oldLabelRed+","+He.custGlobals.oldLabelGreen+","+He.custGlobals.oldLabelBlue+",0.99)";oe(n.$getElt(".labelImage"),j,{backgroundColor:o},n)}"album"==n.kind?oe(n.$getElt(".labelFolderTitle"),j,{opacity:"1"},n):oe(n.$getElt(".labelImageTitle"),j,{opacity:"1"},n),oe(n.$getElt(".labelDescription"),j,{opacity:"1"},n);break;case"labelAppear75":if("velocity"==He.aengine)oe(n.$getElt(".labelImage"),j,{backgroundColorRed:He.custGlobals.oldLabelRed,backgroundColorGreen:He.custGlobals.oldLabelGreen,backgroundColorBlue:He.custGlobals.oldLabelBlue,backgroundColorAlpha:.75},n);else{o="rgba("+He.custGlobals.oldLabelRed+","+He.custGlobals.oldLabelGreen+","+He.custGlobals.oldLabelBlue+",0.75)";oe(n.$getElt(".labelImage"),j,{backgroundColor:o},n)}"album"==n.kind?oe(n.$getElt(".labelFolderTitle"),j,{opacity:"1"},n):oe(n.$getElt(".labelImageTitle"),j,{opacity:"1"},n),oe(n.$getElt(".labelDescription"),j,{opacity:"1"},n);break;case"descriptionAppear":oe(n.$getElt(".labelDescription"),j,{opacity:"1"},n);break;case"labelSlideDown":oe(n.$getElt(".labelImage"),j,{translateY:0},n,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":oe(n.$getElt(".labelImage"),j,{translateY:0},n,"labelImage0");break;case"descriptionSlideUp":var l="album"==n.kind?n.$getElt(".labelFolderTitle").outerHeight(!0):n.$getElt(".labelImageTitle").outerHeight(!0),s=n.$getElt(".labelDescription").outerHeight(!0),u=n.thumbFullHeight-l-s;u<0&&(u=0),oe(n.$getElt(".labelImage"),j,{translateY:0,height:l+s},n,"labelImage0"),oe(n.$getElt(".labelDescription"),j,{opacity:"1"},n);break;case"labelOpacity50":oe(n.$getElt(".labelImage"),j,{opacity:"0.5"},n);break;case"imageOpacity50":oe(n.$getElt(".imgContainer"),j,{opacity:"0.5"},n);break;case"borderLighter":if("velocity"==He.aengine){var c=(d=Ge(He.custGlobals.oldBorderColor,.5)).substring(d.indexOf("(")+1,d.lastIndexOf(")")).split(/,\s*/);oe(e,j,{borderColorRed:c[0],borderColorGreen:c[1],borderColorBlue:c[2],colorAlpha:c[3]},n)}else{o=e.css("borderTopColor");e.data("ngcache_borderColor",o),oe(e,j,{borderColor:Ge(o,.5)},n)}break;case"borderDarker":if("velocity"==He.aengine){var d;c=(d=Me(He.custGlobals.oldBorderColor,.5)).substring(d.indexOf("(")+1,d.lastIndexOf(")")).split(/,\s*/);oe(e,j,{borderColorRed:c[0],borderColorGreen:c[1],borderColorBlue:c[2],colorAlpha:c[3]},n)}else{o=e.css("borderTopColor");e.data("ngcache_borderColor",o),oe(e,j,{borderColor:Me(o,.5)},n)}break;case"imageScale150":oe(n.$getElt("img"),j,{scale:150/i},n,"img0");break;case"imageScaleIn80":oe(n.$getElt("img"),j,{scale:100/i},n,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(n.customData.hoverEffectRDir){case"imageSlide2Up":var h=n.thumbFullHeight<1.4*n.imgHeight?(1.4*n.imgHeight-n.thumbFullHeight)/2:0;oe(n.$getElt("img"),j,{translateY:-h},n,"img0");break;case"imageSlide2Down":h=n.thumbFullHeight<1.4*n.imgHeight?(1.4*n.imgHeight-n.thumbFullHeight)/2:0;oe(n.$getElt("img"),j,{translateY:h},n,"img0");break;case"imageSlide2Left":oe(n.$getElt("img"),j,{translateX:.1*-n.thumbFullWidth},n,"img0");break;case"imageSlide2Right":oe(n.$getElt("img"),j,{translateX:.1*n.thumbFullWidth},n,"img0");break;case"imageSlide2UpRight":oe(n.$getElt("img"),j,{translateY:.05*-n.thumbFullHeight,translateX:.05*n.thumbFullWidth},n,"img0");break;case"imageSlide2UpLeft":oe(n.$getElt("img"),j,{translateY:.05*-n.thumbFullHeight,translateX:.05*-n.thumbFullWidth},n,"img0");break;case"imageSlide2DownRight":oe(n.$getElt("img"),j,{translateY:.05*n.thumbFullHeight,translateX:.05*n.thumbFullWidth},n,"img0");break;case"imageSlide2DownLeft":oe(n.$getElt("img"),j,{translateY:.05*n.thumbFullHeight,translateX:.05*-n.thumbFullWidth},n,"img0")}break;case"imageScale150Outside":je("",e),oe(n.$getElt("img"),j,{scale:150/i},n,"img0");break;case"scale120":je("",e),oe(e,j,{scale:120/i},n,"base");break;case"imageExplode":je("",e);var g=n.$getElt(".imgContainer");t=Math.sqrt(g.length);for(var m=[],f=0;f<=Math.PI;f+=Math.PI/(t-1))m.push(Math.sin(f));var p=g.outerWidth(!0)/t,b=g.outerHeight(!0)/t;for(f=0,r=0;r<t;r++)for(o=0;o<t;o++)oe(g.eq(f++),j,{top:(-b*t/3+b*r-b)*m[o],left:(-p*t/3+p*o-p)*m[r],scale:1.5,opacity:0},n);break;case"imageFlipHorizontal":je("",e),oe(n.$getElt(".imgContainer"),j,{rotateX:180},n,"imgContainer0"),oe(n.$getElt(".labelImage"),j,{rotateX:360},n,"labelImage0");break;case"imageFlipVertical":je("",e),oe(n.$getElt(".imgContainer"),j,{rotateY:180},n,"imgContainer0"),oe(n.$getElt(".labelImage"),j,{rotateY:360},n,"labelImage0")}}catch(e){Te("error on hover "+e.message)}}}function se(e,t,n,i,a){var r=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==He.aengine)for(var o=0;o<r.length;o++){var l=r[o];if(void 0!==n[l]){var s=new Re,u=parseInt(n[l]);s.tween({attachment:{it:i,eC:a,t:l,f:u},from:{v:parseInt(i.eltTransform[a][l])},to:{v:u},duration:He.tn.getHE()[t].durationBack,delay:He.tn.getHE()[t].delayBack,step:function(e,t){t.it.eltTransform[t.eC][t.t]=e.v,re(t.it,t.eC)},finish:function(e,t){t.it.eltTransform[t.eC][t.t]=t.f,re(t.it,t.eC)}}),delete n[l]}}var c=0;for(var d in n)if(n.hasOwnProperty(d)){c++;break}if(0!=c)if("transition"!=He.aengine){var h={};for(var d in n)"borderColor"==d?h[d]=e.css("borderTopColor"):(h[d]=e.css(d),"transparent"==h[d]&&(h[d]="rgba(0,0,0,0.01)"));(s=new Re).tween({attachment:{$e:e,it:i,to:n},from:h,to:n,duration:He.tn.getHE()[t].durationBack,delay:He.tn.getHE()[t].delayBack,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css(t.to)}})}else 0<He.tn.getHE()[t].delay?e.delay(He.tn.getHE()[t].delay)[He.aengine](n,He.tn.getHE()[t].durationBack,He.tn.getHE()[t].easingBack):e[He.aengine](n,He.tn.getHE()[t].durationBack,He.tn.getHE()[t].easingBack)}function ue(e){if(!He.containerViewerDisplayed){var t=e.data("index");if(null!=t){"velocity"==He.aengine?e.find("*").velocity("stop",!0):e.find("*").filter(":animated").stop(!0,!1);var n=He.I[t];n.hovered=!1;var i="animate"==He.aengine?1:100;"function"==typeof He.O.fnThumbnailHoverOut&&He.O.fnThumbnailHoverOut(e,n,v());try{for(j=0;j<He.tn.getHE().length;j++)switch(He.tn.getHE()[j].name){case"imageSplit4":se((a=n.$getElt(".imgContainer")).eq(0),j,{translateX:0,translateY:0},n,"imgContainer0"),se(a.eq(1),j,{translateX:0,translateY:0},n,"imgContainer1"),se(a.eq(2),j,{translateX:0,translateY:0},n,"imgContainer2"),se(a.eq(3),j,{translateX:0,translateY:0},n,"imgContainer3");break;case"imageSplitVert":se((a=n.$getElt(".imgContainer")).eq(0),j,{translateX:0},n,"imgContainer0"),se(a.eq(1),j,{translateX:0},n,"imgContainer1");break;case"labelSplit4":se((a=n.$getElt(".labelImage")).eq(0),j,{translateX:0,translateY:0},n,"labelImage0"),se(a.eq(1),j,{translateX:0,translateY:0},n,"labelImage1"),se(a.eq(2),j,{translateX:0,translateY:0},n,"labelImage2"),se(a.eq(3),j,{translateX:0,translateY:0},n,"labelImage3");break;case"labelSplitVert":se((a=n.$getElt(".labelImage")).eq(0),j,{translateX:0},n,"labelImage0"),se(a.eq(1),j,{translateX:0},n,"labelImage1");break;case"labelAppearSplit4":se((a=n.$getElt(".labelImage")).eq(0),j,{translateX:-n.thumbFullWidth/2,translateY:-n.thumbFullHeight/2},n,"labelImage0"),se(a.eq(1),j,{translateX:n.thumbFullWidth/2,translateY:-n.thumbFullHeight/2},n,"labelImage1"),se(a.eq(2),j,{translateX:n.thumbFullWidth/2,translateY:n.thumbFullHeight/2},n,"labelImage2"),se(a.eq(3),j,{translateX:-n.thumbFullWidth/2,translateY:n.thumbFullHeight/2},n,"labelImage3");break;case"labelAppearSplitVert":var a;se((a=n.$getElt(".labelImage")).eq(0),j,{translateX:-n.thumbFullWidth/2},n,"labelImage0"),se(a.eq(1),j,{translateX:n.thumbFullWidth/2},n,"labelImage1");break;case"scaleLabelOverImage":se(n.$getElt(".labelImage"),j,{opacity:"0",scale:50/i},n,"labelImage0"),se(n.$getElt(".imgContainer"),j,{scale:100/i},n,"imgContainer0");break;case"overScale":case"overScaleOutside":se(n.$getElt(".labelImage"),j,{opacity:"0",scale:150/i},n,"labelImage0"),se(n.$getElt(".imgContainer"),j,{opacity:"1",scale:100/i},n,"imgContainer0");break;case"imageInvisible":se(n.$getElt(".imgContainer"),j,{opacity:"1"});break;case"rotateCornerBL":var r="transition"==He.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};se(n.$getElt(".labelImage"),j,r,n,"labelImage0"),r="transition"==He.aengine?{rotate:"0deg"}:{rotateZ:"0"},se(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"rotateCornerBR":r="transition"==He.aengine?{rotate:"90deg"}:{rotateZ:"90"};se(n.$getElt(".labelImage"),j,r,n,"labelImage0"),r="transition"==He.aengine?{rotate:"0deg"}:{rotateZ:"0"},se(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"imageRotateCornerBL":case"imageRotateCornerBR":r="transition"==He.aengine?{rotate:"0deg"}:{rotateZ:"0"};se(n.$getElt(".imgContainer"),j,r,n,"imgContainer0");break;case"slideUp":se(n.$getElt(".imgContainer"),j,{translateY:0},n,"imgContainer0"),se(n.$getElt(".labelImage"),j,{translateY:n.thumbFullHeight},n,"labelImage0");break;case"slideDown":se(n.$getElt(".imgContainer"),j,{translateY:0},n,"imgContainer0"),se(n.$getElt(".labelImage"),j,{translateY:-n.thumbFullHeight},n,"labelImage0");break;case"slideRight":se(n.$getElt(".imgContainer"),j,{translateX:0},n,"imgContainer0"),se(n.$getElt(".labelImage"),j,{translateX:-n.thumbFullWidth},n,"labelImage0");break;case"slideLeft":se(n.$getElt(".imgContainer"),j,{translateX:0},n,"imgContainer0"),se(n.$getElt(".labelImage"),j,{translateX:n.thumbFullWidth},n,"labelImage0");break;case"imageSlideUp":case"imageSlideDown":se(n.$getElt(".imgContainer"),j,{translateY:0},n,"imgContainer0");break;case"imageSlideLeft":case"imageSlideRight":se(n.$getElt(".imgContainer"),j,{translateX:0},n,"imgContainer0");break;case"labelAppear":case"labelAppear75":if("velocity"==He.aengine)se(n.$getElt(".labelImage"),j,{backgroundColorRed:He.custGlobals.oldLabelRed,backgroundColorGreen:He.custGlobals.oldLabelGreen,backgroundColorBlue:He.custGlobals.oldLabelBlue,backgroundColorAlpha:0});else{var o="rgba("+He.custGlobals.oldLabelRed+","+He.custGlobals.oldLabelGreen+","+He.custGlobals.oldLabelBlue+",0.01)";se(n.$getElt(".labelImage"),j,{backgroundColor:o})}"album"==n.kind?se(n.$getElt(".labelFolderTitle"),j,{opacity:"0"}):se(n.$getElt(".labelImageTitle"),j,{opacity:"0"}),se(n.$getElt(".labelDescription"),j,{opacity:"0"});break;case"descriptionAppear":se(n.$getElt(".labelDescription"),j,{opacity:"0"});break;case"labelSlideDown":se(n.$getElt(".labelImage"),j,{translateY:-n.thumbFullHeight},n,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":se(n.$getElt(".labelImage"),j,{translateY:n.thumbFullHeight},n,"labelImage0");break;case"descriptionSlideUp":var l="album"==n.kind?n.$getElt(".labelFolderTitle").outerHeight(!0):n.$getElt(".labelImageTitle").outerHeight(!0);n.thumbFullHeight,He.tn.borderHeight,He.tn.imgcBorderHeight,se(n.$getElt(".labelImage"),j,{translateY:0,height:l},n,"labelImage0");break;case"labelOpacity50":se(n.$getElt(".labelImage"),j,{opacity:He.custGlobals.oldLabelOpacity});break;case"imageOpacity50":se(n.$getElt(".imgContainer"),j,{opacity:"1"});break;case"borderLighter":case"borderDarker":if("velocity"==He.aengine){var s=He.custGlobals.oldBorderColor,u=s.substring(s.indexOf("(")+1,s.lastIndexOf(")")).split(/,\s*/);se(e,j,{borderColorRed:u[0],borderColorGreen:u[1],borderColorBlue:u[2],colorAlpha:u[3]})}else se(e,j,{borderColor:e.data("ngcache_borderColor")});break;case"imageScale150":case"imageScale150Outside":se(n.$getElt("img"),j,{scale:100/i},n,"img0");break;case"imageScaleIn80":se(n.$getElt("img"),j,{scale:120/i},n,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(n.customData.hoverEffectRDir){case"imageSlide2Up":var c=n.thumbFullHeight<1.4*n.imgHeight?(1.4*n.imgHeight-n.thumbFullHeight)/2:0;se(n.$getElt("img"),j,{translateY:c},n,"img0");break;case"imageSlide2Down":c=n.thumbFullHeight<1.4*n.imgHeight?(1.4*n.imgHeight-n.thumbFullHeight)/2:0;se(n.$getElt("img"),j,{translateY:-c},n,"img0");break;case"imageSlide2Left":se(n.$getElt("img"),j,{translateX:.1*n.thumbFullWidth},n,"img0");break;case"imageSlide2Right":se(n.$getElt("img"),j,{translateX:.1*-n.thumbFullWidth},n,"img0");break;case"imageSlide2UpRight":se(n.$getElt("img"),j,{translateY:.05*n.thumbFullHeight,translateX:.05*-n.thumbFullWidth},n,"img0");break;case"imageSlide2UpLeft":se(n.$getElt("img"),j,{translateY:.05*n.thumbFullHeight,translateX:.05*n.thumbFullWidth},n,"img0");break;case"imageSlide2DownRight":se(n.$getElt("img"),j,{translateY:.05*-n.thumbFullHeight,translateX:.05*-n.thumbFullWidth},n,"img0");break;case"imageSlide2DownLeft":se(n.$getElt("img"),j,{translateY:.05*-n.thumbFullHeight,translateX:.05*n.thumbFullWidth},n,"img0")}break;case"scale120":se(e,j,{scale:100/i},n,"base");break;case"imageExplode":var d=n.$getElt(".imgContainer");t=Math.sqrt(d.length);var h=0;for(r=0;r<t;r++)for(o=0;o<t;o++)se(d.eq(h++),j,{top:"0",left:"0",scale:"1",opacity:"1"});break;case"imageFlipHorizontal":se(n.$getElt(".imgContainer"),j,{rotateX:0},n,"imgContainer0"),se(n.$getElt(".labelImage"),j,{rotateX:180},n,"labelImage0");break;case"imageFlipVertical":se(n.$getElt(".imgContainer"),j,{rotateY:0},n,"imgContainer0"),se(n.$getElt(".labelImage"),j,{rotateY:180},n,"labelImage0")}}catch(e){Te("error on hoverOut "+e.message)}}}}function ce(e){return He.O.thumbnailOpenImage&&("function"==typeof He.O.fnThumbnailOpen?void function(e){var t=e,n=[];n.push(He.I[t]);for(var i=He.I.length,a=t+1;a<i;a++)"image"==He.I[a].kind&&He.I[a].albumID==He.I[e].albumID&&""==He.I[a].destinationURL&&n.push(He.I[a]);for(a=0;a<t;a++)"image"==He.I[a].kind&&He.I[a].albumID==He.I[e].albumID&&""==He.I[a].destinationURL&&n.push(He.I[a]);He.O.fnThumbnailOpen(n)}(e):void("fancybox"==He.O.viewer?function(e){var t=e,n=[],i=0;n[i]=new Object,n[i].href=He.I[t].responsiveURL(),n[i].title=He.I[t].title;for(var a=He.I.length,r=t+1;r<a;r++)"image"==He.I[r].kind&&He.I[r].albumID==He.I[e].albumID&&""==He.I[r].destinationURL&&(n[++i]=new Object,n[i].href=He.I[r].responsiveURL(),n[i].title=He.I[r].title);for(r=0;r<t;r++)"image"==He.I[r].kind&&He.I[r].albumID==He.I[e].albumID&&""==He.I[r].destinationURL&&(n[++i]=new Object,n[i].href=He.I[r].responsiveURL(),n[i].title=He.I[r].title);null!=He.O.fancyBoxOptions?jQuery.fancybox(n,He.O.fancyBoxOptions):jQuery.fancybox(n,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}(e):He.containerViewerDisplayed?xe(e,""):function(e){jQuery("body").css({overflow:"hidden"}),He.containerViewerDisplayed=!0,He.$E.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),He.$E.conVwCon.addClass("nanogallery_theme_"+He.O.theme),function(e){var t=null;switch(Ne(He.O.colorSchemeViewer)){case"object":t=He.colorSchemeViewer_default,jQuery.extend(!0,t,He.O.colorSchemeViewer),He.colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(He.O.colorSchemeViewer){case"none":return;case"light":t=He.colorSchemeViewer_light,He.colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":t=He.colorSchemeViewer_darkRed,He.colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":t=He.colorSchemeViewer_darkGreen,He.colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":t=He.colorSchemeViewer_darkBlue,He.colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":t=He.colorSchemeViewer_darkOrange,He.colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"dark":t=He.colorSchemeViewer_dark,He.colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;case"default":default:t=He.colorSchemeViewer_default,He.colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return Te("Error in colorSchemeViewer parameter.")}var n="."+He.colorSchemeLabel+" ",i=n+".nanoGalleryViewer { background:"+t.background+" !important; }\n";i+=n+".nanoGalleryViewer .content img { border:"+t.imageBorder+" !important; box-shadow:"+t.imageBoxShadow+" !important; }\n",i+=n+".nanoGalleryViewer .toolbar { background:"+t.barBackground+" !important; border:"+t.barBorder+" !important; color:"+t.barColor+" !important; }\n",i+=n+".nanoGalleryViewer .toolbar .previousButton:after { color:"+t.barColor+" !important; }\n",i+=n+".nanoGalleryViewer .toolbar .nextButton:after { color:"+t.barColor+" !important; }\n",i+=n+".nanoGalleryViewer .toolbar .closeButton:after { color:"+t.barColor+" !important; }\n",i+=n+".nanoGalleryViewer .toolbar .label .title { color:"+t.barColor+" !important; }\n",i+=n+".nanoGalleryViewer .toolbar .label .description { color:"+t.barDescriptionColor+" !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass(He.colorSchemeLabel)}(He.$E.conVwCon),He.$E.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(He.$E.conVwCon),He.$E.conVw.css({visibility:"visible",position:"fixed"}),He.$E.conVw.css({msTouchAction:"none",touchAction:"none"});var t="";He.I.length,t+='<img class="image nGEvent" src="'+He.I[e].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image nGEvent" src="'+He.I[e].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image nGEvent" src="'+He.I[e].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',He.$E.vwContent=jQuery('<div class="content nGEvent">'+t+'<div class="contentAreaPrevious nGEvent"></div><div class="contentAreaNext nGEvent"></div></div>').appendTo(He.$E.conVw),He.$E.vwImgP=He.$E.conVw.find(".image").eq(0),He.$E.vwImgC=He.$E.conVw.find(".image").eq(1),He.$E.vwImgN=He.$E.conVw.find(".image").eq(2),He.$E.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");var n=jQuery('<div class="closeButtonFloating nGEvent"></div>').appendTo(He.$E.conVw);n.on("touchstart click",function(e){return e.preventDefault(),e.stopPropagation(),(new Date).getTime()-He.timeImgChanged<400?void 0:(Ce(!0),!1)});for(var i='<div class="toolbarContainer nGEvent" style="visibility:'+(He.O.viewerToolbar.display?"visible":"hidden")+';"><div class="toolbar nGEvent">',a=He.O.viewerToolbar.standard.split(","),r=0,o=a.length;r<o;r++)i+=de(a[r]);for(var l=He.O.viewerToolbar.minimized.split(","),s=(r=0,l.length);r<s;r++)-1==He.O.viewerToolbar.standard.indexOf(l[r])&&(i+=de(l[r]));i+="</div></div>",He.$E.conVwTb=jQuery(i).appendTo(He.$E.conVw),("min"==He.toolbarMode||0<He.O.viewerToolbar.autoMinimize&&He.O.viewerToolbar.autoMinimize>=Le().w?pe:fe)(),He.O.viewerFullscreen&&(He.viewerIsFullscreen=!0,He.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"),ngscreenfull.request()),He.O.viewerDisplayLogo&&(He.$E.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(He.$E.conVw)),je("",He.$E.conVw),je(He.$E.conVw,n),ke(),He.timeImgChanged=(new Date).getTime(),He.$E.conVwTb.find(".closeButton").on("touchstart click",function(e){e.preventDefault(),e.stopPropagation(),(new Date).getTime()-He.timeImgChanged<400||Ce(!0)}),He.$E.conVwTb.find(".playPauseButton").on("touchstart click",function(e){e.stopPropagation(),me()}),He.$E.conVwTb.find(".minimizeButton").on("touchstart click",function(e){e.stopPropagation(),("std"==He.toolbarMode?pe:fe)()}),He.$E.conVwTb.find(".fullscreenButton").on("touchstart click",function(e){e.stopPropagation(),ngscreenfull.enabled&&(ngscreenfull.toggle(),He.viewerIsFullscreen?(He.viewerIsFullscreen=!1,He.$E.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(He.viewerIsFullscreen=!0,He.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton")))}),He.$E.conVwTb.find(".infoButton").on("touchstart click",function(e){e.stopPropagation(),"function"==typeof He.O.fnViewerInfo&&He.O.fnViewerInfo(He.I[He.viewerCurrentItemIdx],v())}),He.$E.conVwTb.find(".ngCustomBtn").on("touchstart click",function(e){if(e.stopPropagation(),"function"==typeof He.O.fnImgToolbarCustClick){for(var t=e.target||e.srcElement;null==t||null==t.getAttribute("class")||-1==t.getAttribute("class").indexOf("ngCustomBtn");)t=t.parentNode;var n=t.getAttribute("class");if(0<=n.indexOf("ngCustomBtn"))for(var i=n.split(" "),a=0,r=i.length;a<r;a++)0==i[a].indexOf("custom")&&He.O.fnImgToolbarCustClick(i[a],jQuery(t),He.I[He.viewerCurrentItemIdx],v())}}),He.$E.conVwTb.find(".linkOriginalButton").on("touchstart click",function(e){if(e.stopPropagation(),"picasa"==He.O.kind){var t="https://plus.google.com/photos/"+He.O.userID+"/albums/"+He.I[He.viewerCurrentItemIdx].albumID+"/"+He.I[He.viewerCurrentItemIdx].GetID();window.open(t,"_blank")}if("flickr"==He.O.kind){t="https://www.flickr.com/photos/"+He.O.userID+"/"+He.I[He.viewerCurrentItemIdx].GetID();window.open(t,"_blank")}}),He.$E.conVwTb.find(".nextButton").on("touchstart click",function(e){e.stopPropagation(),ve()}),He.$E.conVwTb.find(".previousButton").on("touchstart click",function(e){e.stopPropagation(),we()}),He.$E.vwContent.find(".contentAreaNext").on("touchstart click",function(e){e.stopPropagation(),ve()}),He.$E.vwContent.find(".contentAreaPrevious").on("touchstart click",function(e){e.stopPropagation(),we()}),He.$E.vwContent.on("click",function(e){return(new Date).getTime()-He.timeImgChanged<400?void 0:(e.preventDefault(),e.stopPropagation(),Ce(!0),!1)}),He.$E.conVw.find(".image").attr("draggable","false").attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-o-user-select":"none","user-select":"none"}),xe(e,""),null==He.viewerSwipe&&(He.viewerSwipe=new he(He.$E.conVwCon[0])),He.O.slideshowAutoStart&&(He.playSlideshow=!0,He.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),ye(),He.playSlideshowTimerID=window.setInterval(function(){ye()},He.slideshowDelay))}(e)))}function de(e){var t="",n=e.replace(/^\s+|\s+$/g,"");switch(n){case"minimizeButton":t='<div class="ngbt minimizeButton hideToolbarButton nGEvent"></div>';break;case"previousButton":t='<div class="ngbt previousButton nGEvent"></div>';break;case"pageCounter":t='<div class="pageCounter nGEvent"></div>';break;case"nextButton":t='<div class="ngbt nextButton nGEvent"></div>';break;case"playPauseButton":t='<div class="ngbt playButton playPauseButton nGEvent"></div>';break;case"fullscreenButton":He.supportFullscreenAPI&&(t='<div class="ngbt setFullscreenButton fullscreenButton nGEvent"></div>');break;case"infoButton":"function"==typeof He.O.fnViewerInfo&&(t='<div class="ngbt infoButton nGEvent"></div>');break;case"linkOriginalButton":"flickr"!=He.O.kind&&"picasa"!=He.O.kind||(t='<div class="ngbt linkOriginalButton nGEvent"></div>');break;case"closeButton":t='<div class="ngbt closeButton nGEvent"></div>';break;case"label":t='<div class="label"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:0==n.indexOf("custom")&&(t='<div class="ngbt ngCustomBtn '+n+' nGEvent">'+("function"==typeof He.O.fnImgToolbarCustInit?He.O.fnImgToolbarCustInit(n):"")+"</div>")}return t}function he(e){function t(e){He.containerViewerDisplayed&&(He.timeLastTouchStart=(new Date).getTime(),e.preventDefault(),e.touches&&1<e.touches.length||(s=a(e),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",n,!0),document.addEventListener("MSPointerUp",i,!0)):(document.addEventListener("touchmove",n,!0),document.addEventListener("touchend",i,!0),document.addEventListener("touchcancel",i,!0),document.addEventListener("mousemove",n,!0),document.addEventListener("mouseup",i,!0))))}function n(e){e.preventDefault(),u=a(e),l||(l=!0,window.requestAnimationFrame(r))}function i(e){e.cancelable&&e.preventDefault(),e.touches&&0<e.touches.length||(l=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",n,!0),document.removeEventListener("MSPointerUp",i,!0)):(document.removeEventListener("touchmove",n,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("touchcancel",i,!0),document.removeEventListener("mousemove",n,!0),document.removeEventListener("mouseup",i,!0)),function(){if(null==u)return c=0,s=null;var e=s.x-u.x;c-=e,e<-50&&we(),50<e&&ve(),c=0,u=s=null,Math.abs(e)<50&&ge(c)}())}function a(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function r(){if(l){var e=s.x-u.x;ge(c-e),l=!1}}var o=e,l=!1,s=null,u=null,c=0;this.removeEventListeners=function(){window.navigator.msPointerEnabled?(o.removeEventListener("MSPointerDown",t,!0),document.removeEventListener("MSPointerMove",n,!0),document.removeEventListener("MSPointerUp",i,!0)):(o.removeEventListener("touchstart",t,!0),document.removeEventListener("touchmove",n,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("touchcancel",i,!0),document.removeEventListener("mousemove",n,!0),document.removeEventListener("mouseup",i,!0))},window.navigator.msPointerEnabled?o.addEventListener("MSPointerDown",t,!0):o.addEventListener("touchstart",t,!0)}function ge(e){if(He.imageSwipePosX=e,null==He.CSStransformName)He.$E.vwImgC.css({left:e});else if(He.$E.vwImgC[0].style[He.CSStransformName]="translateX("+e+"px)","slide"==He.O.imageTransition)if(0<e){var t=(He.$E.vwImgP,Le().w);He.$E.vwImgP.css({visibility:"visible",left:0,opacity:1}),He.$E.vwImgP[0].style[He.CSStransformName]="translateX("+(-t+e)+"px) ",He.$E.vwImgN[0].style[He.CSStransformName]="translateX("+-t+"px) "}else{t=(He.$E.vwImgN,-Le().w);He.$E.vwImgN.css({visibility:"visible",left:0,opacity:1}),He.$E.vwImgN[0].style[He.CSStransformName]="translateX("+(-t+e)+"px) ",He.$E.vwImgP[0].style[He.CSStransformName]="translateX("+-t+"px) "}}function me(){He.playSlideshow?(window.clearInterval(He.playSlideshowTimerID),He.playSlideshow=!1,He.$E.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(He.playSlideshow=!0,He.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),ye(),He.playSlideshowTimerID=window.setInterval(function(){ye()},He.slideshowDelay))}function fe(){He.toolbarMode="std",He.$E.conVwTb.find(".minimizeButton").removeClass("viewToolbarButton").addClass("hideToolbarButton"),be("std"),ke()}function pe(){He.toolbarMode="min",He.$E.conVwTb.find(".minimizeButton").removeClass("hideToolbarButton").addClass("viewToolbarButton"),be("min"),ke()}function be(e){for(var t=He.O.viewerToolbar,n=(t="std"==e?He.O.viewerToolbar.standard:He.O.viewerToolbar.minimized,["minimizeButton","previousButton","pageCounter","nextButton","playPauseButton","fullscreenButton","infoButton","linkOriginalButton","closeButton","label"]),i=0,a=n.length;i<a;i++)He.$E.conVwTb.find("."+n[i]).css("label"==n[i]&&""==He.$E.conVwTb.find(".title").text()&&""==He.$E.conVwTb.find(".description").text()?{display:"none"}:{display:0<=t.indexOf(n[i])?"table-cell":"none"});He.$E.conVwTb.find(".ngCustomBtn").css({display:"none"});var r=t.split(",");for(i=0,a=r.length;i<a;i++){var o=r[i].replace(/^\s+|\s+$/g,"");0==o.indexOf("custom")&&He.$E.conVwTb.find("."+o).css({display:"table-cell"})}}function ve(){He.playSlideshow&&(window.clearInterval(He.playSlideshowTimerID),He.playSlideshowTimerID=window.setInterval(function(){ye()},He.slideshowDelay)),ye()}function ye(){He.viewerImageIsChanged||(new Date).getTime()-He.timeImgChanged<300||xe((He.I.length,Se(He.viewerCurrentItemIdx)),"nextImage")}function we(){He.viewerImageIsChanged||(new Date).getTime()-He.timeImgChanged<300||(He.playSlideshow&&me(),xe(Ee(He.viewerCurrentItemIdx),"previousImage"))}function xe(e,t){if(He.timeImgChanged=(new Date).getTime(),He.viewerImageIsChanged=!0,He.O.locationHash){var n="nanogallery/"+He.baseEltID+"/"+He.I[e].albumID+"/"+He.I[e].GetID();if("#"+n!=location.hash){He.lastLocationHash="#"+n;try{top.location.hash=n}catch(e){He.O.locationHash=!1}}else try{He.lastLocationHash=top.location.hash}catch(e){He.O.locationHash=!1}}if(He.O.debugMode&&console.timeline&&console.timeline("nanoGALLERYviewer"),He.viewerResizeTimerID=window.setTimeout(ke,100),He.viewerCurrentItemIdx=e,""==t)He.$E.vwImgC.css({opacity:0,left:0,visibility:"visible"}).attr("src",He.emptyGif).attr("src",He.I[e].responsiveURL()),(new Re).tween({from:{o:0},to:{o:1},attachment:{idx:e,dT:t},duration:400,step:function(e){He.$E.vwImgC.css({opacity:e.o})},finish:function(e,t){He.$E.vwImgC.css({opacity:1}),Ie(t.idx,t.dT)}});else switch(He.O.imageTransition){case"fade":(o="nextImage"==t?He.$E.vwImgN:He.$E.vwImgP).css({opacity:0,left:0,visibility:"visible"}),(new Re).tween({from:{o:0},to:{o:1},attachment:{idx:e,dT:t,$e:o},duration:300,step:function(e,t){He.$E.vwImgC.css({opacity:1-e.o}),t.$e.css({opacity:e.o})},finish:function(e,t){He.$E.vwImgC.css({opacity:0}),t.$e.css({opacity:1}),Ie(t.idx,t.dT)}});break;case"slideBETA":if((o="nextImage"==t?He.$E.vwImgN:He.$E.vwImgP).css({opacity:1,left:0,visibility:"visible"}),null==He.CSStransformName)jQuery.when(He.$E.vwImgC.animate({left:("nextImage"==t?-Le().w:Le().w)+"px",opacity:0},500),o.animate({opacity:1},300)).done(function(){Ie(e,t)});else{var i="nextImage"==t?-Le().w:Le().w;o[0].style[He.CSStransformName]="translateX("+-i+"px) ";var a={v:He.imageSwipePosX},r={v:"nextImage"==t?-Le().w:Le().w};jQuery(a).animate(r,{duration:500,step:function(e){He.$E.vwImgC[0].style[He.CSStransformName]="translateX("+e+"px)",He.$E.vwImgC.css({opacity:1-Math.abs(e/i)}),o[0].style[He.CSStransformName]="translateX("+(-i+e)+"px) "},complete:function(){He.$E.vwImgC[0].style[He.CSStransformName]="",He.$E.vwImgC.css({opacity:0}),Ie(e,t)}})}break;case"slideOLD":var o="nextImage"==t?He.$E.vwImgN:He.$E.vwImgP;if(null==He.CSStransformName)o.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(He.$E.vwImgC.animate({left:("nextImage"==t?-Le().w:Le().w)+"px"},500),o.animate({opacity:1},300)).done(function(){Ie(e,t)});else{o.css({opacity:1,left:0,visibility:"visible"});i="nextImage"==t?-Le().w:Le().w;o[0].style[He.CSStransformName]="translateX("+-i+"px) ";a={v:He.imageSwipePosX},r={v:"nextImage"==t?-Le().w:Le().w};jQuery(a).animate(r,{duration:400,easing:"linear",step:function(e){window.requestAnimationFrame(function(){He.$E.vwImgC[0].style[He.CSStransformName]="translateX("+e+"px)",o[0].style[He.CSStransformName]="translateX("+(-i+e)+"px) "})},complete:function(){window.requestAnimationFrame(function(){He.$E.vwImgC[0].style[He.CSStransformName]="",Ie(e,t)})}})}break;case"slide":o="nextImage"==t?He.$E.vwImgN:He.$E.vwImgP;if(null==He.CSStransformName)o.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(He.$E.vwImgC.animate({left:2*("nextImage"==t?-Le().w:Le().w)+"px"},500),o.animate({opacity:1},300)).done(function(){Ie(e,t)});else{i="nextImage"==t?-Le().w:Le().w;o.css({opacity:1,left:0,visibility:"visible"}),o[0].style[He.CSStransformName]="translateX("+-i+"px) ",(new Re).tween({from:{t:He.imageSwipePosX},to:{t:"nextImage"==t?-Le().w:Le().w},attachment:{idx:e,dT:t,$e:o,dir:i},duration:300,step:function(e,t){He.$E.vwImgC[0].style[He.CSStransformName]="translateX("+e.t+"px)",t.$e[0].style[He.CSStransformName]="translateX("+(-t.dir+e.t)+"px) "},finish:function(e,t){He.$E.vwImgC[0].style[He.CSStransformName]="",t.$e[0].style[He.CSStransformName]="",Ie(t.idx,t.dT)}})}break;case"slideAppear":default:i=Le().w+"px",o=He.$E.vwImgP;"nextImage"==t&&(i="-"+i,o=He.$E.vwImgN),o.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(He.$E.vwImgC.animate({left:i,opacity:0},500),o.animate({opacity:1},300)).done(function(){ge(0),Ie(e,t)})}}function Ie(e,t){if(function(e){if(He.O.viewerToolbar.display){He.$E.conVwTb.css({visibility:"visible"});var t=!1;void 0!==He.I[e].title&&""!=He.I[e].title?(He.$E.conVwTb.find(".title").html(He.I[e].title),t=!0):He.$E.conVwTb.find(".title").html(""),void 0!==He.I[e].description&&""!=He.I[e].description?(He.$E.conVwTb.find(".description").html(He.I[e].description),t=!0):He.$E.conVwTb.find(".description").html("");var n=He.$E.conVwTb.find(".ngCustomBtn");0<n.length&&"function"==typeof He.O.fnImgToolbarCustDisplay&&He.O.fnImgToolbarCustDisplay(n,He.I[e],v()),t&&0<=("std"==He.toolbarMode?He.O.viewerToolbar.standard:He.O.viewerToolbar.minimized).indexOf("label")?He.$E.conVwTb.find(".label").show():He.$E.conVwTb.find(".label").hide();var i=o();0<i&&He.$E.conVwTb.find(".pageCounter").html(He.I[e].imageNumber+1+"/"+i)}}(e),He.O.debugMode&&console.timeline&&console.timelineEnd("nanoGALLERYviewer"),"function"!=typeof He.O.fnImgDisplayed||He.O.fnImgDisplayed(He.I[e].$elt,He.I[e])){He.imageSwipePosX=0,He.$E.vwImgC.off("click"),He.$E.vwImgC.removeClass("imgCurrent");var n=He.$E.vwImgC;switch(t){case"nextImage":He.$E.vwImgC=He.$E.vwImgN,He.$E.vwImgN=n;break;case"previousImage":He.$E.vwImgC=He.$E.vwImgP,He.$E.vwImgP=n}He.$E.vwImgC.addClass("imgCurrent"),He.$E.vwImgN.css({opacity:0,left:0,visibility:"hidden"}).attr("src",He.emptyGif).attr("src",He.I[Se(e)].responsiveURL()),He.$E.vwImgP.css({opacity:0,left:0,visibility:"hidden"}).attr("src",He.emptyGif).attr("src",He.I[Ee(e)].responsiveURL()),He.$E.vwImgC.on("click",function(e){e.stopPropagation(),(e.pageX<jQuery(window).width()/2?we:ve)()}),ke(),He.viewerImageIsChanged=!1}}function Se(e){for(var t=He.I.length,n=-1,i=e+1;i<t;i++)if(He.I[i].albumID==He.I[e].albumID&&"image"==He.I[i].kind){n=i;break}if(-1==n)for(i=0;i<=e;i++)if(He.I[i].albumID==He.I[e].albumID&&"image"==He.I[i].kind){n=i;break}return n}function Ee(e){for(var t=-1,n=e-1;0<=n;n--)if(He.I[n].albumID==He.I[e].albumID&&"image"==He.I[n].kind){t=n;break}if(-1==t)for(n=He.I.length-1;e<=n;n--)if(He.I[n].albumID==He.I[e].albumID&&"image"==He.I[n].kind){t=n;break}return t}function Ce(e){if(He.viewerImageIsChanged&&He.$E.vwContent.find("*").stop(!0,!0),He.viewerImageIsChanged=!1,He.containerViewerDisplayed){if(window.clearTimeout(He.viewerResizeTimerID),He.playSlideshow&&(window.clearInterval(He.playSlideshowTimerID),He.playSlideshow=!1),He.viewerSwipe.removeEventListeners(),He.viewerSwipe=null,He.O.galleryFullpageButton&&He.$E.base.hasClass("fullpage")||l(),He.viewerIsFullscreen&&(He.viewerIsFullscreen=!1,ngscreenfull.exit()),He.$E.conVwCon.hide(0).off().show(0).html("").remove(),He.containerViewerDisplayed=!1,-1!=He.albumIdxToOpenOnViewerClose)F(He.albumIdxToOpenOnViewerClose,!0);else{if(He.O.locationHash&&e){var t=He.I[He.viewerCurrentItemIdx].albumID,n="nanogallery/"+He.baseEltID+"/"+t;He.lastLocationHash="#"+n;try{top.location.hash=n}catch(e){He.O.locationHash=!1}}ee()}He.timeImgChanged=(new Date).getTime()}}function ke(){He.containerViewerDisplayed&&((new Date).getTime()-He.viewerResizeTimerLastRun<100||window.requestAnimationFrame(function(){var e=He.$E.conVw.width(),t=He.$E.conVw.height(),n=He.$E.vwImgC,i=n.height(),a=n.width(),r=n.outerHeight(!0),o=n.outerHeight(!1),l=He.$E.conVwTb.find(".toolbar"),s=l.outerHeight(!0);He.$E.conVwTb.css(i<=40||!He.O.viewerToolbar.display?{visibility:"hidden"}:{visibility:"visible"});var u=Math.abs(He.$E.vwContent.outerHeight(!0)-He.$E.vwContent.height()),c=Math.abs(He.$E.vwContent.outerWidth(!0)-He.$E.vwContent.width()),d=o-n.innerHeight(),h=Math.abs(n.outerWidth(!1)-n.innerWidth()),g=d+Math.abs(n.innerHeight()-i),m=h+Math.abs(n.innerWidth()-a),f=0;"innerImage"!=He.O.viewerToolbar.style&&(f=s);var p=t-f-u,b=e-c;switch(He.O.viewerToolbar.position){case"top":He.$E.vwContent.css({height:p,width:b,top:f});var v=0;"innerImage"==He.O.viewerToolbar.style&&(v=Math.abs(r-i)/2+5),"stuckImage"==He.O.viewerToolbar.style&&(v=Math.abs(r-i)/2-g),He.$E.conVwTb.css({top:v});break;case"bottom":default:He.$E.vwContent.css({height:p,width:b});v=0;"innerImage"==He.O.viewerToolbar.style&&(v=Math.abs(r-i)/2+5),"stuckImage"==He.O.viewerToolbar.style&&(v=Math.abs(r-i)/2-g),He.$E.conVwTb.css({bottom:v})}"innerImage"==He.O.viewerToolbar.style&&l.css({"max-width":a}),"fullWidth"==He.O.viewerToolbar.style&&l.css({width:b}),He.$E.conVwTb.css({height:s}),He.$E.vwContent.children("img").css({"max-width":b-m,"max-height":p-g}),He.$E.vwContent.children("img").css({"object-fit":"contain"}),He.viewerResizeTimerID=window.setTimeout(ke,100),He.viewerResizeTimerLastRun=(new Date).getTime()}))}function Te(e,t){Oe(e),null!=He.$E.conConsole&&(He.$E.conConsole.css({visibility:"visible",height:"auto"}),He.$E.conConsole.append(0==t?"<p>"+e+"</p>":"<p>nanoGALLERY: "+e+" ["+He.baseEltID+"]</p>"))}function Oe(e){window.console&&console.log("nanoGALLERY: "+e+" ["+He.baseEltID+"]")}function Le(){var e=jQuery(window);return vpW=e.width(),0<He.O.demoViewportWidth&&(He.O.demoViewportWidth<vpW&&(vpW=He.O.demoViewportWidth),He.O.maxWidth=vpW,jQuery(He.$E.base).css({width:He.O.maxWidth}),jQuery(He.$E.base).css({"margin-left":"auto"}),jQuery(He.$E.base).css({"margin-right":"auto"})),{l:e.scrollLeft(),t:e.scrollTop(),w:vpW,h:e.height()}}function $e(e,t){var n=Le(),i=e.offset(),a=e.outerHeight(!0),r=e.outerWidth(!0);return i.top>=n.t-t&&i.top+a<=n.t+n.h+t&&i.left>=n.l-t&&i.left+r<=n.l+n.w+t}function De(e,t){var n=Le(),i=e.offset(),a=e.outerHeight(!0);return e.outerWidth(!0),0==n.t&&i.top<=n.t+n.h||i.top>=n.t&&i.top+a<=n.t+n.h-t}function je(e,t){var n=0;""==e&&(e="*"),jQuery(e).each(function(){var e=parseInt(jQuery(this).css("z-index"));n=n<e?e:n}),n++,jQuery(t).css("z-index",n)}function Pe(e){for(var t,n,i=e.length;i;t=Math.floor(Math.random()*i),n=e[--i],e[i]=e[t],e[t]=n);return e}this.ReloadAlbum=function(){if(""===He.O.kind)throw"Not supported for this kind.";for(var e=He.I.length,t=-1,n=0;n<e;n++)if(He.lastOpenAlbumID==He.I[n].GetID()){t=n;break}if(-1==t)throw"Current album not found.";!1===He.O.keepSelection&&(He.selectedItems=[]);for(var i=0;i<e;i++)!1===He.O.keepSelection&&(He.I[i].selected=!1),He.I[i].albumID==t&&(He.I[i].albumID=-1);switch(He.I[t].contentIsLoaded=!1,He.lastOpenAlbumID=-1,He.O.kind){case"json":return s(t,!1,-1,!1);case"flickr":return u(t,!1,-1,!1);case"picasa":default:return $(t,!1,-1,!1)}},this.moveToNextAlbum=function(){B()},this.moveToPreviousAlbum=function(){_()},this.closeViewer=function(){return Ce(!0),!1},this.minimizeToolbar=function(){return pe(),!1},this.maximizeToolbar=function(){return fe(),!1},this.RefreshSize=function(){R()},this.displayItem=function(e){return a(!1,e,!0)},this.paginationPreviousPage=function(){X()},this.paginationNextPage=function(){q()},this.paginationGotoPage=function(e){var t=He.$E.conPagin.data("galleryIdx");De(He.$E.base,0)||Ve("html, body").animate({scrollTop:He.$E.base.offset().top},200),1<e&&e--,Y(t,e)},this.paginationCountPages=function(){var e=He.$E.conPagin.data("galleryIdx"),t=0;return 0<He.pgMaxLinesPerPage&&(t=He.I[e].contentLength/(He.pgMaxLinesPerPage*He.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(t),n2},this.galleryCountImages=function(){return o()},this.GetItem=function(e){if(isNaN(e))throw"index must be a number";return He.I[e]},this.GetItems=function(){return He.I},this.GetItemsIndex=function(e){for(var t=[],n=e.length,i=0;i<n;i++){if(index=isNaN(e[i])?He.I.indexOf(e[i]):e[i],isNaN(index))throw"This item does not exists";t.push(index)}return t},this.SetSelectedItems=function(e){for(var t=e.length,n=0;n<t;n++)null!==e[n].$elt&&K(e[n],!0)},this.SetUnselectedItems=function(e){for(var t=e.length,n=0;n<t;n++)null!==e[n].$elt&&K(e[n],!1)},this.GetSelectedItems=function(){return He.selectedItems},this.GetCurrentViewedItem=function(){return He.containerViewerDisplayed?He.I[He.viewerCurrentItemIdx]:null},this.GetCurrentViewedItemIdx=function(){return He.containerViewerDisplayed?He.viewerCurrentItemIdx:-1},this.Get=function(e){return He.O[e]},this.Set=function(e,t){He.O[e]=t},this.SetSelectMode=function(e){void 0===e&&!0===He.selectModeForce&&(e=He.selectMode),!0!==e&&!1!==e&&"image"!==e&&"album"!==e||(He.selectModeForce=!1!==e,"album"===(He.selectMode=e)||"image"==e?He.$E.base.find(".nanoGalleryThumbnailContainer").each(function(){Ve(this).hasClass("album")&&"image"===e||!Ve(this).hasClass("album")&&"album"===e?Ve(this).addClass("unselectable"):Ve(this).removeClass("unselectable")}):He.$E.base.find(".nanoGalleryThumbnailContainer").removeClass("unselectable"),!1!==He.O.keepSelection&&!1!==e||this.SetUnselectedItems(He.I),"function"==typeof He.O.fnChangeSelectMode&&He.O.fnChangeSelectMode(He.selectMode))},this.GetSelectMode=function(){return He.selectMode};var He=this;He.I=[],He.O=null,He.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},He.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},He.$currentTouchedThumbnail=null,He.baseEltID=null,He.containerTags=null,He.containerNavigationbarContDisplayed=!1,He.containerViewerDisplayed=!1,He.containerThumbnailsDisplayed=!1,He.tn={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:{l1:0,lN:0,get:function(){return He.tn.labelHeight[He.curNavLevel]}},outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return He.tn.outerWidth[He.curNavLevel][He.curWidth]}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return He.tn.outerHeight[He.curNavLevel][He.curWidth]}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return He.tn.settings.height[He.curNavLevel][He.curWidth]},getW:function(){return He.tn.settings.width[He.curNavLevel][He.curWidth]}},getHE:function(){return"l1"==He.curNavLevel&&0!==He.tnL1HE.length?He.tnL1HE:He.tnHE},styleFTitle:"",styleITitle:"",styleDesc:"",styleLabelImage:"",styleL1FTitle:"",styleL1ITitle:"",styleL1Desc:"",styleL1LabelImage:""},He.tnHE=[],He.tnL1HE=[],He.L={nbMaxTnPerRow:0},He.blackList=null,He.whiteList=null,He.albumList=null,He.galleryItemsCount=0,He.toolbarMode="std",He.playSlideshow=!1,He.playSlideshowTimerID=0,He.slideshowDelay=3e3,He.touchAutoOpenDelayTimerID=0,He.supportFullscreenAPI=!1,He.viewerIsFullscreen=!1,He.bodyOverflowInitial=null,He.i18nLang="",He.timeImgChanged=0,He.timeLastTouchStart=0,He.pgMaxNbThumbnailsPerRow=1,He.pgMaxLinesPerPage=0,He.lastOpenAlbumID=-1,He.lastLocationHash="",He.touchSelectTO=null,He.viewerImageIsChanged=!1,He.viewerResizeTimerID=-1,He.viewerResizeTimerLastRun=-1,He.viewerCurrentItemIdx=-1,He.imageSwipePosX=0,He.albumIdxToOpenOnViewerClose=-1,He.custGlobals={},He.delayedAlbumIdx=-1,He.curAlbumIdx=-1,He.delayedSetLocationHash=!1,He.viewerSwipe=null,He.isShiftPressed=!1,He.isAltPressed=!1,He.isCtrlPressed=!1,He.isMetaPressed=!1,He.selectedItems=[],He.aengine="animate",He.scrollTimeOut=0,He.maxAlbums=1e6,He.maxPhotos=1e6,He.curNavLevel="l1",He.curWidth="me",He.gallerySwipeInitDone=!1,He.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",He.CSStransformName=e(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),He.CSStransformStyle=e(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),He.CSSperspective=e(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),He.CSSbackfaceVisibilityName=e(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),He.CSStransitionName=e(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),He.CSSanimationName=e(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),He.IE=function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}(),He.isIOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),He.isGingerbread=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),He.openNoDelay=!1,He.startDateTime=new Date,He.toRender=[],He.picasa={url:function(){return He.O.picasaUseUrlCrossDomain?"https://photos.googleapis.com/data/feed/api/":"https://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "},He.flickr={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},He.colorScheme_default={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #fff",paginationDotBack:"#444",paginationDotSelBack:"#fff"}},He.colorScheme_darkRed={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #d00",paginationDotBack:"#400",paginationDotSelBack:"#d00"}},He.colorScheme_darkGreen={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #0c0",paginationDotBack:"#008500",paginationDotSelBack:"#0c0"}},He.colorScheme_darkBlue={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #162ea2",paginationDotBack:"#071871",paginationDotSelBack:"#162ea2"}},He.colorScheme_darkOrange={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #ffb600",paginationDotBack:"#a67600",paginationDotSelBack:"#ffb600"}},He.colorScheme_light={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},He.colorScheme_lightBackground={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:"",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},He.colorSchemeViewer_default={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},He.colorSchemeViewer_dark={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},He.colorSchemeViewer_darkRed={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},He.colorSchemeViewer_darkGreen={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},He.colorSchemeViewer_darkBlue={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},He.colorSchemeViewer_darkOrange={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},He.colorSchemeViewer_light={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var Fe,Be=(Fe=1,_e.get_nextId=function(){return Fe},_e.prototype={$getElt:function(e,t){return void 0!==this.$Elts[e]&&1==!t||(this.$Elts[e]=this.$elt.find(e)),this.$Elts[e]},thumbSetImgHeight:function(e){for(var t=["xs","sm","me","la","xl"],n=0;n<t.length;n++)He.tn.settings.height.l1[t[n]]==He.tn.settings.getH()&&He.tn.settings.width.l1[t[n]]==He.tn.settings.getW()&&(this.thumbs.height.l1[t[n]]=e);for(n=0;n<t.length;n++)He.tn.settings.height.lN[t[n]]==He.tn.settings.getH()&&He.tn.settings.width.lN[t[n]]==He.tn.settings.getW()&&(this.thumbs.height.lN[t[n]]=e)},thumbSetImgWidth:function(e){for(var t=["xs","sm","me","la","xl"],n=0;n<t.length;n++)He.tn.settings.height.l1[t[n]]==He.tn.settings.getH()&&He.tn.settings.width.l1[t[n]]==He.tn.settings.getW()&&(this.thumbs.width.l1[t[n]]=e);for(n=0;n<t.length;n++)He.tn.settings.height.lN[t[n]]==He.tn.settings.getH()&&He.tn.settings.width.lN[t[n]]==He.tn.settings.getW()&&(this.thumbs.width.lN[t[n]]=e)},thumbImg:function(){var e={src:"",width:0,height:0};return"dummydummydummy"==this.title?e.src=He.emptyGif:(e.src=this.thumbs.url[He.curNavLevel][He.curWidth],e.width=this.thumbs.width[He.curNavLevel][He.curWidth],e.height=this.thumbs.height[He.curNavLevel][He.curWidth]),e},responsiveURL:function(){var e="";switch(He.O.kind){case"":case"flickr":e=this.src;break;case"picasa":default:e=this.src}return e}},_e);function _e(e,t){var n;n=null==t?Fe++:t,this.GetID=function(){return n},this.title=e,this.description="",this.src="",this.width=0,this.height=0,this.destinationURL="",this.kind="",this.author="",this.thumbFullWidth=0,this.thumbFullHeight=0,this.thumbLabelWidth=0,this.thumbLabelHeight=0,this.thumbSizes={},this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.imageNumber=0,this.eltTransform={},this.albumID=0,this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.$elt=null,this.$Elts=[]}this.Initiate=function(e,t){if(He.O=t,He.O.thumbnailLabel.get=function(e){return"l1"==He.curNavLevel&&void 0!==He.O.thumbnailL1Label&&void 0!==He.O.thumbnailL1Label[e]?He.O.thumbnailL1Label[e]:He.O.thumbnailLabel[e]},He.O.thumbnailLabel.set=function(e,t){"l1"==He.curNavLevel&&void 0!==He.O.thumbnailL1Label&&void 0!==He.O.thumbnailL1Label[e]?He.O.thumbnailL1Label[e]=t:He.O.thumbnailLabel[e]=t},He.$E.base=jQuery(e),He.baseEltID=He.$E.base.attr("id"),He.bodyOverflowInitial=jQuery("body").css("overflow"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function n(){return a.apply(this instanceof t&&e?this:e,i.concat(Array.prototype.slice.call(arguments)))}var i=Array.prototype.slice.call(arguments,1),a=this;return t.prototype=this.prototype,n.prototype=new t,n}),String.prototype.replaceAll=function(e,t){return void 0===t?this.toString():this.split(e).join(t)},"object"==Ne(jQuery.velocity)?He.aengine="velocity":"object"==Ne(jQuery.transit)&&(He.aengine="transition"),jQuery(e).addClass("nanogallery_theme_"+He.O.theme),function(e){var t=null;switch(Ne(He.O.colorScheme)){case"object":t=He.colorScheme_default,jQuery.extend(!0,t,He.O.colorScheme),He.colorSchemeLabel="nanogallery_colorscheme_custom_"+He.baseEltID;break;case"string":switch(He.O.colorScheme){case"none":return;case"light":t=He.colorScheme_light,He.colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":t=He.colorScheme_lightBackground,He.colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":t=He.colorScheme_darkRed,He.colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":t=He.colorScheme_darkGreen,He.colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":t=He.colorScheme_darkBlue,He.colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":t=He.colorScheme_darkOrange,He.colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:t=He.colorScheme_default,He.colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return Te("Error in colorScheme parameter.")}var n="."+He.colorSchemeLabel+" ",i=n+".nanoGalleryNavigationbar { background:"+t.navigationbar.background+" !important; }\n";void 0!==t.navigationbar.border&&(i+=n+".nanoGalleryNavigationbar { border:"+t.navigationbar.border+" !important; }\n"),void 0!==t.navigationbar.borderTop&&(i+=n+".nanoGalleryNavigationbar { border-top:"+t.navigationbar.borderTop+" !important; }\n"),void 0!==t.navigationbar.borderBottom&&(i+=n+".nanoGalleryNavigationbar { border-bottom:"+t.navigationbar.borderBottom+" !important; }\n"),void 0!==t.navigationbar.borderRight&&(i+=n+".nanoGalleryNavigationbar { border-right:"+t.navigationbar.borderRight+" !important; }\n"),void 0!==t.navigationbar.borderLeft&&(i+=n+".nanoGalleryNavigationbar { border-left:"+t.navigationbar.borderLeft+" !important; }\n"),i+=n+".nanoGalleryNavigationbar .oneFolder  { color:"+t.navigationbar.color+" !important; }\n",i+=n+".nanoGalleryNavigationbar .separator  { color:"+t.navigationbar.color+" !important; }\n",i+=n+".nanoGalleryNavigationbar .separatorRTL  { color:"+t.navigationbar.color+" !important; }\n",i+=n+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+t.navigationbar.color+" !important; }\n",i+=n+".nanoGalleryNavigationbar .setFullPageButton { color:"+t.navigationbar.color+" !important; }\n",i+=n+".nanoGalleryNavigationbar .removeFullPageButton { color:"+t.navigationbar.color+" !important; }\n",i+=n+".nanoGalleryNavigationbar .oneFolder:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=n+".nanoGalleryNavigationbar .separatorRTL:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=n+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=n+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=n+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+t.navigationbar.colorHover+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer { background:"+t.thumbnail.background+" !important; border:"+t.thumbnail.border+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .imgContainer { background:"+t.thumbnail.background+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImage{ background:"+t.thumbnail.labelBackground+" ; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n";var a=t.thumbnail.labelBackground;"transparent"==a&&(a=""),i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle > span { background-color:"+t.thumbnail.titleColor+" !important; color:"+a+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription { color:"+t.thumbnail.descriptionColor+" !important; Text-Shadow:"+t.thumbnail.descriptionShadow+" !important; }\n",i+=n+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription > span { background-color:"+t.thumbnail.titleColor+" !important; color:"+a+" !important; }\n",He.O.paginationDots&&(i+=n+".nanoGalleryPaginationDot > .paginationItem { border:"+t.thumbnail.paginationDotBorder+" !important; background:"+t.thumbnail.paginationDotBack+" !important;}\n",i+=n+".nanoGalleryPaginationDot > .currentPage { background:"+t.thumbnail.paginationDotSelBack+" !important;}\n");var r="nanogallery_galleryfullpage_bgcolor_"+He.baseEltID;i+="."+r+".fullpage { background:"+He.O.galleryFullpageBgColor+" !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass(He.colorSchemeLabel),jQuery(e).addClass(r)}(e),He.O.thumbnailLabel.get("hideIcons")){var i=(a=".nanogallery_thumbnails_icons_off ")+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";i+=a+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_icons_off")}if(He.O.galleryToolbarHideIcons){i=(a=".nanogallery_breadcrumb_icons_off ")+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";i+=a+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_breadcrumb_icons_off")}if("right"==He.O.thumbnailLabel.get("align")){i=(a=".nanogallery_thumbnails_label_align_right ")+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_right")}if("center"==He.O.thumbnailLabel.get("align")){i=(a=".nanogallery_thumbnails_label_align_center ")+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_center")}if("left"==He.O.thumbnailLabel.get("align")){var a;i=(a=".nanogallery_thumbnails_label_align_left ")+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_left")}He.$E.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(e),He.$E.conNavBCon.hide(),He.$E.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(He.$E.conNavBCon);var r="";switch(He.O.RTL&&(r='style="text-align:right;direction:rtl;"'),He.$E.conBC=jQuery('<div class="nanoGalleryBreadcrumb" '+r+"></div>").appendTo(He.$E.conNavB),He.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(e),He.$E.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(e),He.$E.conTn=jQuery('<div class="nanoGalleryContainer nGEvent"></div>').appendTo(He.$E.conTnParent),He.$E.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(e),He.O.thumbnailAlignment){case"left":He.$E.conTnParent.css({"text-align":"left"}),He.$E.conNavBCon.css({"margin-left":0});break;case"right":He.$E.conTnParent.css({"text-align":"right"}),He.$E.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var o,l,s,u,c,d,h,g=jQuery('<div class="nanogalleryHideElement '+jQuery(e).attr("class")+'"></div>').appendTo("body"),m=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(g);if(He.$E.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(m),He.O.supportIE8)try{window.addEventListener||(o=Window.prototype,l=HTMLDocument.prototype,s=Element.prototype,c="removeEventListener",d="dispatchEvent",h=[],o[u="addEventListener"]=l[u]=s[u]=function(e,t){var n=this;h.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,h[0][3])},o[c]=l[c]=s[c]=function(e,t){for(var n,i=0;n=h[i];++i)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,h.splice(i,1)[0][3])},o[d]=l[d]=s[d]=function(e){return this.fireEvent("on"+e.type,e)})}catch(e){return y(),!1}else if(He.IE<=8)return y(),!1;!function(){"fancybox"==He.O.viewer&&void 0===jQuery.fancybox&&(He.O.viewer="internal",Oe("Fancybox could not be found. Fallback to internal viewer. Please check the files included in the HTML page.")),"CBRISBOIS@GMAIL.COM"!=He.O.userID.toUpperCase()&&"111186676244625461692"!=He.O.userID||""!=He.O.blackList&&"SCRAPBOOK|PROFIL"!=He.O.blackList.toUpperCase()||(He.O.blackList="profil|scrapbook|forhomepage"),""!=He.O.blackList&&(He.blackList=He.O.blackList.toUpperCase().split("|")),""!=He.O.whiteList&&(He.whiteList=He.O.whiteList.toUpperCase().split("|")),""!=He.O.albumList&&(He.albumList=He.O.albumList.toUpperCase().split("|")),"picasa"!=He.O.kind&&"flickr"!=He.O.kind&&"json"!=He.O.kind||(He.O.displayBreadcrumb=!0),void 0!==He.O.photoset?0<He.O.photoset.length&&(He.O.displayBreadcrumb=!1):He.O.photoset="",void 0!==He.O.album?0<He.O.album.length&&(He.O.displayBreadcrumb=!1):He.O.album="",0<He.O.maxWidth&&(jQuery(He.$E.base).css({maxWidth:He.O.maxWidth}),jQuery(He.$E.base).css({"margin-left":"auto"}),jQuery(He.$E.base).css({"margin-right":"auto"})),"number"==Ne(He.O.slideshowDelay)&&2e3<=He.O.slideshowDelay?He.slideshowDelay=He.O.slideshowDelay:Oe('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==Ne(He.O.thumbnailDisplayInterval)&&0<=He.O.thumbnailDisplayInterval?He.tn.displayInterval=He.O.thumbnailDisplayInterval:Oe('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==Ne(He.O.thumbnailLazyLoadTreshold)&&0<=He.O.thumbnailLazyLoadTreshold?He.tn.lazyLoadTreshold=He.O.thumbnailLazyLoadTreshold:Oe('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==Ne(He.O.paginationMaxLinesPerPage)&&0<=He.O.paginationMaxLinesPerPage?He.pgMaxLinesPerPage=He.O.paginationMaxLinesPerPage:Oe('Parameter "paginationMaxLinesPerPage" must be an integer.'),void 0!==He.O.thumbnailSizeSM&&(He.O.breakpointSizeSM=He.O.thumbnailSizeSM),void 0!==He.O.thumbnailSizeME&&(He.O.breakpointSizeME=He.O.thumbnailSizeME),void 0!==He.O.thumbnailSizeLA&&(He.O.breakpointSizeLA=He.O.thumbnailSizeLA),void 0!==He.O.thumbnailSizeXL&&(He.O.breakpointSizeXL=He.O.thumbnailSizeXL);var e=He.O.albumSorting.toUpperCase();0==e.indexOf("RANDOM")&&6<e.length&&(n=parseInt(e.substring(6)),0<n&&(He.maxAlbums=n),He.O.albumSorting="random");var t=He.O.photoSorting.toUpperCase();0==t.indexOf("RANDOM")&&6<t.length&&(n=parseInt(t.substring(6)),0<n&&(He.maxPhotos=n),He.O.photoSorting="random"),0<parseInt(He.O.albumMax)&&(He.maxAlbums=n);var i=He.O.thumbnailL1HoverEffect;if(void 0!==i)switch(Ne(i)){case"string":for(var a=i.split(","),r=0;r<a.length;r++){if("none"!=a[r]&&C(a[r]))(o=E()).name=a[r],He.tnL1HE.push(o)}break;case"object":if("none"!=i.name&&C(i.name)){var o=E();He.tnL1HE.push(jQuery.extend(o,i))}break;case"array":for(r=0;r<i.length;r++)if("none"!=i[r].name&&C(i[r].name)){o=E();He.tnL1HE.push(jQuery.extend(o,i[r]))}break;case"null":break;default:Te('incorrect parameter for "thumbnailL1HoverEffect".')}var l=He.O.thumbnailHoverEffect;switch(Ne(l)){case"string":for(a=l.split(","),r=0;r<a.length;r++){if("none"!=a[r]&&C(a[r]))(o=E()).name=a[r],He.tnHE.push(o)}break;case"object":if("none"!=l.name&&C(l.name)){o=E();He.tnHE.push(jQuery.extend(o,l))}break;case"array":for(r=0;r<l.length;r++)if("none"!=l[r].name&&C(l[r].name)){o=E();He.tnHE.push(jQuery.extend(o,l[r]))}break;case"null":break;default:Te('incorrect parameter for "thumbnailHoverEffect".')}if(0==He.tnHE.length&&(0==He.tnL1HE.length&&(He.O.touchAnimationL1=!1),He.O.touchAnimation=!1),He.curWidth=S(),"number"==Ne(He.O.thumbnailWidth))I("width","l1",He.O.thumbnailWidth,"u"),I("width","lN",He.O.thumbnailWidth,"u");else{var s="auto";"auto"!=(d=He.O.thumbnailWidth.split(" "))[0].substring(0,4)&&(s=parseInt(d[0]));var u="u";"C"==d[0].charAt(d[0].length-1)&&(u="c"),I("width","l1",s,u),I("width","lN",s,u);for(r=1;r<d.length;r++){var c=d[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(c)){s="auto";"auto"!=(h=d[r].substring(2)).substring(0,4)&&(s=parseInt(h));u="u";"C"==h.charAt(h.length-1)&&(u="c"),He.tn.settings.width.l1[c]=s,He.tn.settings.width.lN[c]=s,He.tn.settings.width.l1[c+"c"]=u,He.tn.settings.width.lN[c+"c"]=u}}}if(null!=He.O.thumbnailL1Width)if("number"==Ne(He.O.thumbnailL1Width))I("width","l1",He.O.thumbnailL1Width,"u");else{s="auto";"auto"!=(d=He.O.thumbnailL1Width.split(" "))[0].substring(0,4)&&(s=parseInt(d[0]));u="u";"C"==d[0].charAt(d[0].length-1)&&(u="c"),I("width","l1",s,u);for(r=1;r<d.length;r++){c=d[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(c)){s="auto";"auto"!=(h=d[r].substring(2)).substring(0,4)&&(s=parseInt(h));u="u";"C"==h.charAt(h.length-1)&&(u="c"),He.tn.settings.width.l1[c]=s,He.tn.settings.width.l1[c+"c"]=u}}}if("number"==Ne(He.O.thumbnailHeight))I("height","l1",He.O.thumbnailHeight,"u"),I("height","lN",He.O.thumbnailHeight,"u");else{s="auto";"auto"!=(d=He.O.thumbnailHeight.split(" "))[0].substring(0,4)&&(s=parseInt(d[0]));u="u";"C"==d[0].charAt(d[0].length-1)&&(u="c"),I("height","l1",s,u),I("height","lN",s,u);for(r=1;r<d.length;r++){c=d[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(c)){s="auto";"auto"!=(h=d[r].substring(2)).substring(0,4)&&(s=parseInt(h));u="u";"C"==h.charAt(h.length-1)&&(u="c"),He.tn.settings.height.l1[c]=s,He.tn.settings.height.lN[c]=s,He.tn.settings.height.l1[c+"c"]=u,He.tn.settings.height.lN[c+"c"]=u}}}if(null!=He.O.thumbnailL1Height)if("number"==Ne(He.O.thumbnailL1Height))I("height","l1",He.O.thumbnailL1Height,"u");else{var d;s="auto";"auto"!=(d=He.O.thumbnailL1Height.split(" "))[0].substring(0,4)&&(s=parseInt(d[0]));u="u";"C"==d[0].charAt(d[0].length-1)&&(u="c"),I("height","l1",s,u);for(r=1;r<d.length;r++){c=d[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(c)){var h;s="auto";"auto"!=(h=d[r].substring(2)).substring(0,4)&&(s=parseInt(h));u="u";"C"==h.charAt(h.length-1)&&(u="c"),He.tn.settings.height.l1[c]=s,He.tn.settings.height.l1[c+"c"]=u}}}}();var f="";He.O.RTL&&(f='style="direction:rtl;"'),He.$E.conPagin=jQuery('<div class="nanoGalleryPagination'+(He.O.paginationDots?"Dot":"")+'" '+f+"></div>").appendTo(He.$E.conTnParent),He.$E.conPagin.hide(),new x(He.$E.conTn[0]),function(){He.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===He.i18nLang&&(He.i18nLang="");var e=-("_"+He.i18nLang).length;if("object"==Ne(He.O.i18n))for(var t in He.O.i18n){var n=t.substr(e);n=="_"+He.i18nLang?He.i18nTranslations[t.substr(0,t.length-n.length)]=He.O.i18n[t]:He.i18nTranslations[t]=He.O.i18n[t]}}(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?He.supportFullscreenAPI=!0:Oe("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),function(){He.I=[],He.curNavLevel="lN";var e="";He.O.thumbnailLabel.get("displayDescription")&&(e="d");var t=P("dummydummydummy",He.emptyGif,He.emptyGif,e,"","image","","1","0"),n=Z(t,0,!1).e$;He.tn.borderWidth=n.outerWidth(!0)-n.width(),He.tn.borderHeight=n.outerHeight(!0)-n.height(),He.tn.imgcBorderWidth=n.find(".imgContainer").outerWidth(!0)-n.find(".imgContainer").width(),He.tn.imgcBorderHeight=n.find(".imgContainer").outerHeight(!0)-n.find(".imgContainer").height(),He.tn.labelBorderHeight=n.find(".labelImage").outerHeight(!0)-n.find(".labelImage").height(),He.tn.labelBorderWidth=n.find(".labelImage").outerWidth(!0)-n.find(".labelImage").width(),"onBottom"==He.O.thumbnailLabel.get("position")&&(He.tn.labelHeight.lN=n.find(".labelImage").outerHeight(!0),He.tn.labelHeight.l1=He.tn.labelHeight.lN);for(var i=["xs","sm","me","la","xl"],a=0;a<i.length;a++)"auto"!=(r=He.tn.settings.width.lN[i[a]])?(He.tn.outerWidth.lN[i[a]]=r+He.tn.borderWidth+He.tn.imgcBorderWidth,He.tn.outerWidth.l1[i[a]]=r+He.tn.borderWidth+He.tn.imgcBorderWidth):(He.tn.outerWidth.lN[i[a]]=0,He.tn.outerWidth.l1[i[a]]=0);for(a=0;a<i.length;a++)"auto"!=(o=He.tn.settings.height.lN[i[a]])?(He.tn.outerHeight.lN[i[a]]=o+He.tn.borderHeight+He.tn.imgcBorderHeight+He.tn.labelHeight.get(),He.tn.outerHeight.l1[i[a]]=o+He.tn.borderHeight+He.tn.imgcBorderHeight+He.tn.labelHeight.get()):(He.tn.outerHeight.lN[i[a]]=0,He.tn.outerHeight.l1[i[a]]=0);for(He.I=[],He.curNavLevel="l1",e="",He.O.thumbnailLabel.get("displayDescription")&&(e="d"),n=Z(t=P("dummydummydummy",He.emptyGif,He.emptyGif,e,"","image","","1","0"),0,!1).e$,He.tn.borderWidth=n.outerWidth(!0)-n.width(),He.tn.borderHeight=n.outerHeight(!0)-n.height(),He.tn.imgcBorderWidth=n.find(".imgContainer").outerWidth(!0)-n.find(".imgContainer").width(),He.tn.imgcBorderHeight=n.find(".imgContainer").outerHeight(!0)-n.find(".imgContainer").height(),He.tn.labelBorderHeight=n.find(".labelImage").outerHeight(!0)-n.find(".labelImage").height(),He.tn.labelBorderWidth=n.find(".labelImage").outerWidth(!0)-n.find(".labelImage").width(),"onBottom"==He.O.thumbnailLabel.get("position")&&(He.tn.labelHeight.l1=n.find(".labelImage").outerHeight(!0)),i=["xs","sm","me","la","xl"],a=0;a<i.length;a++){var r=He.tn.settings.width.l1[i[a]];He.tn.outerWidth.l1[i[a]]="auto"!=r?r+He.tn.borderWidth+He.tn.imgcBorderWidth:0}for(a=0;a<i.length;a++){var o=He.tn.settings.height.l1[i[a]];He.tn.outerHeight.l1[i[a]]="auto"!=o?o+He.tn.borderHeight+He.tn.imgcBorderHeight+He.tn.labelHeight.get():0}He.pgMaxNbThumbnailsPerRow=z(),He.custGlobals.oldBorderColor=n.css("border-color-top"),""!=He.custGlobals.oldBorderColor&&null!=He.custGlobals.oldBorderColor&&null!=He.custGlobals.oldBorderColor||(He.custGlobals.oldBorderColor="#000"),He.custGlobals.oldLabelOpacity=n.find(".labelImage").css("opacity");var l=jQuery.Color(n.find(".labelImage"),"backgroundColor");if("transparent"==l?(He.custGlobals.oldLabelRed=0,He.custGlobals.oldLabelGreen=0,He.custGlobals.oldLabelBlue=0):(He.custGlobals.oldLabelRed=l.red(),He.custGlobals.oldLabelGreen=l.green(),He.custGlobals.oldLabelBlue=l.blue()),He.I=[],He.O.thumbnailLabel.display)switch(He.O.thumbnailLabel.position){case"onBottom":He.tn.styleLabelImage="top:0; position:relative; left:0; right:0;",He.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==He.tn.settings.getH()?(He.tn.styleFTitle="white-space:normal;",He.tn.styleL1FTitle="white-space:normal;",He.tn.styleITitle="white-space:normal;",He.tn.styleL1ITitle="white-space:normal;",He.tn.styleDesc="white-space:normal;",He.tn.styleL1Desc="white-space:normal;"):(He.tn.styleFTitle="white-space:nowrap;",He.tn.styleL1FTitle="white-space:nowrap;",He.tn.styleITitle="white-space:nowrap;",He.tn.styleL1ITitle="white-space:nowrap;",He.tn.styleDesc="white-space:nowrap;",He.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":He.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",He.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":He.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",He.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",He.tn.styleFTitle="left:0; right:0; position:absolute; bottom:50%;",He.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",He.tn.styleITitle="left:0; right:0; position:absolute; bottom:50%;",He.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",He.tn.styleDesc="left:0; right:0; position:absolute; top:50%;",He.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:He.O.thumbnailLabel.position="overImageOnBottom",He.tn.styleLabelImage="bottom:0; left:0; right:0;",He.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}if(He.O.thumbnailL1Label&&He.O.thumbnailL1Label.display)switch(He.O.thumbnailL1Label.position){case"onBottom":He.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==He.tn.settings.getH()?(He.tn.styleL1FTitle="white-space:normal;",He.tn.styleL1ITitle="white-space:normal;",He.tn.styleL1Desc="white-space:normal;"):(He.tn.styleL1FTitle="white-space:nowrap;",He.tn.styleL1ITitle="white-space:nowrap;",He.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":He.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":He.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",He.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",He.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",He.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":He.tn.styleL1LabelImage="";break;case"overImageOnBottom":default:He.O.thumbnailL1Label.position="overImageOnBottom",He.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}}(),He.L.nbMaxTnPerRow=z(),He.O.viewerFullscreen&&0<He.O.openOnStart.indexOf("/")&&ngscreenfull.request(),"loadData"!=He.O.lazyBuild&&w();var p=0;jQuery(window).resize(function(){p&&clearTimeout(p),He.containerViewerDisplayed?ke():p=setTimeout(function(){var e=S();-1==He.curAlbumIdx||He.tn.settings.getH()==He.tn.settings.height[He.curNavLevel][e]&&He.tn.settings.getW()==He.tn.settings.width[He.curNavLevel][e]?R():(He.curWidth=e,Y(He.curAlbumIdx,0))},50)}),He.$E.base.on("scroll",function(){b()}),jQuery(window).on("scroll",function(){b()})},function(){for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=window.setTimeout(function(){e(t+n)},n);return a=t+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();function Ae(e,t,n){e=(e=e.replace(/^\s*|\s*$/,"")).replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var i=Math.round(256*t)*(n?-1:1),a=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),r=a&&null!=a[4]?a[4]:null,o=a?[a[1],a[2],a[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return a?"rgb"+(null!==r?"a":"")+"("+Math[n?"max":"min"](parseInt(o[0],10)+i,n?0:255)+", "+Math[n?"max":"min"](parseInt(o[1],10)+i,n?0:255)+", "+Math[n?"max":"min"](parseInt(o[2],10)+i,n?0:255)+(null!==r?", "+r:"")+")":["#",We(Math[n?"max":"min"](parseInt(o[0],10)+i,n?0:255).toString(16),2),We(Math[n?"max":"min"](parseInt(o[1],10)+i,n?0:255).toString(16),2),We(Math[n?"max":"min"](parseInt(o[2],10)+i,n?0:255).toString(16),2)].join("")}var Ne=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},Ge=function(e,t){return Ae(e,t,!1)},Me=function(e,t){return Ae(e,t,!0)},We=function(e,t){for(e+="";e.length<t;)e="0"+e;return e}}jQuery.nanoGallery=function(e,t){var n=this;n.$e=Ve(e),n.e=e,n.$e.data("nanoGallery",n),n.init=function(){n.options=Ve.extend(!0,{},Ve.nanoGallery.defaultOptions,t),n.nG=new a,n.nG.Initiate(n.e,n.options)},n.test=function(){},n.init()},jQuery.nanoGallery.defaultOptions={userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",RTL:!1,picasaUseUrlCrossDomain:!0,flickrSkipOriginal:!0,galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",galleryEnableKeyboard:!1,galleryRenderStep:10,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",itemsSelectable:!1,showCheckboxes:!0,checkboxStyle:"left:15px; top:15px;",keepSelection:!1,jsonCharset:"Latin",jsonProvider:"",paginationMaxLinesPerPage:0,paginationDots:!1,paginationSwipe:!0,paginationVisiblePages:10,maxWidth:0,viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,fancyBoxOptions:null,imageTransition:"slide",openOnStart:"",viewerToolbar:{display:!0,position:"bottom",style:"innerImage",autoMinimize:800,standard:"minimizeButton , previousButton, pageCounter ,nextButton,playPauseButton,fullscreenButton,infoButton,linkOriginalButton,closeButton,label",minimized:"minimizeButton,label"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:5,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",thumbnailOpenImage:!0,breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnThumbnailOpen:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnChangeSelectMode:null,fnInitGallery:null,touchAnimation:!0,touchAutoOpenDelay:0,useTags:!1,preset:"none",locationHash:!0,demoViewportWidth:0,slideshowDelay:3e3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",albumMax:0,lazyBuild:"none",lazyBuildTreshold:150,debugMode:!1,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",breadcrumbHome_ES:"Galer&iacute;as",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro"," paginationPrevious_ES":"Anterior",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",paginationNext_ES:"Siguiente",thumbnailLabelItemsCountPart1:"",thumbnailLabelItemsCountPart2:"",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments",infoBoxPhoto_ES:"Foto",infoBoxDate_ES:"Fecha",infoBoxAlbum_ES:"Album",infoBoxDimensions_ES:"Dimensiones",infoBoxFilename_ES:"Nombre",infoBoxFileSize_ES:"Tama&ntilde;o",infoBoxCamera_ES:"C&aacute;mara",infoBoxFocalLength_ES:"Longitud focal",infoBoxExposure_ES:"Exposici&oacute;n",infoBoxFNumber_ES:"N&uacute;mero F",infoBoxISO_ES:"ISO",infoBoxMake_ES:"Hacer",infoBoxFlash_ES:"Flash",infoBoxViews_ES:"Vistas",infoBoxComments_ES:"Comentarios"}},jQuery.fn.nanoGallery=function(e,t,n){if(void 0===Ve(this).data("nanoGallery"))return this.each(function(){new Ve.nanoGallery(this,e)});switch(e){case"reload":return Ve(this).data("nanoGallery").nG.ReloadAlbum(),Ve(this);case"refreshSize":return Ve(this).data("nanoGallery").nG.RefreshSize(),Ve(this);case"getSelectedItems":return Ve(this).data("nanoGallery").nG.GetSelectedItems();case"selectItems":Ve(this).data("nanoGallery").nG.SetSelectedItems(t);break;case"unselectItems":Ve(this).data("nanoGallery").nG.SetUnselectedItems(t);break;case"setSelectMode":!0!==t&&!1!==t&&"image"!==t&&"album"!==t||Ve(this).data("nanoGallery").nG.SetSelectMode(t);break;case"getSelectMode":return Ve(this).data("nanoGallery").nG.GetSelectMode();case"getItem":return Ve(this).data("nanoGallery").nG.GetItem(t);case"getItems":return Ve(this).data("nanoGallery").nG.GetItems();case"getItemsIndex":return Ve(this).data("nanoGallery").nG.GetItemsIndex(t);case"option":if(void 0===n)return Ve(this).data("nanoGallery").nG.Get(t);Ve(this).data("nanoGallery").nG.Set(t,n),"demoViewportWidth"==t&&Ve(window).trigger("resize");break;case"destroy":Ve(this).data("nanoGallery").nG.$E.base.text(""),Ve(this).removeData();break;case"closeViewer":Ve(this).data("nanoGallery").nG.closeViewer();break;case"minimizeToolbar":Ve(this).data("nanoGallery").nG.minimizeToolbar();break;case"maximizeToolbar":Ve(this).data("nanoGallery").nG.maximizeToolbar();break;case"displayItem":Ve(this).data("nanoGallery").nG.displayItem(t);break;case"paginationPreviousPage":Ve(this).data("nanoGallery").nG.paginationPreviousPage();break;case"paginationNextPage":Ve(this).data("nanoGallery").nG.paginationNextPage();break;case"paginationGotoPage":Ve(this).data("nanoGallery").nG.paginationGotoPage(t);break;case"paginationCountPages":return Ve(this).data("nanoGallery").nG.paginationCountPages();case"getCurrentViewedItem":return Ve(this).data("nanoGallery").nG.GetCurrentViewedItem();case"getCurrentViewedItemIdx":return Ve(this).data("nanoGallery").nG.GetCurrentViewedItemIdx();case"moveToNextAlbum":return Ve(this).data("nanoGallery").nG.moveToNextAlbum();case"moveToPreviousAlbum":return Ve(this).data("nanoGallery").nG.moveToPreviousAlbum();case"galleryCountImages":return Ve(this).data("nanoGallery").nG.galleryCountImages()}return Ve(this)}}),function(c,d){function h(e,t,n){var i=p[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function l(o){var l=m(),s=l._rgba=[];return o=o.toLowerCase(),b(e,function(e,t){var n,i=t.re.exec(o),a=i&&t.parse(i),r=t.space||"rgba";return a?(n=l[r](a),l[f[r].cache]=n[f[r].cache],s=l._rgba=n._rgba,!1):void 0}),s.length?("0,0,0,0"===s.join()&&c.extend(s,u.transparent),l):u[o]}function s(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var u,g=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],m=c.Color=function(e,t,n,i){return new c.Color.fn.parse(e,t,n,i)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},o=m.support={},t=c("<p>")[0],b=c.each;t.style.cssText="background-color:rgba(1,1,1,.5)",o.rgba=-1<t.style.backgroundColor.indexOf("rgba"),b(f,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),m.fn=c.extend(m.prototype,{parse:function(a,e,t,n){if(a===d)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=c(a).css(e),e=d);var r=this,i=c.type(a),o=this._rgba=[];return e!==d&&(a=[a,e,t,n],i="array"),"string"===i?this.parse(l(a)||u._default):"array"===i?(b(f.rgba.props,function(e,t){o[t.idx]=h(a[t.idx],t)}),this):"object"===i?(b(f,a instanceof m?function(e,t){a[t.cache]&&(r[t.cache]=a[t.cache].slice())}:function(e,n){var i=n.cache;b(n.props,function(e,t){if(!r[i]&&n.to){if("alpha"===e||null==a[e])return;r[i]=n.to(r._rgba)}r[i][t.idx]=h(a[e],t,!0)}),r[i]&&c.inArray(null,r[i].slice(0,3))<0&&(r[i][3]=1,n.from&&(r._rgba=n.from(r[i])))}),this):void 0},is:function(e){var a=m(e),r=!0,o=this;return b(f,function(e,t){var n,i=a[t.cache];return i&&(n=o[t.cache]||t.to&&t.to(o._rgba)||[],b(t.props,function(e,t){return null!=i[t.idx]?r=i[t.idx]===n[t.idx]:void 0})),r}),r},_space:function(){var n=[],i=this;return b(f,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,o){var l=m(e),t=l._space(),n=f[t],i=0===this.alpha()?m("transparent"):this,s=i[n.cache]||n.to(i._rgba),u=s.slice();return l=l[n.cache],b(n.props,function(e,t){var n=t.idx,i=s[n],a=l[n],r=p[t.type]||{};null!==a&&(null===i?u[n]=a:(r.mod&&(r.mod/2<a-i?i+=r.mod:r.mod/2<i-a&&(i-=r.mod)),u[n]=h((a-i)*o+i,t)))}),this[t](u)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=m(e)._rgba;return m(c.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=c.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=c.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+c.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),m.fn.parse.prototype=m.fn,f.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,a=e[1]/255,r=e[2]/255,o=e[3],l=Math.max(i,a,r),s=Math.min(i,a,r),u=l-s,c=l+s,d=.5*c;return t=s===l?0:i===l?60*(a-r)/u+360:a===l?60*(r-i)/u+120:60*(i-a)/u+240,n=0==u?0:d<=.5?u/c:u/(2-c),[Math.round(t)%360,n,d,null==o?1:o]},f.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],a=e[3],r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;return[Math.round(255*s(o,r,t+1/3)),Math.round(255*s(o,r,t)),Math.round(255*s(o,r,t-1/3)),a]},b(f,function(s,e){var n=e.props,o=e.cache,l=e.to,u=e.from;m.fn[s]=function(e){if(l&&!this[o]&&(this[o]=l(this._rgba)),e===d)return this[o].slice();var t,i=c.type(e),a="array"===i||"object"===i?e:arguments,r=this[o].slice();return b(n,function(e,t){var n=a["object"===i?e:t.idx];null==n&&(n=r[t.idx]),r[t.idx]=h(n,t)}),u?((t=m(u(r)))[o]=r,t):m(r)},b(n,function(o,l){m.fn[o]||(m.fn[o]=function(e){var t,n=c.type(e),i="alpha"===o?this._hsla?"hsla":"rgba":s,a=this[i](),r=a[l.idx];return"undefined"===n?r:("function"===n&&(e=e.call(this,r),n=c.type(e)),null==e&&l.empty?this:("string"===n&&((t=g.exec(e))&&(e=r+parseFloat(t[2])*("+"===t[1]?1:-1))),a[l.idx]=e,this[i](a)))})})}),m.hook=function(e){var t=e.split(" ");b(t,function(e,r){c.cssHooks[r]={set:function(e,t){var n,i,a="";if("transparent"!==t&&("string"!==c.type(t)||(n=l(t)))){if(t=m(n||t),!o.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===r?e.parentNode:e;(""===a||"transparent"===a)&&i&&i.style;)try{a=c.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(a&&"transparent"!==a?a:"_default")}t=t.toRgbaString()}try{e.style[r]=t}catch(e){}}},c.fx.step[r]=function(e){e.colorInit||(e.start=m(e.elem,r),e.end=m(e.end),e.colorInit=!0),c.cssHooks[r].set(e.elem,e.start.transition(e.end,e.pos))}})},m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),c.cssHooks.borderColor={expand:function(n){var i={};return b(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},u=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=t():e.ngEvEmitter=t()}(void 0,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||[])[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,a=n[i];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];a;){var o=r&&r[a];o&&(this.off(e,a),delete r[a]),a.apply(this,t),a=n[i+=o?0:1]}return this}},e}),function(t,n){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=n(t,require("ev-emitter")):t.ngimagesLoaded=n(t,t.ngEvEmitter)}(window,function(t,e){function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,n){return this instanceof a?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),o&&(this.jqDeferred=new o.Deferred),void setTimeout(function(){this.check()}.bind(this))):new a(e,t,n)}function n(e){this.img=e}function r(e,t){this.url=e,this.element=t,this.img=new Image}var o=t.jQuery,l=t.console;(a.prototype=Object.create(e.prototype)).options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&s[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var a=n[i];this.addImage(a)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var o=r[i];this.addElementBackgroundImages(o)}}}};var s={1:!0,9:!0,11:!0};return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var a=i&&i[2];a&&this.addBackground(a,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new r(e,t);this.images.push(n)},a.prototype.check=function(){function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}var i=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(r.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((o=e).fn.ngimagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(o(this))})})(),a}),function(){var e="undefined"!=typeof module&&module.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,a=n.length,r={};i<a;i++)if((e=n[i])&&e[1]in document){for(i=0,t=e.length;i<t;i++)r[n[0][i]]=e[i];return r}return!1}(),t={request:function(e){var t=i.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:i};i?(Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[i.fullscreenEnabled]}}}),document.addEventListener(i.fullscreenchange,function(e){t.onchange.call(t,e)}),document.addEventListener(i.fullscreenerror,function(e){t.onerror.call(t,e)}),e?module.exports=t:window.ngscreenfull=t):e?module.exports=!1:window.ngscreenfull=!1}(),function(a){a.fn.jflickrfeed=function(u,t){var e=(u=a.extend(!0,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:!0,useTemplate:!0,itemTemplate:"",itemCallback:function(){}},u)).flickrbase+u.feedapi+"?",n=!0;for(var i in u.qstrings)n||(e+="&"),e+=i+"="+u.qstrings[i],n=!1;return a(this).each(function(){var l=a(this),s=this;a.getJSON(e,function(e){a.each(e.items,function(e,t){if(e<u.limit){if(u.cleanDescription){var n=/<p>(.*?)<\/p>/g,i=t.description;n.test(i)&&(t.description=i.match(n)[2],null!=t.description&&(t.description=t.description.replace("<p>","").replace("</p>","")))}if(t.image_s=t.media.m.replace("_m","_s"),t.image_t=t.media.m.replace("_m","_t"),t.image_m=t.media.m.replace("_m","_m"),t.image=t.media.m.replace("_m",""),t.image_b=t.media.m.replace("_m","_b"),delete t.media,u.useTemplate){var a=u.itemTemplate;for(var r in t){var o=new RegExp("{{"+r+"}}","g");a=a.replace(o,t[r])}l.append(a)}u.itemCallback.call(s,t)}}),a.isFunction(t)&&t.call(s,e)})})}}(jQuery),function(e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:e()}(function(){function s(e){return e[D]||(e[D]={})}function i(e,t,n,i){function a(e){n(e,i)}t=t.split(L);for(var r,o=s(e),l=t.length;l--;)(o[r=t[l]]||(o[r]=[])).push([n,a]),e.addEventListener(r,a)}function o(e,t,n){t=t.split(L);var i,a,r,o=s(e),l=t.length;if(o)for(;l--;)if(a=o[i=t[l]])for(r=a.length;r--;)a[r][0]===n&&(e.removeEventListener(i,a[r][1]),a.splice(r,1))}function f(e,t,n){var i=new CustomEvent(t,$);n&&I(i,n),e.dispatchEvent(i)}function t(e){function t(e){i?(n(),E(t),i=!(a=!0)):a=!1}var n=e,i=!1,a=!1;this.kick=function(e){i=!0,a||t()},this.end=function(e){var t=n;e&&(a?(n=i?function(){t(),e()}:e,i=!0):e())}}function p(){}function l(e){e.preventDefault()}function u(e,t){var n,i;if(e.identifiedTouch)return e.identifiedTouch(t);for(n=-1,i=e.length;++n<i;)if(e[n].identifier===t)return e[n]}function c(e,t){var n=u(e.changedTouches,t.identifier);if(n&&(n.pageX!==t.pageX||n.pageY!==t.pageY))return n}function n(e,t){h(e,t,e,r)}function a(e,t){r()}function r(){o(document,T.move,n),o(document,T.cancel,a)}function d(e){o(document,O.move,e.touchmove),o(document,O.cancel,e.touchend)}function h(e,t,n,i){var a,r,o,l,s,u,c,d,h,g=n.pageX-t.pageX,m=n.pageY-t.pageY;g*g+m*m<S*S||(r=t,o=n,l=g,s=m,u=i,c=(a=e).targetTouches,d=a.timeStamp-r.timeStamp,h={altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,startX:r.pageX,startY:r.pageY,distX:l,distY:s,deltaX:l,deltaY:s,pageX:o.pageX,pageY:o.pageY,velocityX:l/d,velocityY:s/d,identifier:r.identifier,targetTouches:c,finger:c?c.length:1,enableMove:function(){this.moveEnabled=!0,this.enableMove=p,a.preventDefault()}},f(r.target,"movestart",h),u(r))}function g(e,t){var n=t.timer;t.touch=e,t.timeStamp=e.timeStamp,n.kick()}function m(e,t){var n=t.target,i=t.event,a=t.timer;o(document,T.move,g),o(document,T.end,m),v(n,i,a,function(){setTimeout(function(){o(n,"click",l)},0)})}function b(e,t){var n,i=t.target,a=t.event,r=t.timer;u(e.changedTouches,a.identifier)&&(n=t,o(document,O.move,n.activeTouchmove),o(document,O.end,n.activeTouchend),v(i,a,r))}function v(e,t,n,i){n.end(function(){return f(e,"moveend",t),i&&i()})}function e(e){e.enableMove()}function y(e){e.enableMove()}function w(e){e.enableMove()}function x(e){var i=e.handler;e.handler=function(e){for(var t,n=j.length;n--;)e[t=j[n]]=e.originalEvent[t];i.apply(this,arguments)}}var I=Object.assign||window.jQuery&&jQuery.extend,S=8,E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)};function C(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(C.prototype=window.Event.prototype,window.CustomEvent=C);var k={textarea:!0,input:!0,select:!0,button:!0},T={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},O={move:"touchmove",cancel:"touchend",end:"touchend"},L=/\s+/,$={bubbles:!0,cancelable:!0},D="function"==typeof Symbol?Symbol("events"):{};if(i(document,"mousedown",function(e){var t;1!==(t=e).which||t.ctrlKey||t.altKey||(k[e.target.tagName.toLowerCase()]||(i(document,T.move,n,e),i(document,T.cancel,a,e)))}),i(document,"touchstart",function(e){if(!k[e.target.tagName.toLowerCase()]){var t=e.changedTouches[0],n={target:t.target,pageX:t.pageX,pageY:t.pageY,identifier:t.identifier,touchmove:function(e,t){var n,i,a;(a=c(n=e,i=t))&&h(n,i,a,d)},touchend:function(e,t){var n;n=t,u(e.changedTouches,n.identifier)&&d(n)}};i(document,O.move,n.touchmove,n),i(document,O.cancel,n.touchend,n)}}),i(document,"movestart",function(e){if(!e.defaultPrevented&&e.moveEnabled){var r={startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},o={target:e.target,event:r,timer:new t(function(e){var t,n,i,a;t=r,n=o.touch,i=o.timeStamp,a=i-t.timeStamp,t.distX=n.pageX-t.startX,t.distY=n.pageY-t.startY,t.deltaX=n.pageX-t.pageX,t.deltaY=n.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/a,t.velocityY=.3*t.velocityY+.7*t.deltaY/a,t.pageX=n.pageX,t.pageY=n.pageY,f(o.target,"move",r)}),touch:void 0,timeStamp:e.timeStamp};void 0===e.identifier?(i(e.target,"click",l),i(document,T.move,g,o),i(document,T.end,m,o)):(o.activeTouchmove=function(e,t){var n,i,a,r,o;n=e,a=(i=t).event,r=i.timer,(o=c(n,a))&&(n.preventDefault(),a.targetTouches=n.targetTouches,i.touch=o,i.timeStamp=n.timeStamp,r.kick())},o.activeTouchend=function(e,t){b(e,t)},i(document,O.move,o.activeTouchmove,o),i(document,O.end,o.activeTouchend,o))}}),window.jQuery){var j="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");jQuery.event.special.movestart={setup:function(){return i(this,"movestart",e),!1},teardown:function(){return o(this,"movestart",e),!1},add:x},jQuery.event.special.move={setup:function(){return i(this,"movestart",y),!1},teardown:function(){return o(this,"movestart",y),!1},add:x},jQuery.event.special.moveend={setup:function(){return i(this,"movestart",w),!1},teardown:function(){return o(this,"movestart",w),!1},add:x}}}),function(w){w.fn.twentytwenty=function(y){y=w.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},y);return this.each(function(){var t=y.default_offset_pct,o=w(this),l=y.orientation,e="vertical"===l?"down":"left",n="vertical"===l?"up":"right";o.wrap("<div class='twentytwenty-wrapper twentytwenty-"+l+"'></div>"),y.no_overlay||o.append("<div class='twentytwenty-overlay'></div>");var s=o.find("img:first"),u=o.find("img:last");o.append("<div class='twentytwenty-handle'></div>");var c=o.find(".twentytwenty-handle");c.append("<span class='twentytwenty-"+e+"-arrow'></span>"),c.append("<span class='twentytwenty-"+n+"-arrow'></span>"),o.addClass("twentytwenty-container"),s.addClass("twentytwenty-before"),u.addClass("twentytwenty-after");var i=o.find(".twentytwenty-overlay");i.append("<div class='twentytwenty-before-label' data-content='"+y.before_label+"'></div>"),i.append("<div class='twentytwenty-after-label' data-content='"+y.after_label+"'></div>");function a(e){var t,n,i,a,r=(t=e,n=s.width(),i=s.height(),{w:n+"px",h:i+"px",cw:t*n+"px",ch:t*i+"px"});c.css("vertical"===l?"top":"left","vertical"===l?r.ch:r.cw),a=r,"vertical"===l?(s.css("clip","rect(0,"+a.w+","+a.ch+",0)"),u.css("clip","rect("+a.ch+","+a.w+","+a.h+",0)")):(s.css("clip","rect(0,"+a.cw+","+a.h+",0)"),u.css("clip","rect(0,"+a.w+","+a.h+","+a.cw+")")),o.css("height",a.h)}function r(e,t){return n="vertical"===l?(t-f)/b:(e-m)/p,i=0,a=1,Math.max(i,Math.min(a,n));var n,i,a}w(window).on("resize.twentytwenty",function(e){a(t)});function d(e){((e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&"vertical"!==l||(e.distX<e.distY&&e.distX<-e.distY||e.distX>e.distY&&e.distX>-e.distY)&&"vertical"===l)&&e.preventDefault(),o.addClass("active"),m=o.offset().left,f=o.offset().top,p=s.width(),b=s.height()}function h(e){o.hasClass("active")&&(t=r(e.pageX,e.pageY),a(t))}function g(){o.removeClass("active")}var m=0,f=0,p=0,b=0,v=y.move_with_handle_only?c:o;v.on("movestart",d),v.on("move",h),v.on("moveend",g),y.move_slider_on_hover&&(o.on("mouseenter",d),o.on("mousemove",h),o.on("mouseleave",g)),c.on("touchmove",function(e){e.preventDefault()}),o.find("img").on("mousedown",function(e){e.preventDefault()}),y.click_to_move&&o.on("click",function(e){m=o.offset().left,f=o.offset().top,p=s.width(),b=s.height(),t=r(e.pageX,e.pageY),a(t)}),w(window).trigger("resize.twentytwenty")})}}(jQuery),function(y,w,x,I){y.xs_nav=function(i,t){var e={responsive:!0,mobileBreakpoint:767,showDuration:300,hideDuration:300,showDelayDuration:0,hideDelayDuration:0,submenuTrigger:"hover",effect:"fade",submenuIndicator:!0,submenuIndicatorTrigger:!1,hideSubWhenGoOut:!0,visibleSubmenusOnMobile:!1,overlay:!0,overlayColor:"rgba(0, 0, 0, 0.7)",hidden:!1,hiddenOnMobile:!1,offCanvasSide:"left",offCanvasCloseButton:!0,animationOnShow:"",animationOnHide:"",hideScrollBar:!0,onInit:function(){},onLandscape:function(){},onPortrait:function(){},onShowOffCanvas:function(){},onHideOffCanvas:function(){}},n=this,a=Number.MAX_VALUE,r=1,o="click.nav touchstart.nav",l="mouseenter focusin",s="mouseleave focusout";n.settings={};y(i),i=i;0<y(i).find(".nav-search").length&&y(i).find(".nav-search").find("form").prepend("<span class='nav-search-close-button' tabindex='0'>&#10005;</span>"),n.init=function(){n.settings=y.extend({},e,t),n.settings.offCanvasCloseButton&&y(i).find(".nav-menus-wrapper").prepend("<span class='nav-menus-wrapper-close-button'>&#10005;</span>"),"right"==n.settings.offCanvasSide&&y(i).find(".nav-menus-wrapper").addClass("nav-menus-wrapper-right"),n.settings.hidden&&(y(i).addClass("xs_nav-hidden"),n.settings.mobileBreakpoint=99999),c(),y(i).find(".nav-toggle").on("click touchstart",function(e){e.stopPropagation(),e.preventDefault(),n.showOffcanvas(),t!==I&&n.callback("onShowOffCanvas")}),y(i).find(".nav-menus-wrapper-close-button").on("click touchstart",function(){n.hideOffcanvas(),t!==I&&n.callback("onHideOffCanvas")}),y(i).find(".nav-search-button, .nav-search-close-button").on("click touchstart keydown",function(e){e.stopPropagation(),e.preventDefault();var t=e.keyCode||e.which;"click"===e.type||"touchstart"===e.type||"keydown"===e.type&&13==t?n.toggleSearch():9==t&&y(e.target).blur()}),y(w).resize(function(){n.initxs_navMode(m()),f(),n.settings.hiddenOnMobile&&d()}),n.initxs_navMode(m()),n.settings.hiddenOnMobile&&d(),n.settings.overlay&&y(i).append("<div class='nav-overlay-panel'></div>"),0<y(i).find(".megamenu-tabs").length&&p(),t!==I&&n.callback("onInit")};function u(){y(i).find(".nav-submenu").hide(0),y(i).find("li").removeClass("focus")}var c=function(){y(i).find("li").each(function(){0<y(this).children(".nav-dropdown,.megamenu-panel").length&&(y(this).children(".nav-dropdown,.megamenu-panel").addClass("nav-submenu"),n.settings.submenuIndicator&&y(this).children("a").append("<span class='submenu-indicator'><span class='submenu-indicator-chevron'></span></span>"))})},d=function(){y(i).hasClass("xs_nav-portrait")?y(i).addClass("xs_nav-hidden"):y(i).removeClass("xs_nav-hidden")};n.showSubmenu=function(e,t){m()>n.settings.mobileBreakpoint&&y(i).find(".nav-search").find("form").fadeOut(),"fade"==t?y(e).children(".nav-submenu").stop(!0,!0).delay(n.settings.showDelayDuration).fadeIn(n.settings.showDuration).removeClass(n.settings.animationOnHide).addClass(n.settings.animationOnShow):y(e).children(".nav-submenu").stop(!0,!0).delay(n.settings.showDelayDuration).slideDown(n.settings.showDuration).removeClass(n.settings.animationOnHide).addClass(n.settings.animationOnShow),y(e).addClass("focus")},n.hideSubmenu=function(e,t){"fade"==t?y(e).find(".nav-submenu").stop(!0,!0).delay(n.settings.hideDelayDuration).fadeOut(n.settings.hideDuration).removeClass(n.settings.animationOnShow).addClass(n.settings.animationOnHide):y(e).find(".nav-submenu").stop(!0,!0).delay(n.settings.hideDelayDuration).slideUp(n.settings.hideDuration).removeClass(n.settings.animationOnShow).addClass(n.settings.animationOnHide),y(e).removeClass("focus").find(".focus").removeClass("focus")};function h(){n.settings.hideScrollBar&&y("body").removeClass("no-scroll"),n.settings.overlay&&y(i).find(".nav-overlay-panel").fadeOut(400)}n.showOffcanvas=function(){n.settings.hideScrollBar&&y("body").addClass("no-scroll"),n.settings.overlay&&y(i).find(".nav-overlay-panel").css("background-color",n.settings.overlayColor).fadeIn(300).on("click touchstart",function(){n.hideOffcanvas()}),"left"==n.settings.offCanvasSide?y(i).find(".nav-menus-wrapper").css("transition-property","left").addClass("nav-menus-wrapper-open"):y(i).find(".nav-menus-wrapper").css("transition-property","right").addClass("nav-menus-wrapper-open")},n.hideOffcanvas=function(){y(i).find(".nav-menus-wrapper").removeClass("nav-menus-wrapper-open").on("webkitTransitionEnd moztransitionend transitionend oTransitionEnd",function(){y(i).find(".nav-menus-wrapper").css("transition-property","none").off()}),h()},n.toggleOffcanvas=function(){m()<=n.settings.mobileBreakpoint&&(y(i).find(".nav-menus-wrapper").hasClass("nav-menus-wrapper-open")?(n.hideOffcanvas(),t!==I&&n.callback("onHideOffCanvas")):(n.showOffcanvas(),t!==I&&n.callback("onShowOffCanvas")))},n.toggleSearch=function(){"none"==y(i).find(".nav-search").find("form").css("display")?(y(i).find(".nav-search").find("form").fadeIn(200),y(i).find(".nav-search").find("input").focus()):(y(i).find(".nav-search").find("form").fadeOut(200),y(i).find(".nav-search").find("input").blur())},n.initxs_navMode=function(e){n.settings.responsive?(e<=n.settings.mobileBreakpoint&&a>n.settings.mobileBreakpoint&&(y(i).addClass("xs_nav-portrait").removeClass("xs_nav-landscape"),v(),t!==I&&n.callback("onPortrait")),e>n.settings.mobileBreakpoint&&r<=n.settings.mobileBreakpoint&&(y(i).addClass("xs_nav-landscape").removeClass("xs_nav-portrait"),b(),h(),n.hideOffcanvas(),t!==I&&n.callback("onLandscape")),r=a=e):(y(i).addClass("xs_nav-landscape"),b(),t!==I&&n.callback("onLandscape"))};function g(e){"landscape"==e?y(i).find(".nav-menu").find("li, a").off(o):y(i).find(".nav-menu").find("li, a").off(l).off(s)}var m=function(){return w.innerWidth||x.documentElement.clientWidth||x.body.clientWidth},f=function(){if(m()>n.settings.mobileBreakpoint){var e=y(i).outerWidth();y(i).find(".nav-menu").children("li").children(".nav-submenu").each(function(){y(this).parent().position().left+y(this).outerWidth()>e?y(this).css("right",0):y(this).css("right","auto")})}},p=function(){function e(e){var t=y(e).children(".megamenu-tabs-nav").children("li"),n=y(e).children(".megamenu-tabs-pane");y(t).on("mouseenter.tabs click.tabs touchstart.tabs",function(e){e.stopPropagation(),e.preventDefault(),y(t).removeClass("active"),y(this).addClass("active"),y(n).hide(0).removeClass("active"),y(n[y(this).index()]).show(0).addClass("active")})}if(0<y(i).find(".megamenu-tabs").length)for(var t=y(i).find(".megamenu-tabs"),n=0;n<t.length;n++)e(t[n])},b=function(){g("landscape"),u(),navigator.userAgent.match(/Mobi/i)||0<navigator.maxTouchPoints||"click"==n.settings.submenuTrigger?y(i).find(".nav-menu, .nav-dropdown").children("li").children("a").on(o,function(e){if(n.hideSubmenu(y(this).parent("li").siblings("li"),n.settings.effect),y(this).closest(".nav-menu").siblings(".nav-menu").find(".nav-submenu").fadeOut(n.settings.hideDuration),0<y(this).siblings(".nav-submenu").length){if(e.stopPropagation(),e.preventDefault(),"none"==y(this).siblings(".nav-submenu").css("display"))return n.showSubmenu(y(this).parent("li"),n.settings.effect),f(),!1;if(n.hideSubmenu(y(this).parent("li"),n.settings.effect),"_blank"===y(this).attr("target")||"blank"===y(this).attr("target"))w.open(y(this).attr("href"));else{if("#"===y(this).attr("href")||""===y(this).attr("href")||"javascript:void(0)"===y(this).attr("href"))return!1;w.location.href=y(this).attr("href")}}}):y(i).find(".nav-menu").find("li").on(l,function(){n.showSubmenu(this,n.settings.effect),f()}).on(s,function(){n.hideSubmenu(this,n.settings.effect)}),n.settings.hideSubWhenGoOut&&y("html").on("click.body touchstart.body",function(e){0===y(e.target).closest(".xs_nav").length&&(y(i).find(".nav-submenu").fadeOut(),y(i).find(".focus").removeClass("focus"),y(i).find(".nav-search").find("form").fadeOut())})},v=function(){g("portrait"),u(),n.settings.visibleSubmenusOnMobile?y(i).find(".nav-submenu").show(0):(y(i).find(".submenu-indicator").removeClass("submenu-indicator-up"),n.settings.submenuIndicator&&n.settings.submenuIndicatorTrigger?y(i).find(".submenu-indicator").on(o,function(e){return e.stopPropagation(),e.preventDefault(),n.hideSubmenu(y(this).parent("a").parent("li").siblings("li"),"slide"),n.hideSubmenu(y(this).closest(".nav-menu").siblings(".nav-menu").children("li"),"slide"),"none"==y(this).parent("a").siblings(".nav-submenu").css("display")?(y(this).addClass("submenu-indicator-up"),y(this).parent("a").parent("li").siblings("li").find(".submenu-indicator").removeClass("submenu-indicator-up"),y(this).closest(".nav-menu").siblings(".nav-menu").find(".submenu-indicator").removeClass("submenu-indicator-up"),n.showSubmenu(y(this).parent("a").parent("li"),"slide"),!1):(y(this).parent("a").parent("li").find(".submenu-indicator").removeClass("submenu-indicator-up"),void n.hideSubmenu(y(this).parent("a").parent("li"),"slide"))}):y(i).find(".nav-menu, .nav-dropdown").children("li").children("a").each(function(){0<y(this).siblings(".nav-submenu").length&&y(this).on(o,function(e){if(e.stopPropagation(),e.preventDefault(),n.hideSubmenu(y(this).parent("li").siblings("li"),n.settings.effect),n.hideSubmenu(y(this).closest(".nav-menu").siblings(".nav-menu").children("li"),"slide"),"none"==y(this).siblings(".nav-submenu").css("display"))return y(this).children(".submenu-indicator").addClass("submenu-indicator-up"),y(this).parent("li").siblings("li").find(".submenu-indicator").removeClass("submenu-indicator-up"),y(this).closest(".nav-menu").siblings(".nav-menu").find(".submenu-indicator").removeClass("submenu-indicator-up"),n.showSubmenu(y(this).parent("li"),"slide"),!1;if(y(this).parent("li").find(".submenu-indicator").removeClass("submenu-indicator-up"),n.hideSubmenu(y(this).parent("li"),"slide"),"_blank"===y(this).attr("target")||"blank"===y(this).attr("target"))w.open(y(this).attr("href"));else{if("#"===y(this).attr("href")||""===y(this).attr("href")||"javascript:void(0)"===y(this).attr("href"))return!1;w.location.href=y(this).attr("href")}})}))};n.callback=function(e){t[e]!==I&&t[e].call(i)},n.init()},y.fn.xs_nav=function(t){return this.each(function(){if(I===y(this).data("xs_nav")){var e=new y.xs_nav(this,t);y(this).data("xs_nav",e)}})}}(jQuery,window,document),function(t){function l(e){var t=e.length,n=c.type(e);return"function"!==n&&!c.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}if(!t.jQuery){var c=function e(t,n){return new e.fn.init(t,n)};c.isWindow=function(e){return null!=e&&e==e.window},c.type=function(e){return null==e?e+"":"object"==(void 0===e?"undefined":_typeof2(e))||"function"==typeof e?n[a.call(e)]||"object":void 0===e?"undefined":_typeof2(e)},c.isArray=Array.isArray||function(e){return"array"===c.type(e)},c.isPlainObject=function(e){var t;if(!e||"object"!==c.type(e)||e.nodeType||c.isWindow(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||i.call(e,t)},c.each=function(e,t,n){var i=0,a=e.length,r=l(e);if(n){if(r)for(;i<a&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<a&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},c.data=function(e,t,n){if(void 0===n){var i=(a=e[c.expando])&&r[a];if(void 0===t)return i;if(i&&t in i)return i[t]}else if(void 0!==t){var a=e[c.expando]||(e[c.expando]=++c.uuid);return r[a]=r[a]||{},r[a][t]=n}},c.removeData=function(e,t){var n=e[c.expando],i=n&&r[n];i&&c.each(t,function(e,t){delete i[t]})},c.extend=function(){var e,t,n,i,a,r,o=arguments[0]||{},l=1,s=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[l]||{},l++),"object"!=(void 0===o?"undefined":_typeof2(o))&&"function"!==c.type(o)&&(o={}),l===s&&(o=this,l--);l<s;l++)if(null!=(a=arguments[l]))for(i in a)e=o[i],o!==(n=a[i])&&(u&&n&&(c.isPlainObject(n)||(t=c.isArray(n)))?(r=t?(t=!1,e&&c.isArray(e)?e:[]):e&&c.isPlainObject(e)?e:{},o[i]=c.extend(u,r,n)):void 0!==n&&(o[i]=n));return o},c.queue=function(e,t,n){if(e){t=(t||"fx")+"queue";var i=c.data(e,t);return n?(!i||c.isArray(n)?i=c.data(e,t,(o=r||[],null!=(a=n)&&(l(Object(a))?function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;)e[a++]=t[i++];if(n!=n)for(;void 0!==t[i];)e[a++]=t[i++];e.length=a}(o,"string"==typeof a?[a]:a):[].push.call(o,a)),o)):i.push(n),i):i||[]}var a,r,o},c.dequeue=function(e,a){c.each(e.nodeType?[e]:e,function(e,t){a=a||"fx";var n=c.queue(t,a),i=n.shift();"inprogress"===i&&(i=n.shift()),i&&("fx"===a&&n.unshift("inprogress"),i.call(t,function(){c.dequeue(t,a)}))})},c.fn=c.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),n=this.offset(),i=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:c(e).offset();return n.top-=parseFloat(t.style.marginTop)||0,n.left-=parseFloat(t.style.marginLeft)||0,e.style&&(i.top+=parseFloat(e.style.borderTopWidth)||0,i.left+=parseFloat(e.style.borderLeftWidth)||0),{top:n.top-i.top,left:n.left-i.left}}};var r={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var n={},i=n.hasOwnProperty,a=n.toString,e="Boolean Number String Function Array Date RegExp Object Error".split(" "),o=0;o<e.length;o++)n["[object "+e[o]+"]"]=e[o].toLowerCase();c.fn.init.prototype=c.fn,t.Velocity={Utilities:c}}}(window),function(e){"object"==("undefined"==typeof module?"undefined":_typeof2(module))&&"object"==_typeof2(module.exports)?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,B,_,A){function p(e){return V.isWrapped(e)?e=[].slice.call(e):V.isNode(e)&&(e=[e]),e}function N(e){var t=W.data(e,"velocity");return null===t?A:t}function i(o,t,l,n){function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function r(e){return 3*e}function s(e,t,n){return((i(t,n)*e+a(t,n))*e+r(t))*e}function u(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+r(t)}function c(e){for(var t=0,n=1,i=f-1;n!=i&&y[n]<=e;++n)t+=p;var a=t+(e-y[--n])/(y[n+1]-y[n])*p,r=u(a,o,l);return.001<=r?function(e,t){for(var n=0;n<h;++n){var i=u(t,o,l);if(0===i)return t;t-=(s(t,o,l)-e)/i}return t}(e,a):0==r?a:function(e,t,n){for(var i,a,r=0;0<(i=s(a=t+(n-t)/2,o,l)-e)?n=a:t=a,Math.abs(i)>g&&++r<m;);return a}(e,t,t+p)}function d(){w=!0,o==t&&l==n||function(){for(var e=0;e<f;++e)y[e]=s(e*p,o,l)}()}var h=4,g=1e-7,m=10,f=11,p=1/(f-1),e="Float32Array"in B;if(4!==arguments.length)return!1;for(var b=0;b<4;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;o=Math.min(o,1),l=Math.min(l,1),o=Math.max(o,0),l=Math.max(l,0);function v(e){return w||d(),o===t&&l===n?e:0===e?0:1===e?1:s(c(e),t,n)}var y=new(e?Float32Array:Array)(f),w=!1;v.getControlPoints=function(){return[{x:o,y:t},{x:l,y:n}]};var x="generateBezier("+[o,t,l,n]+")";return v.toString=function(){return x},v}function G(e,t){var n=e;return V.isString(e)?R.Easings[e]||(n=!1):n=V.isArray(e)&&1===e.length?function(t){return function(e){return Math.round(e*t)*(1/t)}}.apply(null,e):V.isArray(e)&&2===e.length?o.apply(null,e.concat([t])):!(!V.isArray(e)||4!==e.length)&&i.apply(null,e),!1===n&&(n=R.Easings[R.defaults.easing]?R.defaults.easing:r),n}function M(e){if(e){var t=(new Date).getTime(),n=R.State.calls.length;1e4<n&&(R.State.calls=function(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var a=e[t];a&&i.push(a)}return i}(R.State.calls));for(var i=0;i<n;i++)if(R.State.calls[i]){var a=R.State.calls[i],r=a[0],o=a[2],l=a[3],s=!!l,u=null;l=l||(R.State.calls[i][3]=t-16);for(var c=Math.min((t-l)/o.duration,1),d=0,h=r.length;d<h;d++){var g=r[d],m=g.element;if(N(m)){var f=!1;if(o.display!==A&&null!==o.display&&"none"!==o.display){if("flex"===o.display){W.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(e,t){z.setPropertyValue(m,"display",t)})}z.setPropertyValue(m,"display",o.display)}for(var p in o.visibility!==A&&"hidden"!==o.visibility&&z.setPropertyValue(m,"visibility",o.visibility),g)if("element"!==p){var b,v=g[p],y=V.isString(v.easing)?R.Easings[v.easing]:v.easing;if(1===c)b=v.endValue;else{var w=v.endValue-v.startValue;if(b=v.startValue+w*y(c,o,w),!s&&b===v.currentValue)continue}if(v.currentValue=b,"tween"===p)u=b;else{if(z.Hooks.registered[p]){var x=z.Hooks.getRoot(p),I=N(m).rootPropertyValueCache[x];I&&(v.rootPropertyValue=I)}var S=z.setPropertyValue(m,p,v.currentValue+(0===parseFloat(b)?"":v.unitType),v.rootPropertyValue,v.scrollData);z.Hooks.registered[p]&&(N(m).rootPropertyValueCache[x]=z.Normalizations.registered[x]?z.Normalizations.registered[x]("extract",null,S[1]):S[1]),"transform"===S[0]&&(f=!0)}}o.mobileHA&&N(m).transformCache.translate3d===A&&(N(m).transformCache.translate3d="(0px, 0px, 0px)",f=!0),f&&z.flushTransformCache(m)}}o.display!==A&&"none"!==o.display&&(R.State.calls[i][2].display=!1),o.visibility!==A&&"hidden"!==o.visibility&&(R.State.calls[i][2].visibility=!1),o.progress&&o.progress.call(a[1],a[1],c,Math.max(0,l+o.duration-t),l,u),1===c&&E(i)}}R.State.isTicking&&C(M)}function E(e,t){if(R.State.calls[e]){for(var n=R.State.calls[e][0],i=R.State.calls[e][1],a=R.State.calls[e][2],r=R.State.calls[e][4],o=!1,l=0,s=n.length;l<s;l++){var u=n[l].element;if(t||a.loop||("none"===a.display&&z.setPropertyValue(u,"display",a.display),"hidden"===a.visibility&&z.setPropertyValue(u,"visibility",a.visibility)),!0!==a.loop&&(W.queue(u)[1]===A||!/\.velocityQueueEntryFlag/i.test(W.queue(u)[1]))&&N(u)){N(u).isAnimating=!1;var c=!(N(u).rootPropertyValueCache={});W.each(z.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,i=N(u).transformCache[t];N(u).transformCache[t]!==A&&new RegExp("^\\("+n+"[^.]").test(i)&&(c=!0,delete N(u).transformCache[t])}),a.mobileHA&&(c=!0,delete N(u).transformCache.translate3d),c&&z.flushTransformCache(u),z.Values.removeClass(u,"velocity-animating")}if(!t&&a.complete&&!a.loop&&l===s-1)try{a.complete.call(i,i)}catch(e){setTimeout(function(){throw e},1)}r&&!0!==a.loop&&r(i),N(u)&&!0===a.loop&&!t&&(W.each(N(u).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),R(u,"reverse",{loop:!0,delay:a.delay})),!1!==a.queue&&W.dequeue(u,a.queue)}R.State.calls[e]=!1;for(var d=0,h=R.State.calls.length;d<h;d++)if(!1!==R.State.calls[d]){o=!0;break}!1===o&&(R.State.isTicking=!1,delete R.State.calls,R.State.calls=[])}}var W,a,d=function(){if(_.documentMode)return _.documentMode;for(var e=7;4<e;e--){var t=_.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return A}(),t=(a=0,B.webkitRequestAnimationFrame||B.mozRequestAnimationFrame||function(e){var t,n=(new Date).getTime();return t=Math.max(0,16-(n-a)),a=n+t,setTimeout(function(){e(n+t)},t)}),V={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==(void 0===e?"undefined":_typeof2(e))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==A&&(0===e.length||"object"==_typeof2(e[0])&&0<e[0].nodeType)},isWrapped:function(e){return e&&(e.jquery||B.Zepto&&B.Zepto.zepto.isZ(e))},isSVG:function(e){return B.SVGElement&&e instanceof B.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},n=!1;if(e.fn&&e.fn.jquery?(W=e,n=!0):W=B.Velocity.Utilities,d<=8&&!n)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(d<=7)){var r="swing",R={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:B.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:_.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:W,Redirects:{},Easings:{},Promise:B.Promise,defaults:{queue:"",duration:400,easing:r,begin:A,complete:A,progress:A,display:A,visibility:A,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){W.data(e,"velocity",{isSVG:V.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};B.pageYOffset!==A?(R.State.scrollAnchor=B,R.State.scrollPropertyLeft="pageXOffset",R.State.scrollPropertyTop="pageYOffset"):(R.State.scrollAnchor=_.documentElement||_.body.parentNode||_.body,R.State.scrollPropertyLeft="scrollLeft",R.State.scrollPropertyTop="scrollTop");var o=function e(t,n,i){var a,r,o,l,s,u,c,d,h,g,m,f={x:-1,v:0,tension:null,friction:null},p=[0],b=0;for(t=parseFloat(t)||500,n=parseFloat(n)||20,i=i||null,f.tension=t,f.friction=n,r=(a=null!==i)?(b=e(t,n))/i*.016:.016;s=r,u={dx:(l=o||f).v,dv:v(l)},c=y(l,.5*s,u),d=y(l,.5*s,c),h=y(l,s,d),g=1/6*(u.dx+2*(c.dx+d.dx)+h.dx),m=1/6*(u.dv+2*(c.dv+d.dv)+h.dv),l.x=l.x+g*s,l.v=l.v+m*s,o=l,p.push(1+o.x),b+=16,1e-4<Math.abs(o.x)&&1e-4<Math.abs(o.v););return a?function(e){return p[e*(p.length-1)|0]}:b};R.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},W.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){R.Easings[t[0]]=i.apply(null,t[1])});var z=R.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<z.Lists.colors.length;e++){var t="color"===z.Lists.colors[e]?"0 0 0 1":"255 255 255 1";z.Hooks.templates[z.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,a;if(d)for(n in z.Hooks.templates){a=(i=z.Hooks.templates[n])[0].split(" ");var r=i[1].match(z.RegEx.valueSplit);"Color"===a[0]&&(a.push(a.shift()),r.push(r.shift()),z.Hooks.templates[n]=[a.join(" "),r.join(" ")])}for(n in z.Hooks.templates)for(var e in a=(i=z.Hooks.templates[n])[0].split(" ")){var o=n+a[e],l=e;z.Hooks.registered[o]=[n,l]}},getRoot:function(e){var t=z.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return z.RegEx.valueUnwrap.test(t)&&(t=t.match(z.RegEx.valueUnwrap)[1]),z.Values.isCSSNullValue(t)&&(t=z.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=z.Hooks.registered[e];if(n){var i=n[0],a=n[1];return(t=z.Hooks.cleanRootPropertyValue(i,t)).toString().match(z.RegEx.valueSplit)[a]}return t},injectValue:function(e,t,n){var i=z.Hooks.registered[e];if(i){var a,r=i[0],o=i[1];return(a=(n=z.Hooks.cleanRootPropertyValue(r,n)).toString().match(z.RegEx.valueSplit))[o]=t,a.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return i=z.RegEx.wrappedValueAlreadyExtracted.test(n)?n:(i=n.toString().match(z.RegEx.valueUnwrap))?i[1].replace(/,(\s+)?/g," "):n;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return R.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var a=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=a?a[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(d<=8)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return i?i[1]/100:1;case"inject":return(t.style.zoom=1)<=parseFloat(n)?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){d<=9||R.State.isGingerbread||(z.Lists.transformsBase=z.Lists.transformsBase.concat(z.Lists.transforms3D));for(var e=0;e<z.Lists.transformsBase.length;e++)!function(){var a=z.Lists.transformsBase[e];z.Normalizations.registered[a]=function(e,t,n){switch(e){case"name":return"transform";case"extract":return N(t)===A||N(t).transformCache[a]===A?/^scale/i.test(a)?1:0:N(t).transformCache[a].replace(/[()]/g,"");case"inject":var i=!1;switch(a.substr(0,a.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(n);break;case"scal":case"scale":R.State.isAndroid&&N(t).transformCache[a]===A&&n<1&&(n=1),i=!/(\d)$/i.test(n);break;case"skew":i=!/(deg|\d)$/i.test(n);break;case"rotate":i=!/(deg|\d)$/i.test(n)}return i||(N(t).transformCache[a]="("+n+")"),N(t).transformCache[a]}}}();for(e=0;e<z.Lists.colors.length;e++)!function(){var o=z.Lists.colors[e];z.Normalizations.registered[o]=function(e,t,n){switch(e){case"name":return o;case"extract":var i;if(z.RegEx.wrappedValueAlreadyExtracted.test(n))i=n;else{var a,r={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(n)?a=r[n]!==A?r[n]:r.black:z.RegEx.isHex.test(n)?a="rgb("+z.Values.hexToRgb(n).join(" ")+")":/^rgba?\(/i.test(n)||(a=r.black),i=(a||n).toString().match(z.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return d<=8||3!==i.split(" ").length||(i+=" 1"),i;case"inject":return d<=8?4===n.split(" ").length&&(n=n.split(/\s+/).slice(0,3).join(" ")):3===n.split(" ").length&&(n+=" 1"),(d<=8?"rgb":"rgba")+"("+n.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||R.State.isAndroid&&!R.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(R.State.prefixMatches[e])return[R.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;n<i;n++){var a;if(a=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),V.isString(R.State.prefixElement.style[a]))return[R.State.prefixMatches[e]=a,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,t,n,u){function c(e,t){function n(){r&&z.setPropertyValue(e,"display","none")}var i=0;if(d<=8)i=W.css(e,t);else{var a,r=!1;if(/^(width|height)$/.test(t)&&0===z.getPropertyValue(e,"display")&&(r=!0,z.setPropertyValue(e,"display",z.Values.getDisplayType(e))),!u){if("height"===t&&"border-box"!==z.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var o=e.offsetHeight-(parseFloat(z.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(z.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(z.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(z.getPropertyValue(e,"paddingBottom"))||0);return n(),o}if("width"===t&&"border-box"!==z.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var l=e.offsetWidth-(parseFloat(z.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(z.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(z.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(z.getPropertyValue(e,"paddingRight"))||0);return n(),l}}a=N(e)===A?B.getComputedStyle(e,null):N(e).computedStyle?N(e).computedStyle:N(e).computedStyle=B.getComputedStyle(e,null),"borderColor"===t&&(t="borderTopColor"),""!==(i=9===d&&"filter"===t?a.getPropertyValue(t):a[t])&&null!==i||(i=e.style[t]),n()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(t)){var s=c(e,"position");("fixed"===s||"absolute"===s&&/top|left/i.test(t))&&(i=W(e).position()[t]+"px")}return i}var i;if(z.Hooks.registered[t]){var a=t,r=z.Hooks.getRoot(a);n===A&&(n=z.getPropertyValue(e,z.Names.prefixCheck(r)[0])),z.Normalizations.registered[r]&&(n=z.Normalizations.registered[r]("extract",e,n)),i=z.Hooks.extractValue(a,n)}else if(z.Normalizations.registered[t]){var o,l;"transform"!==(o=z.Normalizations.registered[t]("name",e))&&(l=c(e,z.Names.prefixCheck(o)[0]),z.Values.isCSSNullValue(l)&&z.Hooks.templates[t]&&(l=z.Hooks.templates[t][1])),i=z.Normalizations.registered[t]("extract",e,l)}if(!/^[\d-]/.test(i))if(N(e)&&N(e).isSVG&&z.Names.SVGAttribute(t))if(/^(height|width)$/i.test(t))try{i=e.getBBox()[t]}catch(e){i=0}else i=e.getAttribute(t);else i=c(e,z.Names.prefixCheck(t)[0]);return z.Values.isCSSNullValue(i)&&(i=0),2<=R.debug&&console.log("Get "+t+": "+i),i},setPropertyValue:function(e,t,n,i,a){var r=t;if("scroll"===t)a.container?a.container["scroll"+a.direction]=n:"Left"===a.direction?B.scrollTo(n,a.alternateValue):B.scrollTo(a.alternateValue,n);else if(z.Normalizations.registered[t]&&"transform"===z.Normalizations.registered[t]("name",e))z.Normalizations.registered[t]("inject",e,n),r="transform",n=N(e).transformCache[t];else{if(z.Hooks.registered[t]){var o=t,l=z.Hooks.getRoot(t);i=i||z.getPropertyValue(e,l),n=z.Hooks.injectValue(o,n,i),t=l}if(z.Normalizations.registered[t]&&(n=z.Normalizations.registered[t]("inject",e,n),t=z.Normalizations.registered[t]("name",e)),r=z.Names.prefixCheck(t)[0],d<=8)try{e.style[r]=n}catch(e){R.debug&&console.log("Browser does not support ["+n+"] for ["+r+"]")}else N(e)&&N(e).isSVG&&z.Names.SVGAttribute(t)?e.setAttribute(t,n):e.style[r]=n;2<=R.debug&&console.log("Set "+t+" ("+r+"): "+n)}return[r,n]},flushTransformCache:function(t){function e(e){return parseFloat(z.getPropertyValue(t,e))}var n="";if((d||R.State.isAndroid&&!R.State.isChrome)&&N(t).isSVG){var i={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};W.each(N(t).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(n+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var a,r;W.each(N(t).transformCache,function(e){return a=N(t).transformCache[e],"transformPerspective"===e?(r=a,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(n+=e+a+" "))}),r&&(n="perspective"+r+" "+n)}z.setPropertyValue(t,"transform",n)}};z.Hooks.register(),z.Normalizations.register(),R.hook=function(e,i,a){var r=A;return e=p(e),W.each(e,function(e,t){if(N(t)===A&&R.init(t),a===A)r===A&&(r=R.CSS.getPropertyValue(t,i));else{var n=R.CSS.setPropertyValue(t,i,a);"transform"===n[0]&&R.CSS.flushTransformCache(t),r=n}}),r};var l=function e(t){function n(){return i?P.promise||null:a}var i,a,r,T,O,L,o=t&&(t.p||W.isPlainObject(t.properties)&&!t.properties.names||V.isString(t.properties));if(V.isWrapped(this)?(i=!1,r=0,a=T=this):(i=!0,r=1,T=o?t.elements||t.e:t),T=p(T)){L=o?(O=t.properties||t.p,t.options||t.o):(O=arguments[r],arguments[r+1]);var $=T.length,D=0;if(!/^(stop|finish|finishAll)$/i.test(O)&&!W.isPlainObject(L)){L={};for(var l=r+1;l<arguments.length;l++)V.isArray(arguments[l])||!/^(fast|normal|slow)$/i.test(arguments[l])&&!/^\d/.test(arguments[l])?V.isString(arguments[l])||V.isArray(arguments[l])?L.easing=arguments[l]:V.isFunction(arguments[l])&&(L.complete=arguments[l]):L.duration=arguments[l]}var j,P={promise:null,resolver:null,rejecter:null};switch(i&&R.Promise&&(P.promise=new R.Promise(function(e,t){P.resolver=e,P.rejecter=t})),O){case"scroll":j="scroll";break;case"reverse":j="reverse";break;case"finish":case"finishAll":case"stop":W.each(T,function(e,t){N(t)&&N(t).delayTimer&&(clearTimeout(N(t).delayTimer.setTimeout),N(t).delayTimer.next&&N(t).delayTimer.next(),delete N(t).delayTimer),"finishAll"!==O||!0!==L&&!V.isString(L)||(W.each(W.queue(t,V.isString(L)?L:""),function(e,t){V.isFunction(t)&&t()}),W.queue(t,V.isString(L)?L:"",[]))});var s=[];return W.each(R.State.calls,function(a,r){r&&W.each(r[1],function(e,n){var i=L===A?"":L;return!0!==i&&r[2].queue!==i&&(L!==A||!1!==r[2].queue)||void W.each(T,function(e,t){t===n&&(!0!==L&&!V.isString(L)||(W.each(W.queue(t,V.isString(L)?L:""),function(e,t){V.isFunction(t)&&t(null,!0)}),W.queue(t,V.isString(L)?L:"",[])),"stop"===O?(N(t)&&N(t).tweensContainer&&!1!==i&&W.each(N(t).tweensContainer,function(e,t){t.endValue=t.currentValue}),s.push(a)):"finish"!==O&&"finishAll"!==O||(r[2].duration=1))})})}),"stop"===O&&(W.each(s,function(e,t){E(t,!0)}),P.promise&&P.resolver(T)),n();default:if(!W.isPlainObject(O)||V.isEmptyObject(O)){if(V.isString(O)&&R.Redirects[O]){var u=(g=W.extend({},L)).duration,c=g.delay||0;return!0===g.backwards&&(T=W.extend(!0,[],T).reverse()),W.each(T,function(e,t){parseFloat(g.stagger)?g.delay=c+parseFloat(g.stagger)*e:V.isFunction(g.stagger)&&(g.delay=c+g.stagger.call(t,e,$)),g.drag&&(g.duration=parseFloat(u)||(/^(callout|transition)/.test(O)?1e3:400),g.duration=Math.max(g.duration*(g.backwards?1-e/$:(e+1)/$),.75*g.duration,200)),R.Redirects[O].call(t,t,g||{},e,$,T,P.promise?P:A)}),n()}var d="Velocity: First argument ("+O+") was not a property map, a known action, or a registered redirect. Aborting.";return P.promise?P.rejecter(new Error(d)):console.log(d),n()}j="start"}var h,g,H={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F=[];if(W.each(T,function(e,t){V.isNode(t)&&function(){function n(){function d(e,t){var n=A,i=A,a=A;return V.isArray(e)?(n=e[0],!V.isArray(e[1])&&/^[\d-]/.test(e[1])||V.isFunction(e[1])||z.RegEx.isHex.test(e[1])?a=e[1]:(V.isString(e[1])&&!z.RegEx.isHex.test(e[1])||V.isArray(e[1]))&&(i=t?e[1]:G(e[1],C.duration),e[2]!==A&&(a=e[2]))):n=e,t||(i=i||C.easing),V.isFunction(n)&&(n=n.call(E,D,$)),V.isFunction(a)&&(a=a.call(E,D,$)),[n||0,i,a]}function e(e,t){var n;return[(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n=n||z.Values.getUnitType(e)]}function t(){var e={myParent:E.parentNode||_.body,position:z.getPropertyValue(E,"position"),fontSize:z.getPropertyValue(E,"fontSize")},t=e.position===H.lastPosition&&e.myParent===H.lastParent,n=e.fontSize===H.lastFontSize;H.lastParent=e.myParent,H.lastPosition=e.position,H.lastFontSize=e.fontSize;var i={};if(n&&t)i.emToPx=H.lastEmToPx,i.percentToPxWidth=H.lastPercentToPxWidth,i.percentToPxHeight=H.lastPercentToPxHeight;else{var a=N(E).isSVG?_.createElementNS("http://www.w3.org/2000/svg","rect"):_.createElement("div");R.init(a),e.myParent.appendChild(a),W.each(["overflow","overflowX","overflowY"],function(e,t){R.CSS.setPropertyValue(a,t,"hidden")}),R.CSS.setPropertyValue(a,"position",e.position),R.CSS.setPropertyValue(a,"fontSize",e.fontSize),R.CSS.setPropertyValue(a,"boxSizing","content-box"),W.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){R.CSS.setPropertyValue(a,t,"100%")}),R.CSS.setPropertyValue(a,"paddingLeft","100em"),i.percentToPxWidth=H.lastPercentToPxWidth=(parseFloat(z.getPropertyValue(a,"width",null,!0))||1)/100,i.percentToPxHeight=H.lastPercentToPxHeight=(parseFloat(z.getPropertyValue(a,"height",null,!0))||1)/100,i.emToPx=H.lastEmToPx=(parseFloat(z.getPropertyValue(a,"paddingLeft"))||1)/100,e.myParent.removeChild(a)}return null===H.remToPx&&(H.remToPx=parseFloat(z.getPropertyValue(_.body,"fontSize"))||16),null===H.vwToPx&&(H.vwToPx=parseFloat(B.innerWidth)/100,H.vhToPx=parseFloat(B.innerHeight)/100),i.remToPx=H.remToPx,i.vwToPx=H.vwToPx,i.vhToPx=H.vhToPx,1<=R.debug&&console.log("Unit ratios: "+JSON.stringify(i),E),i}if(C.begin&&0===D)try{C.begin.call(T,T)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===j){var n,i,a,r=/^x$/i.test(C.axis)?"Left":"Top",o=parseFloat(C.offset)||0;C.container?V.isWrapped(C.container)||V.isNode(C.container)?(C.container=C.container[0]||C.container,a=(n=C.container["scroll"+r])+W(E).position()[r.toLowerCase()]+o):C.container=null:(n=R.State.scrollAnchor[R.State["scrollProperty"+r]],i=R.State.scrollAnchor[R.State["scrollProperty"+("Left"===r?"Top":"Left")]],a=W(E).offset()[r.toLowerCase()]+o),k={scroll:{rootPropertyValue:!1,startValue:n,currentValue:n,endValue:a,unitType:"",easing:C.easing,scrollData:{container:C.container,direction:r,alternateValue:i}},element:E},R.debug&&console.log("tweensContainer (scroll): ",k.scroll,E)}else if("reverse"===j){if(!N(E).tweensContainer)return void W.dequeue(E,C.queue);"none"===N(E).opts.display&&(N(E).opts.display="auto"),"hidden"===N(E).opts.visibility&&(N(E).opts.visibility="visible"),N(E).opts.loop=!1,N(E).opts.begin=null,N(E).opts.complete=null,L.easing||delete C.easing,L.duration||delete C.duration,C=W.extend({},N(E).opts,C);var l=W.extend(!0,{},N(E).tweensContainer);for(var s in l)if("element"!==s){var u=l[s].startValue;l[s].startValue=l[s].currentValue=l[s].endValue,l[s].endValue=u,V.isEmptyObject(L)||(l[s].easing=C.easing),R.debug&&console.log("reverse tweensContainer ("+s+"): "+JSON.stringify(l[s]),E)}k=l}else if("start"===j){for(var c in N(E).tweensContainer&&!0===N(E).isAnimating&&(l=N(E).tweensContainer),W.each(O,function(e,t){if(RegExp("^"+z.Lists.colors.join("$|^")+"$").test(e)){var n=d(t,!0),i=n[0],a=n[1],r=n[2];if(z.RegEx.isHex.test(i)){for(var o=["Red","Green","Blue"],l=z.Values.hexToRgb(i),s=r?z.Values.hexToRgb(r):A,u=0;u<o.length;u++){var c=[l[u]];a&&c.push(a),s!==A&&c.push(s[u]),O[e+o[u]]=c}delete O[e]}}}),O){var h=d(O[c]),g=h[0],m=h[1],f=h[2];c=z.Names.camelCase(c);var p=z.Hooks.getRoot(c),b=!1;if(N(E).isSVG||"tween"===p||!1!==z.Names.prefixCheck(p)[1]||z.Normalizations.registered[p]!==A){(C.display!==A&&null!==C.display&&"none"!==C.display||C.visibility!==A&&"hidden"!==C.visibility)&&/opacity|filter/.test(c)&&!f&&0!==g&&(f=0),C._cacheValues&&l&&l[c]?(f===A&&(f=l[c].endValue+l[c].unitType),b=N(E).rootPropertyValueCache[p]):z.Hooks.registered[c]?f===A?(b=z.getPropertyValue(E,p),f=z.getPropertyValue(E,c,b)):b=z.Hooks.templates[p][1]:f===A&&(f=z.getPropertyValue(E,c));var v,y,w,x=!1;if(f=(v=e(c,f))[0],w=v[1],g=(v=e(c,g))[0].replace(/^([+-\/*])=/,function(e,t){return x=t,""}),y=v[1],f=parseFloat(f)||0,g=parseFloat(g)||0,"%"===y&&(/^(fontSize|lineHeight)$/.test(c)?(g/=100,y="em"):/^scale/.test(c)?(g/=100,y=""):/(Red|Green|Blue)$/i.test(c)&&(g=g/100*255,y="")),/[\/*]/.test(x))y=w;else if(w!==y&&0!==f)if(0===g)y=w;else{S=S||t();var I=/margin|padding|left|right|width|text|word|letter/i.test(c)||/X$/.test(c)||"x"===c?"x":"y";switch(w){case"%":f*="x"==I?S.percentToPxWidth:S.percentToPxHeight;break;case"px":break;default:f*=S[w+"ToPx"]}switch(y){case"%":f*=1/("x"==I?S.percentToPxWidth:S.percentToPxHeight);break;case"px":break;default:f*=1/S[y+"ToPx"]}}switch(x){case"+":g=f+g;break;case"-":g=f-g;break;case"*":g*=f;break;case"/":g=f/g}k[c]={rootPropertyValue:b,startValue:f,currentValue:f,endValue:g,unitType:y,easing:m},R.debug&&console.log("tweensContainer ("+c+"): "+JSON.stringify(k[c]),E)}else R.debug&&console.log("Skipping ["+p+"] due to a lack of browser support.")}k.element=E}k.element&&(z.Values.addClass(E,"velocity-animating"),F.push(k),""===C.queue&&(N(E).tweensContainer=k,N(E).opts=C),N(E).isAnimating=!0,D===$-1?(R.State.calls.push([F,T,C,null,P.resolver]),!1===R.State.isTicking&&(R.State.isTicking=!0,M())):D++)}var S,E=this,C=W.extend({},R.defaults,L),k={};switch(N(E)===A&&R.init(E),parseFloat(C.delay)&&!1!==C.queue&&W.queue(E,C.queue,function(e){R.velocityQueueEntryFlag=!0,N(E).delayTimer={setTimeout:setTimeout(e,parseFloat(C.delay)),next:e}}),C.duration.toString().toLowerCase()){case"fast":C.duration=200;break;case"normal":C.duration=400;break;case"slow":C.duration=600;break;default:C.duration=parseFloat(C.duration)||1}!1!==R.mock&&(!0===R.mock?C.duration=C.delay=1:(C.duration*=parseFloat(R.mock)||1,C.delay*=parseFloat(R.mock)||1)),C.easing=G(C.easing,C.duration),C.begin&&!V.isFunction(C.begin)&&(C.begin=null),C.progress&&!V.isFunction(C.progress)&&(C.progress=null),C.complete&&!V.isFunction(C.complete)&&(C.complete=null),C.display!==A&&null!==C.display&&(C.display=C.display.toString().toLowerCase(),"auto"===C.display&&(C.display=R.CSS.Values.getDisplayType(E))),C.visibility!==A&&null!==C.visibility&&(C.visibility=C.visibility.toString().toLowerCase()),C.mobileHA=C.mobileHA&&R.State.isMobile&&!R.State.isGingerbread,!1===C.queue?C.delay?setTimeout(n,C.delay):n():W.queue(E,C.queue,function(e,t){return!0===t?(P.promise&&P.resolver(T),!0):(R.velocityQueueEntryFlag=!0,void n())}),""!==C.queue&&"fx"!==C.queue||"inprogress"===W.queue(E)[0]||W.dequeue(E)}.call(t)}),(g=W.extend({},R.defaults,L)).loop=parseInt(g.loop),h=2*g.loop-1,g.loop)for(var m=0;m<h;m++){var f={delay:g.delay,progress:g.progress};m===h-1&&(f.display=g.display,f.visibility=g.visibility,f.complete=g.complete),e(T,"reverse",f)}return n()}};(R=W.extend(l,R)).animate=l;var C=B.requestAnimationFrame||t;return R.State.isMobile||_.hidden===A||_.addEventListener("visibilitychange",function(){_.hidden?(C=function(e){return setTimeout(function(){e(!0)},16)},M()):C=B.requestAnimationFrame||t}),e.Velocity=R,e!==B&&(e.fn.velocity=l,e.fn.velocity.defaults=R.defaults),W.each(["Down","Up"],function(e,d){R.Redirects["slide"+d]=function(n,e,t,i,a,r){var o=W.extend({},e),l=o.begin,s=o.complete,u={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},c={};o.display===A&&(o.display="Down"===d?"inline"===R.CSS.Values.getDisplayType(n)?"inline-block":"block":"none"),o.begin=function(){for(var e in l&&l.call(a,a),u){c[e]=n.style[e];var t=R.CSS.getPropertyValue(n,e);u[e]="Down"===d?[t,0]:[0,t]}c.overflow=n.style.overflow,n.style.overflow="hidden"},o.complete=function(){for(var e in c)n.style[e]=c[e];s&&s.call(a,a),r&&r.resolver(a)},R(n,u,o)}}),W.each(["In","Out"],function(e,u){R.Redirects["fade"+u]=function(e,t,n,i,a,r){var o=W.extend({},t),l={opacity:"In"===u?1:0},s=o.complete;o.complete=n!==i-1?o.begin=null:function(){s&&s.call(a,a),r&&r.resolver(a)},o.display===A&&(o.display="In"===u?"auto":"none"),R(this,l,o)}}),R}function v(e){return-e.tension*e.x-e.friction*e.v}function y(e,t,n){var i={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:i.v,dv:v(i)}}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,document)}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=t():e.ScrollMagic=t()}(void 0,function(){function j(){}j.version="2.0.5",window.addEventListener("mousewheel",function(){});var P="data-scrollmagic-pin-spacer";j.Controller=function(e){function t(){if(f&&c){var e=F.type.Array(c)?c:u.slice(0);c=!1;var t=d,n=(d=l.scrollPos())-t;0!=n&&(h=0<n?"FORWARD":r),h===r&&e.reverse(),e.forEach(function(e){e.update(!0)})}}function n(){i=F.rAF(t)}var i,a,r="REVERSE",o=S.defaults,l=this,s=F.extend({},o,e),u=[],c=!1,d=0,h="PAUSED",g=!0,m=0,f=!0,p=function(){0<s.refreshInterval&&(a=window.setTimeout(x,s.refreshInterval))},b=function(){return s.vertical?F.get.scrollTop(s.container):F.get.scrollLeft(s.container)},v=function(){return s.vertical?F.get.height(s.container):F.get.width(s.container)},y=this._setScrollPos=function(e){s.vertical?g?window.scrollTo(F.get.scrollLeft(),e):s.container.scrollTop=e:g?window.scrollTo(e,F.get.scrollTop()):s.container.scrollLeft=e},w=function(e){"resize"==e.type&&(m=v(),h="PAUSED"),!0!==c&&(c=!0,n())},x=function(){if(!g&&m!=v()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}s.container.dispatchEvent(t)}u.forEach(function(e){e.refresh()}),p()};this._options=s;function I(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t}return this.addScene=function(e){if(F.type.Array(e))e.forEach(function(e){l.addScene(e)});else if(e instanceof j.Scene)if(e.controller()!==l)e.addTo(l);else if(u.indexOf(e)<0)for(var t in u.push(e),u=I(u),e.on("shift.controller_sort",function(){u=I(u)}),s.globalSceneOptions)e[t]&&e[t].call(e,s.globalSceneOptions[t]);return l},this.removeScene=function(e){if(F.type.Array(e))e.forEach(function(e){l.removeScene(e)});else{var t=u.indexOf(e);-1<t&&(e.off("shift.controller_sort"),u.splice(t,1),e.remove())}return l},this.updateScene=function(e,t){return F.type.Array(e)?e.forEach(function(e){l.updateScene(e,t)}):t?e.update(!0):!0!==c&&e instanceof j.Scene&&(-1==(c=c||[]).indexOf(e)&&c.push(e),c=I(c),n()),l},this.update=function(e){return w({type:"resize"}),e&&t(),l},this.scrollTo=function(e,t){if(F.type.Number(e))y.call(s.container,e,t);else if(e instanceof j.Scene)e.controller()===l&&l.scrollTo(e.scrollOffset(),t);else if(F.type.Function(e))y=e;else{var n=F.get.elements(e)[0];if(n){for(;n.parentNode.hasAttribute(P);)n=n.parentNode;var i=s.vertical?"top":"left",a=F.get.offset(s.container),r=F.get.offset(n);g||(a[i]-=l.scrollPos()),l.scrollTo(r[i]-a[i],t)}}return l},this.scrollPos=function(e){return arguments.length?(F.type.Function(e)&&(b=e),l):b.call(l)},this.info=function(e){var t={size:m,vertical:s.vertical,scrollPos:d,scrollDirection:h,container:s.container,isDocument:g};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(){return l},this.enabled=function(e){return arguments.length?(f!=e&&(f=!!e,l.updateScene(u,!0)),l):f},this.destroy=function(e){window.clearTimeout(a);for(var t=u.length;t--;)u[t].destroy(e);return s.container.removeEventListener("resize",w),s.container.removeEventListener("scroll",w),F.cAF(i),null},function(){for(var e in s)o.hasOwnProperty(e)||delete s[e];if(s.container=F.get.elements(s.container)[0],!s.container)throw"ScrollMagic.Controller init failed.";(g=s.container===window||s.container===document.body||!document.body.contains(s.container))&&(s.container=window),m=v(),s.container.addEventListener("resize",w),s.container.addEventListener("scroll",w),s.refreshInterval=parseInt(s.refreshInterval)||o.refreshInterval,p()}(),l};var S={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};j.Controller.addOption=function(e,t){S.defaults[e]=t},j.Controller.extend=function(e){var t=this;j.Controller=function(){return t.apply(this,arguments),this.$super=F.extend({},this),e.apply(this,arguments)||this},F.extend(j.Controller,t),j.Controller.prototype=t.prototype,j.Controller.prototype.constructor=j.Controller},j.Scene=function(e){var n,s,u="BEFORE",c="DURING",d="AFTER",i=H.defaults,h=this,g=F.extend({},i,e),m=u,f=0,l={start:0,end:0},p=0,a=!0,o={};this.on=function(e,a){return F.type.Function(a)&&(e=e.trim().split(" ")).forEach(function(e){var t=e.split("."),n=t[0],i=t[1];"*"!=n&&(o[n]||(o[n]=[]),o[n].push({namespace:i||"",callback:a}))}),h},this.off=function(e,r){return e&&(e=e.trim().split(" ")).forEach(function(e){var t=e.split("."),n=t[0],a=t[1]||"";("*"===n?Object.keys(o):[n]).forEach(function(e){for(var t=o[e]||[],n=t.length;n--;){var i=t[n];!i||a!==i.namespace&&"*"!==a||r&&r!=i.callback||t.splice(n,1)}t.length||delete o[e]})}),h},this.trigger=function(e,t){if(e){var n=e.trim().split("."),i=n[0],a=n[1],r=o[i];r&&r.forEach(function(e){a&&a!==e.namespace||e.callback.call(h,new j.Event(i,e.namespace,h,t))})}return h},h.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?y():"reverse"===e.what&&h.update())}).on("shift.internal",function(){t(),h.update()}),this.addTo=function(e){return e instanceof j.Controller&&s!=e&&(s&&s.removeScene(h),s=e,I(),r(!0),y(!0),t(),s.info("container").addEventListener("resize",w),e.addScene(h),h.trigger("add",{controller:s}),h.update()),h},this.enabled=function(e){return arguments.length?(a!=e&&(a=!!e,h.update(!0)),h):a},this.remove=function(){if(s){s.info("container").removeEventListener("resize",w);var e=s;s=void 0,e.removeScene(h),h.trigger("remove")}return h},this.destroy=function(e){return h.trigger("destroy",{reset:e}),h.remove(),h.off("*.*"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&a){var t,n=s.info("scrollPos");t=0<g.duration?(n-l.start)/(l.end-l.start):n>=l.start?1:0,h.trigger("update",{startPos:l.start,endPos:l.end,scrollPos:n}),h.progress(t)}else b&&m===c&&O(!0);else s.updateScene(h,!1);return h},this.refresh=function(){return r(),y(),h},this.progress=function(e){if(arguments.length){var t=!1,n=m,i=s?s.info("scrollDirection"):"PAUSED",a=g.reverse||f<=e;if(0===g.duration?(t=f!=e,m=0===(f=e<1&&a?0:1)?u:c):e<0&&m!==u&&a?(m=u,t=!(f=0)):0<=e&&e<1&&a?(f=e,m=c,t=!0):1<=e&&m!==d?(f=1,m=d,t=!0):m!==c||a||O(),t){var r={progress:f,state:m,scrollDirection:i},o=m!=n,l=function(e){h.trigger(e,r)};o&&n!==c&&(l("enter"),l(n===u?"start":"end")),l("progress"),o&&m!==c&&(l(m===u?"start":"end"),l("leave"))}return h}return f};var b,v,t=function(){l={start:p+g.offset},s&&g.triggerElement&&(l.start-=s.info("size")*g.triggerHook),l.end=l.start+g.duration},r=function(e){if(n){var t="duration";S(t,n.call(h))&&!e&&(h.trigger("change",{what:t,newval:g[t]}),h.trigger("shift",{reason:t}))}},y=function(e){var t=0,n=g.triggerElement;if(s&&n){for(var i=s.info(),a=F.get.offset(i.container),r=i.vertical?"top":"left";n.parentNode.hasAttribute(P);)n=n.parentNode;var o=F.get.offset(n);i.isDocument||(a[r]-=s.scrollPos()),t=o[r]-a[r]}var l=t!=p;p=t,l&&!e&&h.trigger("shift",{reason:"triggerElementPosition"})},w=function(){0<g.triggerHook&&h.trigger("shift",{reason:"containerResize"})},x=F.extend(H.validate,{duration:function(t){if(F.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)){var e=parseFloat(t)/100;t=function(){return s?s.info("size")*e:0}}if(F.type.Function(t)){n=t;try{t=parseFloat(n())}catch(e){t=-1}}if(t=parseFloat(t),!F.type.Number(t)||t<0)throw n=n&&void 0,0;return t}}),I=function(e){(e=arguments.length?[e]:Object.keys(x)).forEach(function(t){var n;if(x[t])try{n=x[t](g[t])}catch(e){n=i[t]}finally{g[t]=n}})},S=function(e,t){var n=!1,i=g[e];return g[e]!=t&&(g[e]=t,I(e),n=i!=g[e]),n},E=function(t){h[t]||(h[t]=function(e){return arguments.length?("duration"===t&&(n=void 0),S(t,e)&&(h.trigger("change",{what:t,newval:g[t]}),-1<H.shifts.indexOf(t)&&h.trigger("shift",{reason:t})),h):g[t]})};this.controller=function(){return s},this.state=function(){return m},this.scrollOffset=function(){return l.start},this.triggerPosition=function(){var e=g.offset;return s&&(e+=g.triggerElement?p:s.info("size")*h.triggerHook()),e},h.on("shift.internal",function(e){var t="duration"===e.reason;(m===d&&t||m===c&&0===g.duration)&&O(),t&&L()}).on("progress.internal",function(){O()}).on("add.internal",function(){L()}).on("destroy.internal",function(e){h.removePin(e.reset)});function C(){s&&b&&m===c&&!s.info("isDocument")&&O()}function k(){s&&b&&m===c&&((v.relSize.width||v.relSize.autoFullWidth)&&F.get.width(window)!=F.get.width(v.spacer.parentNode)||v.relSize.height&&F.get.height(window)!=F.get.height(v.spacer.parentNode))&&L()}function T(e){s&&b&&m===c&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))}var O=function(e){if(b&&s){var t=s.info(),n=v.spacer.firstChild;if(e||m!==c){var i={position:v.inFlow?"relative":"absolute",top:0,left:0},a=F.css(n,"position")!=i.position;v.pushFollowers?0<g.duration&&(m===d&&0===parseFloat(F.css(v.spacer,"padding-top"))||m===u&&0===parseFloat(F.css(v.spacer,"padding-bottom")))&&(a=!0):i[t.vertical?"top":"left"]=g.duration*f,F.css(n,i),a&&L()}else{"fixed"!=F.css(n,"position")&&(F.css(n,{position:"fixed"}),L());var r=F.get.offset(v.spacer,!0),o=g.reverse||0===g.duration?t.scrollPos-l.start:Math.round(f*g.duration*10)/10;r[t.vertical?"top":"left"]+=o,F.css(v.spacer.firstChild,{top:r.top,left:r.left})}}},L=function(){if(b&&s&&v.inFlow){var e=m===c,t=s.info("vertical"),n=v.spacer.firstChild,i=F.isMarginCollapseType(F.css(v.spacer,"display")),a={};v.relSize.width||v.relSize.autoFullWidth?e?F.css(b,{width:F.get.width(v.spacer)}):F.css(b,{width:"100%"}):(a["min-width"]=F.get.width(t?b:n,!0,!0),a.width=e?a["min-width"]:"auto"),v.relSize.height?e?F.css(b,{height:F.get.height(v.spacer)-(v.pushFollowers?g.duration:0)}):F.css(b,{height:"100%"}):(a["min-height"]=F.get.height(t?n:b,!0,!i),a.height=e?a["min-height"]:"auto"),v.pushFollowers&&(a["padding"+(t?"Top":"Left")]=g.duration*f,a["padding"+(t?"Bottom":"Right")]=g.duration*(1-f)),F.css(v.spacer,a)}};this.setPin=function(e,t){if(t=F.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},t),!(e=F.get.elements(e)[0]))return h;if("fixed"===F.css(e,"position"))return h;if(b){if(b===e)return h;h.removePin()}var n=(b=e).parentNode.style.display,i=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];b.parentNode.style.display="none";var a="absolute"!=F.css(b,"position"),r=F.css(b,i.concat(["display"])),o=F.css(b,["width","height"]);b.parentNode.style.display=n,!a&&t.pushFollowers&&(t.pushFollowers=!1);var l=b.parentNode.insertBefore(document.createElement("div"),b),s=F.extend(r,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||F.extend(s,F.css(b,["width","height"])),F.css(l,s),l.setAttribute(P,""),F.addClass(l,t.spacerClass),v={spacer:l,relSize:{width:"%"===o.width.slice(-1),height:"%"===o.height.slice(-1),autoFullWidth:"auto"===o.width&&a&&F.isMarginCollapseType(r.display)},pushFollowers:t.pushFollowers,inFlow:a},!b.___origStyle){b.___origStyle={};var u=b.style;i.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(e){b.___origStyle[e]=u[e]||""})}return v.relSize.width&&F.css(l,{width:o.width}),v.relSize.height&&F.css(l,{height:o.height}),l.appendChild(b),F.css(b,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(v.relSize.width||v.relSize.autoFullWidth)&&F.css(b,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",C),window.addEventListener("resize",C),window.addEventListener("resize",k),b.addEventListener("mousewheel",T),b.addEventListener("DOMMouseScroll",T),O(),h},this.removePin=function(e){if(b){if(m===c&&O(!0),e||!s){var t=v.spacer.firstChild;if(t.hasAttribute(P)){var n=v.spacer.style;margins={},["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(e){margins[e]=n[e]||""}),F.css(t,margins)}v.spacer.parentNode.insertBefore(t,v.spacer),v.spacer.parentNode.removeChild(v.spacer),b.parentNode.hasAttribute(P)||(F.css(b,b.___origStyle),delete b.___origStyle)}window.removeEventListener("scroll",C),window.removeEventListener("resize",C),window.removeEventListener("resize",k),b.removeEventListener("mousewheel",T),b.removeEventListener("DOMMouseScroll",T),b=void 0}return h};var $,D=[];return h.on("destroy.internal",function(e){h.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=F.get.elements(e);return 0!==n.length&&F.type.String(t)&&(0<D.length&&h.removeClassToggle(),$=t,D=n,h.on("enter.internal_class leave.internal_class",function(e){var t="enter"===e.type?F.addClass:F.removeClass;D.forEach(function(e){t(e,$)})})),h},this.removeClassToggle=function(e){return e&&D.forEach(function(e){F.removeClass(e,$)}),h.off("start.internal_class end.internal_class"),$=void 0,D=[],h},function(){for(var e in g)i.hasOwnProperty(e)||delete g[e];for(var t in i)E(t);I()}(),h};var H={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!F.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=F.get.elements(e)[0];if(!t)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(F.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};j.Scene.addOption=function(e,t,n,i){e in H.defaults||(H.defaults[e]=t,H.validate[e]=n,i&&H.shifts.push(e))},j.Scene.extend=function(e){var t=this;j.Scene=function(){return t.apply(this,arguments),this.$super=F.extend({},this),e.apply(this,arguments)||this},F.extend(j.Scene,t),j.Scene.prototype=t.prototype,j.Scene.prototype.constructor=j.Scene},j.Event=function(e,t,n,i){for(var a in i=i||{})this[a]=i[a];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var F=j._util=function(o){function l(e){return parseFloat(e)||0}function s(e){return e.currentStyle?e.currentStyle:o.getComputedStyle(e)}function i(e,t,n,i){if((t=t===document?o:t)===o)i=!1;else if(!d.DomElement(t))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var a=(n?t["offset"+e]||t["outer"+e]:t["client"+e]||t["inner"+e])||0;if(n&&i){var r=s(t);a+="Height"===e?l(r.marginTop)+l(r.marginBottom):l(r.marginLeft)+l(r.marginRight)}return a}function u(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}var n,e={};e.extend=function(e){for(e=e||{},n=1;n<arguments.length;n++)if(arguments[n])for(var t in arguments[n])arguments[n].hasOwnProperty(t)&&(e[t]=arguments[n][t]);return e},e.isMarginCollapseType=function(e){return-1<["block","flex","list-item","table","-webkit-box"].indexOf(e)};var a=0,t=["ms","moz","webkit","o"],r=o.requestAnimationFrame,c=o.cancelAnimationFrame;for(n=0;!r&&n<t.length;++n)r=o[t[n]+"RequestAnimationFrame"],c=o[t[n]+"CancelAnimationFrame"]||o[t[n]+"CancelRequestAnimationFrame"];r=r||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=o.setTimeout(function(){e(t+n)},n);return a=t+n,i},c=c||function(e){o.clearTimeout(e)},e.rAF=r.bind(o),e.cAF=c.bind(o);var d=e.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};d.String=function(e){return"string"===d(e)},d.Function=function(e){return"function"===d(e)},d.Array=function(e){return Array.isArray(e)},d.Number=function(e){return!d.Array(e)&&0<=e-parseFloat(e)+1},d.DomElement=function(e){return"object"==("undefined"==typeof HTMLElement?"undefined":_typeof2(HTMLElement))?e instanceof HTMLElement:e&&"object"==(void 0===e?"undefined":_typeof2(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var h=e.get={};return h.elements=function(e){var t=[];if(d.String(e))try{e=document.querySelectorAll(e)}catch(e){return t}if("nodelist"===d(e)||d.Array(e))for(var n=0,i=t.length=e.length;n<i;n++){var a=e[n];t[n]=d.DomElement(a)?a:h.elements(a)}else!d.DomElement(e)&&e!==document&&e!==o||(t=[e]);return t},h.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:o.pageYOffset||0},h.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:o.pageXOffset||0},h.width=function(e,t,n){return i("width",e,t,n)},h.height=function(e,t,n){return i("height",e,t,n)},h.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var i=e.getBoundingClientRect();n.top=i.top,n.left=i.left,t||(n.top+=h.scrollTop(),n.left+=h.scrollLeft())}return n},e.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},e.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},e.css=function(e,t){if(d.String(t))return s(e)[u(t)];if(d.Array(t)){var n={},i=s(e);return t.forEach(function(e){n[e]=i[u(e)]}),n}for(var a in t){var r=t[a];r==parseFloat(r)&&(r+="px"),e.style[u(a)]=r}},e}(window||{});return j}),function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic","velocity"],t):"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?t(require("scrollmagic"),require("velocity")):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.Velocity||e.jQuery&&e.jQuery.Velocity)}(void 0,function(e,d){var h=0;e.Scene.extend(function(){var i,a,r,o,l=this,s=e._util,t=0;l.on("progress.plugin_velocity",function(){c()}),l.on("destroy.plugin_velocity",function(e){l.off("*.plugin_velocity"),l.removeVelocity(e.reset)});function u(e,t){if(s.type.Array(e))e.forEach(function(e){u(e,t)});else{var n=d.Utilities.data(e,o);n&&n.reverseProps&&(d(e,n.reverseProps,t),void 0!==t.queue&&d.Utilities.dequeue(e,t.queue))}}var c=function(){if(i){var e=l.progress();e!=t&&(0===l.duration()&&(0<e?function t(e,n,i){s.type.Array(e)?e.forEach(function(e){t(e,n,i)}):(d.Utilities.data(e,o)||d.Utilities.data(e,o,{reverseProps:s.css(e,Object.keys(a))}),d(e,n,i),void 0!==i.queue&&d.Utilities.dequeue(e,i.queue))}(i,a,r):u(i,r)),t=e)}};l.setVelocity=function(e,t,n){return i&&l.removeVelocity(),i=s.get.elements(e),a=t||{},o="ScrollMagic.animation.velocity["+h+++"]",void 0!==(r=n||{}).queue&&(r.queue=o+"_queue"),c(),l},l.removeVelocity=function(e){return i&&(void 0!==r.queue&&d(i,"stop",r.queue),e&&u(i,{duration:0}),i.forEach(function(e){d.Utilities.removeData(e,o)}),i=a=r=o=void 0),l}})}),function(o,l,s,u){function c(e,t){var n=this;"object"==(void 0===t?"undefined":_typeof2(t))&&(delete t.refresh,delete t.render,o.extend(this,t)),this.$element=o(e),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var i=(this.position+"").toLowerCase().match(/\S+/g)||[];if(i.length<1&&i.push("center"),1==i.length&&i.push(i[0]),"top"!=i[0]&&"bottom"!=i[0]&&"left"!=i[1]&&"right"!=i[1]||(i=[i[1],i[0]]),this.positionX!==u&&(i[0]=this.positionX.toLowerCase()),this.positionY!==u&&(i[1]=this.positionY.toLowerCase()),n.positionX=i[0],n.positionY=i[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=o("<div />").prependTo(this.mirrorContainer);var a=this.$element.find(">.parallax-slider"),r=!1;0==a.length?this.$slider=o("<img />").prependTo(this.$mirror):(this.$slider=a.prependTo(this.$mirror),r=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){n.naturalHeight&&n.naturalWidth||(n.naturalHeight=this.naturalHeight||this.height||1,n.naturalWidth=this.naturalWidth||this.width||1),n.aspectRatio=n.naturalWidth/n.naturalHeight,c.isSetup||c.setup(),c.sliders.push(n),c.isFresh=!1,c.requestRender()}),r||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||0<a.length)&&this.$slider.trigger("load")}!function(){for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!l.requestAnimationFrame;++t)l.requestAnimationFrame=l[e[t]+"RequestAnimationFrame"],l.cancelAnimationFrame=l[e[t]+"CancelAnimationFrame"]||l[e[t]+"CancelRequestAnimationFrame"];l.requestAnimationFrame||(l.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=l.setTimeout(function(){e(t+n)},n);return a=t+n,i}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(e){clearTimeout(e)})}(),o.extend(c.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,mirrorContainer:"body",refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var e,t=c.winHeight,n=c.docHeight,i=Math.min(this.boxOffsetTop,n-t),a=Math.max(this.boxOffsetTop+this.boxHeight-t,0),r=this.boxHeight+(i-a)*(1-this.speed)|0,o=(this.boxOffsetTop-i)*(1-this.speed)|0;r*this.aspectRatio>=this.boxWidth?(this.imageWidth=r*this.aspectRatio|0,this.imageHeight=r,this.offsetBaseTop=o,e=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-e:isNaN(this.positionX)?this.offsetLeft=-e/2|0:this.offsetLeft=Math.max(this.positionX,-e)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,e=this.imageHeight-r,"top"==this.positionY?this.offsetBaseTop=o:"bottom"==this.positionY?this.offsetBaseTop=o-e:isNaN(this.positionY)?this.offsetBaseTop=o-e/2|0:this.offsetBaseTop=o+Math.max(this.positionY,-e))},render:function(){var e=c.scrollTop,t=c.scrollLeft,n=this.overScrollFix?c.overScroll:0,i=e+c.winHeight;this.boxOffsetBottom>e&&this.boxOffsetTop<=i?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-e,this.mirrorLeft=this.boxOffsetLeft-t,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d("+this.mirrorLeft+"px, "+(this.mirrorTop-n)+"px, 0px)",visibility:this.visibility,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d("+this.offsetLeft+"px, "+this.offsetTop+"px, 0px)",position:"absolute",height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),o.extend(c,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var t=this,e=o(s),i=o(l),n=function(){c.winHeight=i.height(),c.winWidth=i.width(),c.docHeight=e.height(),c.docWidth=e.width()},a=function(){var e=i.scrollTop(),t=c.docHeight-c.winHeight,n=c.docWidth-c.winWidth;c.scrollTop=Math.max(0,Math.min(t,e)),c.scrollLeft=Math.max(0,Math.min(n,i.scrollLeft())),c.overScroll=Math.max(e-t,Math.min(e,0))};i.on("resize.px.parallax load.px.parallax",function(){n(),t.refresh(),c.isFresh=!1,c.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){a(),c.requestRender()}),n(),a(),this.isReady=!0;var r=-1;!function e(){if(r==l.pageYOffset)return l.requestAnimationFrame(e),!1;r=l.pageYOffset,t.render(),l.requestAnimationFrame(e)}()}},configure:function(e){"object"==(void 0===e?"undefined":_typeof2(e))&&(delete e.refresh,delete e.render,o.extend(this.prototype,e))},refresh:function(){o.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),o.each(this.sliders,function(){this.render()})},requestRender:function(){this.render(),this.isBusy=!1},destroy:function(e){var t,n=o(e).data("px.parallax");for(n.$mirror.remove(),t=0;t<this.sliders.length;t+=1)this.sliders[t]==n&&this.sliders.splice(t,1);o(e).data("px.parallax",!1),0===this.sliders.length&&(o(l).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,c.isSetup=!1)}});var e=o.fn.parallax;o.fn.parallax=function(n){return this.each(function(){var e=o(this),t="object"==(void 0===n?"undefined":_typeof2(n))&&n;this==l||this==s||e.is("body")?c.configure(t):e.data("px.parallax")?"object"==(void 0===n?"undefined":_typeof2(n))&&o.extend(e.data("px.parallax"),t):(t=o.extend({},e.data(),t),e.data("px.parallax",new c(this,t))),"string"==typeof n&&("destroy"==n?c.destroy(this):c[n]())})},o.fn.parallax.Constructor=c,o.fn.parallax.noConflict=function(){return o.fn.parallax=e,this},o(function(){o('[data-parallax="scroll"]').parallax()})}(jQuery,window,document);var _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(c){return c.fn.tilt=function(t){function n(){this.ticking||(requestAnimationFrame(s.bind(this)),this.ticking=!0)}function e(){var e=this;void 0!==this.timeout&&clearTimeout(this.timeout),c(this).css({transition:this.settings.speed+"ms "+this.settings.easing}),this.settings.glare&&this.glareElement.css({transition:"opacity "+this.settings.speed+"ms "+this.settings.easing}),this.timeout=setTimeout(function(){c(e).css({transition:""}),e.settings.glare&&e.glareElement.css({transition:""})},this.settings.speed)}function i(e){return void 0===e&&(e={pageX:c(this).offset().left+c(this).outerWidth()/2,pageY:c(this).offset().top+c(this).outerHeight()/2}),{x:e.pageX,y:e.pageY}}function a(){var e=c(this).outerWidth(),t=c(this).outerHeight(),n=c(this).offset().left,i=c(this).offset().top,a=(this.mousePositions.x-n)/e,r=(this.mousePositions.y-i)/t,o=(this.settings.maxTilt/2-a*this.settings.maxTilt).toFixed(2),l=(r*this.settings.maxTilt-this.settings.maxTilt/2).toFixed(2),s=Math.atan2(this.mousePositions.x-(n+e/2),-(this.mousePositions.y-(i+t/2)))*(180/Math.PI);return{tiltX:o,tiltY:l,percentageX:100*a,percentageY:100*r,angle:s}}var r=function(){this.ticking=!1,c(this).css({"will-change":"transform"}),e.call(this),c(this).trigger("tilt.mouseEnter")},o=function(e){this.mousePositions=i(e),n.call(this)},l=function(){e.call(this),this.reset=!0,n.call(this),c(this).trigger("tilt.mouseLeave")},s=function(){return this.transforms=a.call(this),this.reset?(this.reset=!1,c(this).css("transform","perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg)"),void(this.settings.glare&&(this.glareElement.css("transform","rotate(180deg) translate(-50%, -50%)"),this.glareElement.css("opacity","0")))):(c(this).css("transform","perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.disableAxis?0:this.transforms.tiltY)+"deg) rotateY("+("y"===this.settings.disableAxis?0:this.transforms.tiltX)+"deg) scale3d("+this.settings.scale+","+this.settings.scale+","+this.settings.scale+")"),this.settings.glare&&(this.glareElement.css("transform","rotate("+this.transforms.angle+"deg) translate(-50%, -50%)"),this.glareElement.css("opacity",""+this.transforms.percentageY*this.settings.maxGlare/100)),c(this).trigger("change",[this.transforms]),void(this.ticking=!1))},u=function(){this.glareElement.css({width:""+2*c(this).outerWidth(),height:""+2*c(this).outerWidth()})};return c.fn.tilt.destroy=function(){c(this).each(function(){c(this).find(".js-tilt-glare").remove(),c(this).css({"will-change":"",transform:""}),c(this).off("mousemove mouseenter mouseleave")})},c.fn.tilt.getValues=function(){var e=[];return c(this).each(function(){this.mousePositions=i.call(this),e.push(a.call(this))}),e},c.fn.tilt.reset=function(){c(this).each(function(){var e=this;this.mousePositions=i.call(this),this.settings=c(this).data("settings"),l.call(this),setTimeout(function(){e.reset=!1},this.settings.transition)})},this.each(function(){var e=this;this.settings=c.extend({maxTilt:c(this).is("[data-tilt-max]")?c(this).data("tilt-max"):20,perspective:c(this).is("[data-tilt-perspective]")?c(this).data("tilt-perspective"):300,easing:c(this).is("[data-tilt-easing]")?c(this).data("tilt-easing"):"cubic-bezier(.03,.98,.52,.99)",scale:c(this).is("[data-tilt-scale]")?c(this).data("tilt-scale"):"1",speed:c(this).is("[data-tilt-speed]")?c(this).data("tilt-speed"):"400",transition:!c(this).is("[data-tilt-transition]")||c(this).data("tilt-transition"),disableAxis:c(this).is("[data-tilt-disable-axis]")?c(this).data("tilt-disable-axis"):null,axis:c(this).is("[data-tilt-axis]")?c(this).data("tilt-axis"):null,reset:!c(this).is("[data-tilt-reset]")||c(this).data("tilt-reset"),glare:!!c(this).is("[data-tilt-glare]")&&c(this).data("tilt-glare"),maxGlare:c(this).is("[data-tilt-maxglare]")?c(this).data("tilt-maxglare"):1},t),null!==this.settings.axis&&(console.warn("Tilt.js: the axis setting has been renamed to disableAxis. See https://github.com/gijsroge/tilt.js/pull/26 for more information"),this.settings.disableAxis=this.settings.axis),this.init=function(){c(e).data("settings",e.settings),e.settings.glare&&function(){var e=this.settings.glarePrerender;if(e||c(this).append('<div class="js-tilt-glare"><div class="js-tilt-glare-inner"></div></div>'),this.glareElementWrapper=c(this).find(".js-tilt-glare"),this.glareElement=c(this).find(".js-tilt-glare-inner"),!e){this.glareElementWrapper.css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}).css({overflow:"hidden","pointer-events":"none"}),this.glareElement.css({position:"absolute",top:"50%",left:"50%","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:""+2*c(this).outerWidth(),height:""+2*c(this).outerWidth(),transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"})}}.call(e),function(){c(this).on("mousemove",o),c(this).on("mouseenter",r),this.settings.reset&&c(this).on("mouseleave",l),this.settings.glare&&c(window).on("resize",u.bind(this))}.call(e)},this.init()})},c("[data-tilt]").tilt(),!0});